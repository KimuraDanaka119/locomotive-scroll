(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _environment = require('./utils/environment');

var _html = require('./utils/html');

var _globals = require('./utils/globals');

var _globals2 = _interopRequireDefault(_globals);

var _modules = require('./modules');

var modules = _interopRequireWildcard(_modules);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } /* jshint esnext: true */


// Basic modules


var App = function () {
    function App() {
        var _this = this;

        _classCallCheck(this, App);

        this.modules = modules;
        this.currentModules = [];

        _environment.$document.on('initModules.App', function (event) {
            if (event.firstBlood) {
                _this.initGlobals().initModules();
            } else {
                _this.deleteModules().initModules();
            }
        });
    }

    /**
     * Execute global functions and settings
     * @return {Object}
     */


    App.prototype.initGlobals = function initGlobals() {
        (0, _globals2.default)();
        return this;
    };

    /**
     * Destroy all existing modules
     * @return  {Object}  this  Allows chaining
     */


    App.prototype.deleteModules = function deleteModules() {
        // Loop modules
        var i = this.currentModules.length;

        // Destroy all modules
        while (i--) {
            this.currentModules[i].destroy();
            this.currentModules.splice(i);
        }

        return this;
    };

    /**
     * Find modules and initialize them
     * @return  {Object}  this  Allows chaining
     */


    App.prototype.initModules = function initModules() {
        // Elements with module
        var moduleEls = document.querySelectorAll('[data-module]');

        // Loop through elements
        var i = 0;
        var elsLen = moduleEls.length;

        for (; i < elsLen; i++) {

            // Current element
            var el = moduleEls[i];

            // All data- attributes considered as options
            var options = (0, _html.getNodeData)(el);

            // Add current DOM element and jQuery element
            options.el = el;
            options.$el = $(el);

            // Module does exist at this point
            var attr = options.module;

            // Splitting modules found in the data-attribute
            var moduleIdents = attr.replace(/\s/g, '').split(',');

            // Loop modules
            var j = 0;
            var modulesLen = moduleIdents.length;

            for (; j < modulesLen; j++) {
                var moduleAttr = moduleIdents[j];

                if (typeof this.modules[moduleAttr] === 'function') {
                    var module = new this.modules[moduleAttr](options);
                    this.currentModules.push(module);
                }
            }
        }

        return this;
    };

    return App;
}();

// IIFE for loading the application
// ==========================================================================


(function () {
    window.App = new App();
    _environment.$document.trigger({
        type: 'initModules.App',
        firstBlood: true
    });

    _environment.$document.on('SmoothScroll.isReady', function (event) {
        _environment.$body.addClass('is-loaded');
    });
})();

},{"./modules":2,"./utils/environment":6,"./utils/globals":7,"./utils/html":8}],2:[function(require,module,exports){
/* jshint esnext: true */
// export {default as SmoothScroll} from './modules/SmoothScroll';
"use strict";

},{}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _environment = require('../utils/environment');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } /* jshint esnext: true */


/**
 * Abstract module
 * Gives access to generic jQuery nodes
 */
var _class = function _class(options) {
    _classCallCheck(this, _class);

    this.$document = _environment.$document;
    this.$window = _environment.$window;
    this.$html = _environment.$html;
    this.$body = _environment.$body;
    this.$el = options.$el;
    this.el = options.el;
};

exports.default = _class;

},{"../utils/environment":6}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _environment = require('../utils/environment');

var _throttledResize = require('throttled-resize');

var _throttledResize2 = _interopRequireDefault(_throttledResize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } } /* jshint esnext: true */


/**
 * Manage animation of elements on the page according to scroll position.
 *
 * @todo  Manage some options (normally from data attributes) with constructor options (ex.: set repeat for all)
 * @todo  Method to get the distance (as percentage) of an element in the viewport
 */
var _class = function () {
    function _class() {
        _classCallCheck(this, _class);

        this.scroll = {
            x: 0,
            y: 0,
            direction: ''
        };

        window.App.scroll = this.scroll;

        this.windowHeight = _environment.$window.height();
        this.windowMiddle = this.windowHeight / 2;

        this.selector = '.js-anim';

        // Set the scrollable container for the smoothscroll module
        this.$el = $('#js-scroll');

        this.animatedElements = [];

        this.requestId = undefined;

        this.init();
    }

    /**
     * Initialize scrolling animations
     */


    _class.prototype.init = function init() {
        var _this = this;

        this.addElements();

        var resize = new _throttledResize2.default();
        resize.on('resize:end', function () {
            return _this.updateElements();
        });

        _environment.$document.on('scrollTo.Scroll', function (options) {
            return _this.scrollTo(options.value);
        });
        // Update event
        _environment.$document.on('update.Scroll', function (event, options) {
            return _this.updateElements(options);
        });
        // Render event
        _environment.$document.on('render.Scroll', function () {
            return _this.renderAnimations(false);
        });

        // Rebuild event
        _environment.$document.on('rebuild.Scroll', function () {
            _this.scrollTo(0);
            _this.updateElements();
        });
    };

    /**
     * Find all animatable elements.
     * Called on page load and any subsequent updates.
     */


    _class.prototype.addElements = function addElements() {
        var _this2 = this;

        this.animatedElements = [];

        var $elements = $(this.selector);
        var i = 0;
        var len = $elements.length;

        for (; i < len; i++) {
            var $element = $elements.eq(i);
            var elementTarget = $element.data('target');
            var $target = elementTarget ? $(elementTarget) : $element;
            var elementOffset = $target.offset().top;
            var elementLimit = elementOffset + $element.outerHeight();

            // If elements loses its animation after scrolling past it
            var elementRepeat = typeof $element.data('repeat') === 'string';

            var elementInViewClass = $element.data('inview-class');
            if (typeof elementInViewClass === 'undefined') {
                elementInViewClass = 'is-show';
            }

            // Don't add element if it already has its in view class and doesn't repeat
            if (elementRepeat || !$element.hasClass(elementInViewClass)) {
                this.animatedElements[i] = {
                    $element: $element,
                    offset: Math.round(elementOffset),
                    repeat: elementRepeat,
                    limit: elementLimit,
                    inViewClass: elementInViewClass
                };
            }
        };

        this.requestId = window.requestAnimationFrame(function () {
            return _this2.renderAnimations();
        });
    };

    /**
     * Loop through all animatable elements and apply animation method(s).
     */


    _class.prototype.animateElements = function animateElements() {
        var len = this.animatedElements.length;
        var i = 0;
        var removeIndexes = [];
        for (; i < len; i++) {
            var element = this.animatedElements[i];

            // If the element's visibility must not be manipulated any further, remove it from the list
            if (this.toggleElementClasses(element, i)) {
                removeIndexes.push(i);
            }
        }

        // Remove animated elements after looping through elements
        i = removeIndexes.length;
        while (i--) {
            this.animatedElements.splice(removeIndexes[i], 1);
        }
    };

    /**
     * Render the class animations, and update the global scroll positionning.
     */


    _class.prototype.renderAnimations = function renderAnimations() {
        var _this3 = this;

        if (window.pageYOffset > this.scroll.y) {
            if (this.scroll.direction !== 'down') {
                this.scroll.direction = 'down';
            }
        } else if (window.pageYOffset < this.scroll.y) {
            if (this.scroll.direction !== 'up') {
                this.scroll.direction = 'up';
            }
        }

        if (this.scroll.y !== window.pageYOffset) {
            this.scroll.y = window.pageYOffset;
        }
        if (this.scroll.x !== window.pageXOffset) {
            this.scroll.x = window.pageXOffset;
        }

        this.animateElements();

        this.requestId = window.requestAnimationFrame(function () {
            return _this3.renderAnimations();
        });
    };

    /**
     * Toggle classes on an element if it's visible.
     *
     * @param  {object}      element Current element to test
     * @param  {int}         index   Index of the element within it's container
     * @return {boolean}             Wether the item must be removed from its container
     */


    _class.prototype.toggleElementClasses = function toggleElementClasses(element, index) {
        var removeFromContainer = false;

        if (typeof element !== 'undefined') {
            // Find the bottom edge of the scroll container
            var scrollBottom = this.scroll.y + this.windowHeight;

            // Define if the element is inView
            var inView = scrollBottom >= element.offset && this.scroll.y <= element.limit;

            // Add class if inView, remove if not
            if (inView) {
                element.$element.addClass(element.inViewClass);

                if (!element.repeat) {
                    removeFromContainer = true;
                }
            } else if (element.repeat) {
                element.$element.removeClass(element.inViewClass);
            }
        }

        return removeFromContainer;
    };

    /**
     * Scroll to a desired target.
     *
     * @param  {object|int} target Either a jQuery element or a `y` position
     * @return {void}
     */


    _class.prototype.scrollTo = function scrollTo(target) {
        var targetOffset = 0;
        if (target instanceof jQuery && target.length > 0) {
            var targetData;

            if (target.data('target')) {
                targetData = target.data('target');
            } else {
                targetData = target.attr('href');
            }

            targetOffset = $(targetData).offset().top + this.scrollbar.scrollTop;
        } else {
            targetOffset = target;
        }

        _environment.$body.animate({
            scrollTop: targetOffset
        }, 'slow');
    };

    /**
     * Update elements and recalculate all the positions on the page
     */


    _class.prototype.updateElements = function updateElements() {
        this.addElements();
    };

    /**
     * Destroy
     */


    _class.prototype.destroy = function destroy() {
        this.$el.off('.Scroll');
        window.cancelAnimationFrame(this.requestId);
        this.requestId = undefined;
        this.animatedElements = undefined;
    };

    return _class;
}();

exports.default = _class;

},{"../utils/environment":6,"throttled-resize":11}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _environment = require('../utils/environment');

var _Scroll2 = require('./Scroll');

var _Scroll3 = _interopRequireDefault(_Scroll2);

var _smoothScrollbar = require('smooth-scrollbar');

var _smoothScrollbar2 = _interopRequireDefault(_smoothScrollbar);

var _throttledResize = require('throttled-resize');

var _throttledResize2 = _interopRequireDefault(_throttledResize);

var _is = require('../utils/is');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Smooth scrolling using `smooth-scrollbar`.
 * Based on `Scroll` class, which allows animations of elements on the page
 * according to scroll position.
 *
 * @todo  Method to get the distance (as percentage) of an element in the viewport
 */
var _class = function (_Scroll) {
    _inherits(_class, _Scroll);

    function _class() {
        _classCallCheck(this, _class);

        var _this = _possibleConstructorReturn(this, _Scroll.call(this));

        _this.scrollbar;
        return _this;
    }

    /**
     * Initialize scrolling animations
     */


    _class.prototype.init = function init() {
        var _this2 = this;

        // Add class to the body to know if SmoothScroll is initialized (to manage overflow on containers)
        _environment.$body.addClass('has-smooth-scroll');

        this.scrollbar = _smoothScrollbar2.default.init(this.$el[0]);

        this.setScrollbarLimit();

        this.parallaxElements = [];

        this.addElements();

        this.renderAnimations(true);

        // On scroll
        this.scrollbar.addListener(function () {
            return _this2.renderAnimations(false);
        });

        // Rebuild event
        _environment.$document.on('rebuild.Scroll', function () {
            _this2.updateElements();
        });

        // Update event
        _environment.$document.on('update.Scroll', function () {
            return _this2.updateElements();
        });

        // Render event
        _environment.$document.on('render.Scroll', function () {
            return _this2.renderAnimations(false);
        });

        // Scrollto button event
        $('.js-scrollto').on('click.SmoothScroll', function (event) {
            event.preventDefault();
            _this2.scrollTo($(event.currentTarget));
        });

        // Setup done
        _environment.$document.trigger({
            type: 'isReady.SmoothScroll'
        });

        // Resize event
        var resize = new _throttledResize2.default();
        resize.on('resize:end', function () {
            return _this2.updateElements();
        });
    };

    /**
     * Reset existing elements and find all animatable elements.
     * Called on page load and any subsequent updates.
     */


    _class.prototype.addElements = function addElements() {
        this.animatedElements = [];
        this.parallaxElements = [];

        var $elements = $(this.selector);
        var i = 0;
        var len = $elements.length;

        for (; i < len; i++) {
            var $element = $elements.eq(i);
            var elementSpeed = (0, _is.isNumeric)($element.data('speed')) ? parseInt($element.data('speed')) / 10 : false;
            var elementPosition = $element.data('position');
            var elementTarget = $element.data('target');
            var elementHorizontal = $element.data('horizontal');

            var $target = elementTarget ? $(elementTarget) : $element;
            var elementOffset = $target.offset().top + this.scrollbar.scrollTop;
            var elementLimit = elementOffset + $target.outerHeight();

            // If elements stays visible after scrolling past it
            var elementRepeat = typeof $element.data('repeat') === 'string';

            var elementInViewClass = $element.data('inview-class');
            if (typeof elementInViewClass === 'undefined') {
                elementInViewClass = 'is-show';
            }

            if (!elementTarget && $element.data('transform')) {
                elementOffset -= parseFloat($element.data('transform').y);
            }

            var newElement = {};

            // For parallax animated elements
            if (elementSpeed !== false) {
                var _elementPosition = $element.data('position');
                var _elementHorizontal = $element.data('horizontal');
                var elementMiddle = (elementLimit - elementOffset) / 2 + elementOffset;

                newElement = {
                    $element: $element,
                    horizontal: _elementHorizontal,
                    inViewClass: elementInViewClass,
                    limit: elementLimit,
                    middle: elementMiddle,
                    offset: elementOffset,
                    repeat: elementRepeat,
                    position: _elementPosition,
                    speed: elementSpeed
                };
                this.parallaxElements.push(newElement);
            } else {
                newElement = {
                    $element: $element,
                    inViewClass: elementInViewClass,
                    limit: elementLimit,
                    offset: Math.round(elementOffset),
                    repeat: elementRepeat
                };

                this.animatedElements.push(newElement);
            }
        };
    };

    /**
     * Render the class/transform animations, and update the global scroll positionning.
     *
     * @param  {boolean} isFirstCall Determines if this is the first occurence of method being called
     * @return {void}
     */


    _class.prototype.renderAnimations = function renderAnimations(isFirstCall) {
        var scrollbarTop = this.scrollbar.scrollTop;

        if (scrollbarTop > this.scroll.y) {
            if (this.scroll.direction !== 'down') {
                this.scroll.direction = 'down';
            }
        } else if (scrollbarTop < this.scroll.y) {
            if (this.scroll.direction !== 'up') {
                this.scroll.direction = 'up';
            }
        }

        if (this.scroll.y !== scrollbarTop) {
            this.scroll.y = scrollbarTop;
        }

        this.transformElements(isFirstCall);
        this.animateElements();

        window.App.scroll = this.scroll;
    };

    /**
     * Scroll to a desired target.
     *
     * @param  {object|int} target Either a jQuery element or a `y` position
     * @return {void}
     */


    _class.prototype.scrollTo = function scrollTo(target) {
        var targetOffset = 0;
        if (target instanceof jQuery && target.length > 0) {
            var targetData;

            if (target.data('target')) {
                targetData = target.data('target');
            } else {
                targetData = target.attr('href');
            }

            targetOffset = $(targetData).offset().top + this.scrollbar.scrollTop;
        } else {
            targetOffset = target;
        }

        this.scrollbar.scrollTo(0, targetOffset, 900);
    };

    /**
     * Set the scroll bar limit
     */


    _class.prototype.setScrollbarLimit = function setScrollbarLimit() {
        this.scrollbarLimit = this.scrollbar.limit.y + this.windowHeight;
    };

    /**
     * Apply CSS transform properties on an element.
     *
     * @param  {object}  $element Targetted jQuery element
     * @param  {int}     x        Translate value
     * @param  {int}     y        Translate value
     * @param  {int}     z        Translate value
     * @return {void}
     */


    _class.prototype.transformElement = function transformElement($element, x, y, z) {
        // Defaults
        x = x || 0;
        y = y || 0;
        z = z || 0;

        // Translate and store the positionning as `data`
        $element.css({
            '-webkit-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',
            '-ms-transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')',
            'transform': 'translate3d(' + x + ', ' + y + ', ' + z + ')'
        }).data('transform', {
            x: x,
            y: y,
            z: z
        });

        // Affect child elements with the same positionning
        var children = $element.find(this.selector);
        var i = 0;
        var len = children.length;
        for (; i < len; i++) {
            var $child = $(children[i]);
            if (!$child.data('transform')) {
                $child.data('transform', {
                    x: x,
                    y: y,
                    z: z
                });
            }
        };
    };

    /**
     * Loop through all parallax-able elements and apply transform method(s).
     *
     * @param  {boolean} isFirstCall Determines if this is the first occurence of method being called
     * @return {void}
     */


    _class.prototype.transformElements = function transformElements(isFirstCall) {
        if (this.parallaxElements.length > 0) {
            var scrollbarBottom = this.scrollbar.scrollTop + this.windowHeight;
            var scrollbarMiddle = this.scrollbar.scrollTop + this.windowMiddle;

            var i = 0;
            var len = this.parallaxElements.length;
            var removeIndexes = [];

            for (; i < len; i++) {
                var curEl = this.parallaxElements[i];
                // Old
                var scrollBottom = scrollbarBottom;
                // New
                // let scrollBottom = (curEl.position === 'top') ? this.scrollbar.scrollTop : scrollbarBottom;

                var transformDistance = false;

                // Define if the element is in view
                // Old
                var inView = scrollBottom >= curEl.offset && this.scroll.y <= curEl.limit;
                // New
                // let inView = (scrollBottom >= curEl.offset && this.scrollbar.scrollTop <= curEl.limit);

                // Add class if in view, remove if not
                if (inView) {
                    curEl.$element.addClass('is-inview');

                    if (curEl.repeat === false) {
                        curEl.$element.addClass('is-visible');
                    }
                } else {
                    curEl.$element.removeClass('is-inview');
                }

                this.toggleElementClasses(curEl, i);

                if (isFirstCall && !inView && curEl.speed) {
                    // Different calculations if it is the first call and the item is not in the view
                    if (curEl.position !== 'top') {
                        transformDistance = (curEl.offset - this.windowMiddle - curEl.middle) * -curEl.speed;
                    }
                }

                // If element is in view
                if (inView && curEl.speed) {
                    switch (curEl.position) {
                        case 'top':
                            // Old
                            transformDistance = this.scrollbar.scrollTop * -curEl.speed;
                            // New
                            // transformDistance = (this.scrollbar.scrollTop - curEl.offset) * -curEl.speed;
                            break;

                        case 'bottom':
                            transformDistance = (this.scrollbarLimit - scrollBottom) * curEl.speed;
                            break;

                        default:
                            transformDistance = (scrollbarMiddle - curEl.middle) * -curEl.speed;
                            break;
                    }
                }

                // Transform horizontal OR vertical. Defaults to vertical
                if ((0, _is.isNumeric)(transformDistance)) {
                    curEl.horizontal ? this.transformElement(curEl.$element, transformDistance + 'px') : this.transformElement(curEl.$element, 0, transformDistance + 'px');
                }
            }
        }
    };

    /**
     * Update elements and recalculate all the positions on the page
     */


    _class.prototype.updateElements = function updateElements() {
        this.scrollbar.update();
        this.windowHeight = _environment.$window.height();
        this.windowMiddle = this.windowHeight / 2;
        this.setScrollbarLimit();
        this.addElements();
        this.transformElements(true);
    };

    /**
     * Destroy
     */


    _class.prototype.destroy = function destroy() {
        _Scroll.prototype.destroy.call(this);
        this.$el.off('.SmoothScroll');
        this.$el.off('.Scroll');
        this.parallaxElements = undefined;
        this.scrollbar.destroy();
    };

    return _class;
}(_Scroll3.default);

exports.default = _class;

},{"../utils/environment":6,"../utils/is":9,"./Scroll":4,"smooth-scrollbar":10,"throttled-resize":11}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var $document = $(document);
var $window = $(window);
var $html = $(document.documentElement);
var $body = $(document.body);

exports.$document = $document;
exports.$window = $window;
exports.$html = $html;
exports.$body = $body;

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {

    var smoothScroll = new _SmoothScroll2.default();
    // const scroll = new Scroll();
};

var _SmoothScroll = require('../modules/SmoothScroll');

var _SmoothScroll2 = _interopRequireDefault(_SmoothScroll);

var _Scroll = require('../modules/Scroll');

var _Scroll2 = _interopRequireDefault(_Scroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../modules/Scroll":4,"../modules/SmoothScroll":5}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.escapeHtml = escapeHtml;
exports.unescapeHtml = unescapeHtml;
exports.getNodeData = getNodeData;
/**
 * @see  https://github.com/ractivejs/ractive/blob/dev/src/utils/html.js
 */
function escapeHtml(str) {
    return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

/**
 * Prepare HTML content that contains mustache characters for use with Ractive
 * @param  {string} str
 * @return {string}
 */
function unescapeHtml(str) {
    return str.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&');
}

/**
 * Get element data attributes
 * @param   {DOMElement}  node
 * @return  {Array}       data
 */
function getNodeData(node) {
    // All attributes
    var attributes = node.attributes;

    // Regex Pattern
    var pattern = /^data\-(.+)$/;

    // Output
    var data = {};

    for (var i in attributes) {
        if (!attributes[i]) {
            continue;
        }

        // Attributes name (ex: data-module)
        var name = attributes[i].name;

        // This happens.
        if (!name) {
            continue;
        }

        var match = name.match(pattern);
        if (!match) {
            continue;
        }

        // If this throws an error, you have some
        // serious problems in your HTML.
        data[match[1]] = node.getAttribute(name);
    }

    return data;
}

},{}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.isArray = isArray;
exports.isArrayLike = isArrayLike;
exports.isEqual = isEqual;
exports.isNumeric = isNumeric;
exports.isObject = isObject;
exports.isFunction = isFunction;
var toString = Object.prototype.toString,
    arrayLikePattern = /^\[object (?:Array|FileList)\]$/;

// thanks, http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/
function isArray(thing) {
    return toString.call(thing) === '[object Array]';
}

function isArrayLike(obj) {
    return arrayLikePattern.test(toString.call(obj));
}

function isEqual(a, b) {
    if (a === null && b === null) {
        return true;
    }

    if ((typeof a === 'undefined' ? 'undefined' : _typeof(a)) === 'object' || (typeof b === 'undefined' ? 'undefined' : _typeof(b)) === 'object') {
        return false;
    }

    return a === b;
}

// http://stackoverflow.com/questions/18082/validate-numbers-in-javascript-isnumeric
function isNumeric(thing) {
    return !isNaN(parseFloat(thing)) && isFinite(thing);
}

function isObject(thing) {
    return thing && toString.call(thing) === '[object Object]';
}

function isFunction(thing) {
    var getType = {};
    return thing && getType.toString.call(thing) === '[object Function]';
}

},{}],10:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Scrollbar=e():t.Scrollbar=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,u["default"])(t)}var i=n(2),u=r(i),a=n(55),c=r(a),l=n(62),f=r(l);Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof f["default"]&&"symbol"==typeof c["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof f["default"]&&t.constructor===f["default"]?"symbol":typeof t},d=n(78),h=n(89);n(129),n(145),n(158),n(173),n(187),e["default"]=d.SmoothScrollbar,d.SmoothScrollbar.version="7.2.8",d.SmoothScrollbar.init=function(t,e){if(!t||1!==t.nodeType)throw new TypeError("expect element to be DOM Element, but got "+("undefined"==typeof t?"undefined":s(t)));if(h.sbList.has(t))return h.sbList.get(t);t.setAttribute("data-scrollbar","");var n=[].concat(o(t.childNodes)),r=document.createElement("div");r.innerHTML='\n        <article class="scroll-content"></article>\n        <aside class="scrollbar-track scrollbar-track-x">\n            <div class="scrollbar-thumb scrollbar-thumb-x"></div>\n        </aside>\n        <aside class="scrollbar-track scrollbar-track-y">\n            <div class="scrollbar-thumb scrollbar-thumb-y"></div>\n        </aside>\n        <canvas class="overscroll-glow"></canvas>\n    ';var i=r.querySelector(".scroll-content");return[].concat(o(r.childNodes)).forEach(function(e){return t.appendChild(e)}),n.forEach(function(t){return i.appendChild(t)}),new d.SmoothScrollbar(t,e)},d.SmoothScrollbar.initAll=function(t){return[].concat(o(document.querySelectorAll(h.selectors))).map(function(e){return d.SmoothScrollbar.init(e,t)})},d.SmoothScrollbar.has=function(t){return h.sbList.has(t)},d.SmoothScrollbar.get=function(t){return h.sbList.get(t)},d.SmoothScrollbar.getAll=function(){return[].concat(o(h.sbList.values()))},d.SmoothScrollbar.destroy=function(t,e){return d.SmoothScrollbar.has(t)&&d.SmoothScrollbar.get(t).destroy(e)},d.SmoothScrollbar.destroyAll=function(t){h.sbList.forEach(function(e){e.destroy(t)})},t.exports=e["default"]},function(t,e,n){t.exports={"default":n(3),__esModule:!0}},function(t,e,n){n(4),n(48),t.exports=n(12).Array.from},function(t,e,n){"use strict";var r=n(5)(!0);n(8)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(6),o=n(7);t.exports=function(t){return function(e,n){var i,u,a=String(o(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(i=a.charCodeAt(c),i<55296||i>56319||c+1===l||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):i:t?a.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(9),o=n(10),i=n(25),u=n(15),a=n(26),c=n(27),l=n(28),f=n(44),s=n(46),d=n(45)("iterator"),h=!([].keys&&"next"in[].keys()),v="@@iterator",_="keys",p="values",y=function(){return this};t.exports=function(t,e,n,b,g,m,x){l(n,e,b);var S,E,M,O=function(t){if(!h&&t in j)return j[t];switch(t){case _:return function(){return new n(this,t)};case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",P=g==p,k=!1,j=t.prototype,T=j[d]||j[v]||g&&j[g],A=T||O(g),R=g?P?O("entries"):A:void 0,L="Array"==e?j.entries||T:T;if(L&&(M=s(L.call(new t)),M!==Object.prototype&&(f(M,w,!0),r||a(M,d)||u(M,d,y))),P&&T&&T.name!==p&&(k=!0,A=function(){return T.call(this)}),r&&!x||!h&&!k&&j[d]||u(j,d,A),c[e]=A,c[w]=y,g)if(S={values:P?A:O(p),keys:m?A:O(_),entries:R},x)for(E in S)E in j||i(j,E,S[E]);else o(o.P+o.F*(h||k),e,S);return S}},function(t,e){t.exports=!0},function(t,e,n){var r=n(11),o=n(12),i=n(13),u=n(15),a="prototype",c=function(t,e,n){var l,f,s,d=t&c.F,h=t&c.G,v=t&c.S,_=t&c.P,p=t&c.B,y=t&c.W,b=h?o:o[e]||(o[e]={}),g=b[a],m=h?r:v?r[e]:(r[e]||{})[a];h&&(n=e);for(l in n)f=!d&&m&&void 0!==m[l],f&&l in b||(s=f?m[l]:n[l],b[l]=h&&"function"!=typeof m[l]?n[l]:p&&f?i(s,r):y&&m[l]==s?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(s):_&&"function"==typeof s?i(Function.call,s):s,_&&((b.virtual||(b.virtual={}))[l]=s,t&c.R&&g&&!g[l]&&u(g,l,s)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(14);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(16),o=n(24);t.exports=n(20)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(17),o=n(19),i=n(23),u=Object.defineProperty;e.f=n(20)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(18);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(20)&&!n(21)(function(){return 7!=Object.defineProperty(n(22)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(18),o=n(11).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(18);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(15)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(29),o=n(24),i=n(44),u={};n(15)(u,n(45)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(17),o=n(30),i=n(42),u=n(39)("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n(22)("iframe"),r=i.length,o="<",u=">";for(e.style.display="none",n(43).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),l=t.F;r--;)delete l[c][i[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[u]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(16),o=n(17),i=n(31);t.exports=n(20)?Object.defineProperties:function(t,e){o(t);for(var n,u=i(e),a=u.length,c=0;a>c;)r.f(t,n=u[c++],e[n]);return t}},function(t,e,n){var r=n(32),o=n(42);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(26),o=n(33),i=n(36)(!1),u=n(39)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,l=[];for(n in a)n!=u&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){var r=n(34),o=n(7);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(35);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(33),o=n(37),i=n(38);t.exports=function(t){return function(e,n,u){var a,c=r(e),l=o(c.length),f=i(u,l);if(t&&n!=n){for(;l>f;)if(a=c[f++],a!=a)return!0}else for(;l>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(6),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(6),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(40)("keys"),o=n(41);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(11),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(11).document&&document.documentElement},function(t,e,n){var r=n(16).f,o=n(26),i=n(45)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(40)("wks"),o=n(41),i=n(11).Symbol,u="function"==typeof i,a=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};a.store=r},function(t,e,n){var r=n(26),o=n(47),i=n(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(7);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(13),o=n(10),i=n(47),u=n(49),a=n(50),c=n(37),l=n(51),f=n(52);o(o.S+o.F*!n(54)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,s,d=i(t),h="function"==typeof this?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,p=void 0!==_,y=0,b=f(d);if(p&&(_=r(_,v>2?arguments[2]:void 0,2)),void 0==b||h==Array&&a(b))for(e=c(d.length),n=new h(e);e>y;y++)l(n,y,p?_(d[y],y):d[y]);else for(s=b.call(d),n=new h;!(o=s.next()).done;y++)l(n,y,p?u(s,_,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){var r=n(17);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var u=t["return"];throw void 0!==u&&r(u.call(t)),i}}},function(t,e,n){var r=n(27),o=n(45)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(16),o=n(24);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(53),o=n(45)("iterator"),i=n(27);t.exports=n(12).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(35),o=n(45)("toStringTag"),i="Arguments"==r(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(45)("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},t(i)}catch(a){}return n}},function(t,e,n){t.exports={"default":n(56),__esModule:!0}},function(t,e,n){n(4),n(57),t.exports=n(61).f("iterator")},function(t,e,n){n(58);for(var r=n(11),o=n(15),i=n(27),u=n(45)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var l=a[c],f=r[l],s=f&&f.prototype;s&&!s[u]&&o(s,u,l),i[l]=i.Array}},function(t,e,n){"use strict";var r=n(59),o=n(60),i=n(27),u=n(33);t.exports=n(8)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(45)},function(t,e,n){t.exports={"default":n(63),__esModule:!0}},function(t,e,n){n(64),n(75),n(76),n(77),t.exports=n(12).Symbol},function(t,e,n){"use strict";var r=n(11),o=n(26),i=n(20),u=n(10),a=n(25),c=n(65).KEY,l=n(21),f=n(40),s=n(44),d=n(41),h=n(45),v=n(61),_=n(66),p=n(67),y=n(68),b=n(71),g=n(17),m=n(33),x=n(23),S=n(24),E=n(29),M=n(72),O=n(74),w=n(16),P=n(31),k=O.f,j=w.f,T=M.f,A=r.Symbol,R=r.JSON,L=R&&R.stringify,I="prototype",D=h("_hidden"),C=h("toPrimitive"),N={}.propertyIsEnumerable,F=f("symbol-registry"),H=f("symbols"),z=f("op-symbols"),B=Object[I],G="function"==typeof A,V=r.QObject,W=!V||!V[I]||!V[I].findChild,U=i&&l(function(){return 7!=E(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=k(B,e);r&&delete B[e],j(t,e,n),r&&t!==B&&j(B,e,r)}:j,X=function(t){var e=H[t]=E(A[I]);return e._k=t,e},q=G&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},K=function(t,e,n){return t===B&&K(z,e,n),g(t),e=x(e,!0),g(n),o(H,e)?(n.enumerable?(o(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:S(0,!1)})):(o(t,D)||j(t,D,S(1,{})),t[D][e]=!0),U(t,e,n)):j(t,e,n)},J=function(t,e){g(t);for(var n,r=y(e=m(e)),o=0,i=r.length;i>o;)K(t,n=r[o++],e[n]);return t},Y=function(t,e){return void 0===e?E(t):J(E(t),e)},Q=function(t){var e=N.call(this,t=x(t,!0));return!(this===B&&o(H,t)&&!o(z,t))&&(!(e||!o(this,t)||!o(H,t)||o(this,D)&&this[D][t])||e)},Z=function(t,e){if(t=m(t),e=x(e,!0),t!==B||!o(H,e)||o(z,e)){var n=k(t,e);return!n||!o(H,e)||o(t,D)&&t[D][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=T(m(t)),r=[],i=0;n.length>i;)o(H,e=n[i++])||e==D||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===B,r=T(n?z:m(t)),i=[],u=0;r.length>u;)!o(H,e=r[u++])||n&&!o(B,e)||i.push(H[e]);return i};G||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(z,n),o(this,D)&&o(this[D],t)&&(this[D][t]=!1),U(this,t,S(1,n))};return i&&W&&U(B,t,{configurable:!0,set:e}),X(t)},a(A[I],"toString",function(){return this._k}),O.f=Z,w.f=K,n(73).f=M.f=$,n(70).f=Q,n(69).f=tt,i&&!n(9)&&a(B,"propertyIsEnumerable",Q,!0),v.f=function(t){return X(h(t))}),u(u.G+u.W+u.F*!G,{Symbol:A});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var et=P(h.store),nt=0;et.length>nt;)_(et[nt++]);u(u.S+u.F*!G,"Symbol",{"for":function(t){return o(F,t+="")?F[t]:F[t]=A(t)},keyFor:function(t){if(q(t))return p(F,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),u(u.S+u.F*!G,"Object",{create:Y,defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),R&&u(u.S+u.F*(!G||l(function(){var t=A();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return e=r[1],"function"==typeof e&&(n=e),!n&&b(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,L.apply(R,r)}}}),A[I][C]||n(15)(A[I],C,A[I].valueOf),s(A,"Symbol"),s(Math,"Math",!0),s(r.JSON,"JSON",!0)},function(t,e,n){var r=n(41)("meta"),o=n(18),i=n(26),u=n(16).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(21)(function(){return c(Object.preventExtensions({}))}),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},s=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},d=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},h=function(t){return l&&v.NEED&&c(t)&&!i(t,r)&&f(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:s,getWeak:d,onFreeze:h}},function(t,e,n){var r=n(11),o=n(12),i=n(9),u=n(61),a=n(16).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,n){var r=n(31),o=n(33);t.exports=function(t,e){for(var n,i=o(t),u=r(i),a=u.length,c=0;a>c;)if(i[n=u[c++]]===e)return n}},function(t,e,n){var r=n(31),o=n(69),i=n(70);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var u,a=n(t),c=i.f,l=0;a.length>l;)c.call(t,u=a[l++])&&e.push(u);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(35);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(33),o=n(73).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(e){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?a(t):o(r(t))}},function(t,e,n){var r=n(32),o=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(70),o=n(24),i=n(33),u=n(23),a=n(26),c=n(19),l=Object.getOwnPropertyDescriptor;e.f=n(20)?l:function(t,e){if(t=i(t),e=u(e,!0),c)try{return l(t,e)}catch(n){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(66)("asyncIterator")},function(t,e,n){n(66)("observable")},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(79),u=r(i),a=n(82),c=r(a),l=n(86),f=r(l);Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollbar=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,f["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=n(89),h=n(112);e.SmoothScrollbar=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.setAttribute("tabindex","1"),e.scrollTop=e.scrollLeft=0;var i=(0,h.findChild)(e,"scroll-content"),a=(0,h.findChild)(e,"overscroll-glow"),l=(0,h.findChild)(e,"scrollbar-track-x"),f=(0,h.findChild)(e,"scrollbar-track-y");if((0,h.setStyle)(e,{overflow:"hidden",outline:"none"}),(0,h.setStyle)(a,{display:"none","pointer-events":"none"}),this.__readonly("targets",(0,c["default"])({container:e,content:i,canvas:{elem:a,context:a.getContext("2d")},xAxis:(0,c["default"])({track:l,thumb:(0,h.findChild)(l,"scrollbar-thumb-x")}),yAxis:(0,c["default"])({track:f,thumb:(0,h.findChild)(f,"scrollbar-thumb-y")})})).__readonly("offset",{x:0,y:0}).__readonly("thumbOffset",{x:0,y:0}).__readonly("limit",{x:1/0,y:1/0}).__readonly("movement",{x:0,y:0}).__readonly("movementLocked",{x:!1,y:!1}).__readonly("overscrollRendered",{x:0,y:0}).__readonly("overscrollBack",!1).__readonly("thumbSize",{x:0,y:0,realX:0,realY:0}).__readonly("bounding",{top:0,right:0,bottom:0,left:0}).__readonly("children",[]).__readonly("parents",[]).__readonly("size",this.getSize()).__readonly("isNestedScrollbar",!1),(0,u["default"])(this,{__hideTrackThrottle:{value:(0,h.debounce)(this.hideTrack.bind(this),1e3,!1)},__updateThrottle:{value:(0,h.debounce)(this.update.bind(this))},__touchRecord:{value:new h.TouchRecord},__listeners:{value:[]},__handlers:{value:[]},__children:{value:[]},__timerID:{value:{}}}),this.__initOptions(r),this.__initScrollbar(),d.sbList.set(e,this),"function"==typeof d.GLOBAL_ENV.MutationObserver){var s=new d.GLOBAL_ENV.MutationObserver(function(){n.update(!0)});s.observe(i,{childList:!0}),Object.defineProperty(this,"__observer",{value:s})}}return s(t,[{key:"MAX_OVERSCROLL",get:function(){var t=this.options,e=this.size;switch(t.overscrollEffect){case"bounce":var n=Math.floor(Math.sqrt(Math.pow(e.container.width,2)+Math.pow(e.container.height,2))),r=this.__isMovementLocked()?2:10;return d.GLOBAL_ENV.TOUCH_SUPPORTED?(0,h.pickInRange)(n/r,100,1e3):(0,h.pickInRange)(n/10,25,50);case"glow":return 150;default:return 0}}},{key:"scrollTop",get:function(){return this.offset.y}},{key:"scrollLeft",get:function(){return this.offset.x}}]),t}()},function(t,e,n){t.exports={"default":n(80),__esModule:!0}},function(t,e,n){n(81);var r=n(12).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){var r=n(10);r(r.S+r.F*!n(20),"Object",{defineProperties:n(30)})},function(t,e,n){t.exports={"default":n(83),__esModule:!0}},function(t,e,n){n(84),t.exports=n(12).Object.freeze},function(t,e,n){var r=n(18),o=n(65).onFreeze;n(85)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(10),o=n(12),i=n(21);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",u)}},function(t,e,n){t.exports={"default":n(87),__esModule:!0}},function(t,e,n){n(88);var r=n(12).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(10);r(r.S+r.F*!n(20),"Object",{defineProperty:n(16).f})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(93);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){t.exports={"default":n(91),__esModule:!0}},function(t,e,n){n(92),t.exports=n(12).Object.keys},function(t,e,n){var r=n(47),o=n(31);n(85)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(94);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(95);(0,a["default"])(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(111);(0,a["default"])(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return f[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=function(t){var e={},n={};return(0,a["default"])(t).forEach(function(r){(0,i["default"])(e,r,{get:function(){if(!n.hasOwnProperty(r)){var e=t[r];n[r]=e()}return n[r]}})}),e},l={MutationObserver:function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver},TOUCH_SUPPORTED:function(){return"ontouchstart"in document},EASING_MULTIPLIER:function(){return navigator.userAgent.match(/Android/)?.5:.25},WHEEL_EVENT:function(){return"onwheel"in window?"wheel":"mousewheel"}};e.GLOBAL_ENV=c(l)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(96),i=r(o);Object.defineProperty(e,"__esModule",{value:!0});var u=new i["default"],a=u.set.bind(u),c=u["delete"].bind(u);u.update=function(){u.forEach(function(t){t.__updateTree()})},u["delete"]=function(){var t=c.apply(void 0,arguments);return u.update(),t},u.set=function(){var t=a.apply(void 0,arguments);return u.update(),t},e.sbList=u},function(t,e,n){t.exports={"default":n(97),__esModule:!0}},function(t,e,n){n(75),n(4),n(57),n(98),n(108),t.exports=n(12).Map},function(t,e,n){"use strict";var r=n(99);t.exports=n(104)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(this,t);return e&&e.v},set:function(t,e){return r.def(this,0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(16).f,o=n(29),i=n(100),u=n(13),a=n(101),c=n(7),l=n(102),f=n(8),s=n(60),d=n(103),h=n(20),v=n(65).fastKey,_=h?"_s":"size",p=function(t,e){var n,r=v(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,f){var s=t(function(t,r){a(t,s,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[_]=0,void 0!=r&&l(r,n,t[f],t)});return i(s.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[_]=0},"delete":function(t){var e=this,n=p(e,t);if(n){var r=n.n,o=n.p;delete e._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),e._f==n&&(e._f=r),e._l==n&&(e._l=o),e[_]--}return!!n},forEach:function(t){a(this,s,"forEach");for(var e,n=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!p(this,t)}}),h&&r(s.prototype,"size",{get:function(){return c(this[_])}}),s},def:function(t,e,n){var r,o,i=p(t,e);return i?i.v=n:(t._l=i={i:o=v(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[_]++,"F"!==o&&(t._i[o]=i)),t},getEntry:p,setStrong:function(t,e,n){f(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?s(0,n.k):"values"==e?s(0,n.v):s(0,[n.k,n.v]):(t._t=void 0,s(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){var r=n(15);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(13),o=n(49),i=n(50),u=n(17),a=n(37),c=n(52),l={},f={},e=t.exports=function(t,e,n,s,d){var h,v,_,p,y=d?function(){return t}:c(t),b=r(n,s,e?2:1),g=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(h=a(t.length);h>g;g++)if(p=e?b(u(v=t[g])[0],v[1]):b(t[g]),p===l||p===f)return p}else for(_=y.call(t);!(v=_.next()).done;)if(p=o(_,b,v.value,e),p===l||p===f)return p};e.BREAK=l,e.RETURN=f},function(t,e,n){"use strict";var r=n(11),o=n(12),i=n(16),u=n(20),a=n(45)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];u&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(11),o=n(10),i=n(65),u=n(21),a=n(15),c=n(100),l=n(102),f=n(101),s=n(18),d=n(44),h=n(16).f,v=n(105)(0),_=n(20);t.exports=function(t,e,n,p,y,b){var g=r[t],m=g,x=y?"set":"add",S=m&&m.prototype,E={};return _&&"function"==typeof m&&(b||S.forEach&&!u(function(){(new m).entries().next()}))?(m=e(function(e,n){f(e,m,t,"_c"),e._c=new g,void 0!=n&&l(n,y,e[x],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in S&&(!b||"clear"!=t)&&a(m.prototype,t,function(n,r){if(f(this,m,t),!e&&b&&!s(n))return"get"==t&&void 0;var o=this._c[t](0===n?0:n,r);return e?this:o})}),"size"in S&&h(m.prototype,"size",{get:function(){return this._c.size}})):(m=p.getConstructor(e,t,y,x),c(m.prototype,n),i.NEED=!0),d(m,t),E[t]=m,o(o.G+o.W+o.F,E),b||p.setStrong(m,t,y),m}},function(t,e,n){var r=n(13),o=n(34),i=n(47),u=n(37),a=n(106);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,f=4==t,s=6==t,d=5==t||s,h=e||a;return function(e,a,v){for(var _,p,y=i(e),b=o(y),g=r(a,v,3),m=u(b.length),x=0,S=n?h(e,m):c?h(e,0):void 0;m>x;x++)if((d||x in b)&&(_=b[x],p=g(_,x,y),t))if(n)S[x]=p;else if(p)switch(t){case 3:return!0;case 5:return _;case 6:return x;case 2:S.push(_)}else if(f)return!1;return s?-1:l||f?f:S}}},function(t,e,n){var r=n(107);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(18),o=n(71),i=n(45)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var r=n(10);r(r.P+r.R,"Map",{toJSON:n(109)("Map")})},function(t,e,n){var r=n(53),o=n(110);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var r=n(102);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.selectors="scrollbar, [scrollbar], [data-scrollbar]"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(113);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(114);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(115);(0,a["default"])(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(116);(0,a["default"])(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(117);(0,a["default"])(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(118);(0,a["default"])(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(119);(0,a["default"])(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(120);(0,a["default"])(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return v[t]}})});var _=n(121);(0,a["default"])(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return _[t]}})});var p=n(122);(0,a["default"])(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=n(123);(0,a["default"])(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return y[t]}})});var b=n(124);(0,a["default"])(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return b[t]}})})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.buildCurve=function(t,e){var n=[];if(e<=0)return n;for(var r=Math.round(e/1e3*60),o=-t/Math.pow(r,2),i=-2*o*r,u=0;u<r;u++)n.push(o*Math.pow(u,2)+i*u);return n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=100;e.debounce=function(t){var e=arguments.length<=1||void 0===arguments[1]?n:arguments[1],r=arguments.length<=2||void 0===arguments[2]||arguments[2];if("function"==typeof t){var o=void 0;return function(){for(var n=arguments.length,i=Array(n),u=0;u<n;u++)i[u]=arguments[u];!o&&r&&setTimeout(function(){return t.apply(void 0,i)}),clearTimeout(o),o=setTimeout(function(){o=void 0,t.apply(void 0,i)},e)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];
return n}return(0,u["default"])(t)}var i=n(2),u=r(i);Object.defineProperty(e,"__esModule",{value:!0});e.findChild=function(t,e){var n=t.children,r=null;return n&&[].concat(o(n)).some(function(t){if(t.className.match(e))return r=t,!0}),r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={STANDARD:1,OTHERS:-3},r=[1,28,500],o=function(t){return r[t]||r[0]};e.getDelta=function(t){if("deltaX"in t){var e=o(t.deltaMode);return{x:t.deltaX/n.STANDARD*e,y:t.deltaY/n.STANDARD*e}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/n.OTHERS,y:t.wheelDeltaY/n.OTHERS}:{x:0,y:t.wheelDelta/n.OTHERS}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getPointerData=function(t){return t.touches?t.touches[t.touches.length-1]:t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPosition=void 0;var r=n(118);e.getPosition=function(t){var e=(0,r.getPointerData)(t);return{x:e.clientX,y:e.clientY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTouchID=void 0;var r=n(118);e.getTouchID=function(t){var e=(0,r.getPointerData)(t);return e.identifier}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.isOneOf=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return e.some(function(e){return t===e})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.pickInRange=function(t){var e=arguments.length<=1||void 0===arguments[1]?-(1/0):arguments[1],n=arguments.length<=2||void 0===arguments[2]?1/0:arguments[2];return Math.max(e,Math.min(t,n))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(90),i=r(o);Object.defineProperty(e,"__esModule",{value:!0});var u=["webkit","moz","ms","o"],a=new RegExp("^-(?!(?:"+u.join("|")+")-)"),c=function(t){var e={};return(0,i["default"])(t).forEach(function(n){if(!a.test(n))return void(e[n]=t[n]);var r=t[n];n=n.replace(/^-/,""),e[n]=r,u.forEach(function(t){e["-"+t+"-"+n]=r})}),e};e.setStyle=function(t,e){e=c(e),(0,i["default"])(e).forEach(function(n){var r=n.replace(/^-/,"").replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});t.style[r]=e[n]})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a["default"])(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=n(2),a=r(u),c=n(86),l=r(c),f=n(125),s=r(f);Object.defineProperty(e,"__esModule",{value:!0}),e.TouchRecord=void 0;var d=s["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,l["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=n(119),_=function(){function t(e){i(this,t),this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition=(0,v.getPosition)(e)}return h(t,[{key:"update",value:function(t){var e=this.velocity,n=this.updateTime,r=this.lastPosition,o=Date.now(),i=(0,v.getPosition)(t),u={x:-(i.x-r.x),y:-(i.y-r.y)},a=o-n||16,c=u.x/a*1e3,l=u.y/a*1e3;e.x=.8*c+.2*e.x,e.y=.8*l+.2*e.y,this.delta=u,this.updateTime=o,this.lastPosition=i}}]),t}();e.TouchRecord=function(){function t(){i(this,t),this.touchList={},this.lastTouch=null,this.activeTouchID=void 0}return h(t,[{key:"__add",value:function(t){if(this.__has(t))return null;var e=new _(t);return this.touchList[t.identifier]=e,e}},{key:"__renew",value:function(t){if(!this.__has(t))return null;var e=this.touchList[t.identifier];return e.update(t),e}},{key:"__delete",value:function(t){return delete this.touchList[t.identifier]}},{key:"__has",value:function(t){return this.touchList.hasOwnProperty(t.identifier)}},{key:"__setActiveID",value:function(t){this.activeTouchID=t[t.length-1].identifier,this.lastTouch=this.touchList[this.activeTouchID]}},{key:"__getActiveTracker",value:function(){var t=this.touchList,e=this.activeTouchID;return t[e]}},{key:"isActive",value:function(){return void 0!==this.activeTouchID}},{key:"getDelta",value:function(){var t=this.__getActiveTracker();return t?d({},t.delta):this.__primitiveValue}},{key:"getVelocity",value:function(){var t=this.__getActiveTracker();return t?d({},t.velocity):this.__primitiveValue}},{key:"getLastPosition",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.__getActiveTracker()||this.lastTouch,n=e?e.lastPosition:this.__primitiveValue;return t?n.hasOwnProperty(t)?n[t]:0:d({},n)}},{key:"updatedRecently",value:function(){var t=this.__getActiveTracker();return t&&Date.now()-t.updateTime<30}},{key:"track",value:function(t){var e=this,n=t.targetTouches;return[].concat(o(n)).forEach(function(t){e.__add(t)}),this.touchList}},{key:"update",value:function(t){var e=this,n=t.touches,r=t.changedTouches;return[].concat(o(n)).forEach(function(t){e.__renew(t)}),this.__setActiveID(r),this.touchList}},{key:"release",value:function(t){var e=this;return this.activeTouchID=void 0,[].concat(o(t.changedTouches)).forEach(function(t){e.__delete(t)}),this.touchList}},{key:"__primitiveValue",get:function(){return{x:0,y:0}}}]),t}()},function(t,e,n){t.exports={"default":n(126),__esModule:!0}},function(t,e,n){n(127),t.exports=n(12).Object.assign},function(t,e,n){var r=n(10);r(r.S+r.F,"Object",{assign:n(128)})},function(t,e,n){"use strict";var r=n(31),o=n(69),i=n(70),u=n(47),a=n(34),c=Object.assign;t.exports=!c||n(21)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=u(t),c=arguments.length,l=1,f=o.f,s=i.f;c>l;)for(var d,h=a(arguments[l++]),v=f?r(h).concat(f(h)):r(h),_=v.length,p=0;_>p;)s.call(h,d=v[p++])&&(n[d]=h[d]);return n}:c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(130);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(131);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(132);(0,a["default"])(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(133);(0,a["default"])(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(134);(0,a["default"])(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(135);(0,a["default"])(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(136);(0,a["default"])(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(137);(0,a["default"])(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return v[t]}})});var _=n(138);(0,a["default"])(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return _[t]}})});var p=n(139);(0,a["default"])(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=n(140);(0,a["default"])(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return y[t]}})});var b=n(141);(0,a["default"])(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return b[t]}})});var g=n(142);(0,a["default"])(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return g[t]}})});var m=n(143);(0,a["default"])(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return m[t]}})});var x=n(144);(0,a["default"])(x).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return x[t]}})})},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.clearMovement=r.SmoothScrollbar.prototype.stop=function(){this.movement.x=this.movement.y=0,cancelAnimationFrame(this.__timerID.scrollTo)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,u["default"])(t)}var i=n(2),u=r(i),a=n(78),c=n(112),l=n(89);a.SmoothScrollbar.prototype.destroy=function(t){var e=this.__listeners,n=this.__handlers,r=this.__observer,i=this.targets,u=i.container,a=i.content;n.forEach(function(t){var e=t.evt,n=t.elem,r=t.fn;n.removeEventListener(e,r)}),n.length=e.length=0,this.stop(),cancelAnimationFrame(this.__timerID.render),r&&r.disconnect(),l.sbList["delete"](u),t||this.scrollTo(0,0,300,function(){if(u.parentNode){(0,c.setStyle)(u,{overflow:""}),u.scrollTop=u.scrollLeft=0;var t=[].concat(o(a.childNodes));u.innerHTML="",t.forEach(function(t){return u.appendChild(t)})}})}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.getContentElem=function(){return this.targets.content}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.getSize=function(){var t=this.targets.container,e=this.targets.content;return{container:{width:t.clientWidth,height:t.clientHeight},content:{width:e.offsetWidth-e.clientWidth+e.scrollWidth,height:e.offsetHeight-e.clientHeight+e.scrollHeight}}}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.infiniteScroll=function(t){var e=arguments.length<=1||void 0===arguments[1]?50:arguments[1];if("function"==typeof t){var n={x:0,y:0},r=!1;this.addListener(function(o){var i=o.offset,u=o.limit;u.y-i.y<=e&&i.y>n.y&&!r&&(r=!0,setTimeout(function(){return t(o)})),u.y-i.y>e&&(r=!1),n=i})}}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.isVisible=function(t){var e=this.bounding,n=t.getBoundingClientRect(),r=Math.max(e.top,n.top),o=Math.max(e.left,n.left),i=Math.min(e.right,n.right),u=Math.min(e.bottom,n.bottom);return r<u&&o<i}},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.addListener=function(t){"function"==typeof t&&this.__listeners.push(t)},r.SmoothScrollbar.prototype.removeListener=function(t){"function"==typeof t&&this.__listeners.some(function(e,n,r){return e===t&&r.splice(n,1)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?(0,l["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return!!e.length&&e.some(function(e){return t.match(e)})}function u(){var t=arguments.length<=0||void 0===arguments[0]?s.REGIESTER:arguments[0],e=d[t];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];this.__handlers.forEach(function(n){var o=n.elem,u=n.evt,a=n.fn,c=n.hasRegistered;c&&t===s.REGIESTER||!c&&t===s.UNREGIESTER||i(u,r)&&(o[e](u,a),n.hasRegistered=!c)})}}var a,c=n(86),l=r(c),f=n(78),s={REGIESTER:0,UNREGIESTER:1},d=(a={},o(a,s.REGIESTER,"addEventListener"),o(a,s.UNREGIESTER,"removeEventListener"),a);f.SmoothScrollbar.prototype.registerEvents=u(s.REGIESTER),f.SmoothScrollbar.prototype.unregisterEvents=u(s.UNREGIESTER)},function(t,e,n){"use strict";var r=n(78);r.SmoothScrollbar.prototype.scrollIntoView=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.onlyScrollIfNeeded,r=void 0!==n&&n,o=e.offsetTop,i=void 0===o?0:o,u=e.offsetLeft,a=void 0===u?0:u,c=this.targets,l=this.bounding;if(t&&c.container.contains(t)){var f=t.getBoundingClientRect();r&&this.isVisible(t)||this.__setMovement(f.left-l.left-a,f.top-l.top-i)}}},function(t,e,n){"use strict";var r=n(112),o=n(78);o.SmoothScrollbar.prototype.scrollTo=function(){var t=arguments.length<=0||void 0===arguments[0]?this.offset.x:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.offset.y:arguments[1],n=this,o=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],u=this.options,a=this.offset,c=this.limit,l=this.__timerID;cancelAnimationFrame(l.scrollTo),i="function"==typeof i?i:function(){},u.renderByPixels&&(t=Math.round(t),e=Math.round(e));var f=a.x,s=a.y,d=(0,r.pickInRange)(t,0,c.x)-f,h=(0,r.pickInRange)(e,0,c.y)-s,v=(0,r.buildCurve)(d,o),_=(0,r.buildCurve)(h,o),p=v.length,y=0,b=function g(){return y===p?(n.setPosition(t,e),requestAnimationFrame(function(){i(n)})):(n.setPosition(f+v[y],s+_[y]),y++,void(l.scrollTo=requestAnimationFrame(g)))};b()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(90),i=r(o),u=n(78);u.SmoothScrollbar.prototype.setOptions=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,i["default"])(e).forEach(function(n){t.options.hasOwnProperty(n)&&void 0!==e[n]&&(t.options[n]=e[n])})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(125),i=r(o),u=i["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(112),c=n(78);c.SmoothScrollbar.prototype.setPosition=function(){var t=arguments.length<=0||void 0===arguments[0]?this.offset.x:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.offset.y:arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.__hideTrackThrottle();var r={},o=this.options,i=this.offset,c=this.limit,l=this.targets,f=this.__listeners;o.renderByPixels&&(t=Math.round(t),e=Math.round(e)),Math.abs(t-i.x)>1&&this.showTrack("x"),Math.abs(e-i.y)>1&&this.showTrack("y"),t=(0,a.pickInRange)(t,0,c.x),e=(0,a.pickInRange)(e,0,c.y),t===i.x&&e===i.y||(r.direction={x:t===i.x?"none":t>i.x?"right":"left",y:e===i.y?"none":e>i.y?"down":"up"},this.__readonly("offset",{x:t,y:e}),r.limit=u({},c),r.offset=u({},this.offset),this.__setThumbPosition(),(0,a.setStyle)(l.content,{"-transform":"translate3d("+-t+"px, "+-e+"px, 0)"}),n||f.forEach(function(t){o.syncCallbacks?t(r):requestAnimationFrame(function(){t(r)})}))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?(0,c["default"])(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){var t=arguments.length<=0||void 0===arguments[0]?f.SHOW:arguments[0],e=d[t];return function(){var n=arguments.length<=0||void 0===arguments[0]?"both":arguments[0],r=this.options,o=this.movement,i=this.targets,u=i.container,a=i.xAxis,c=i.yAxis;o.x||o.y?u.classList.add(s.CONTAINER):u.classList.remove(s.CONTAINER),r.alwaysShowTracks&&t===f.HIDE||(n=n.toLowerCase(),"both"===n&&(a.track.classList[e](s.TRACK),c.track.classList[e](s.TRACK)),"x"===n&&a.track.classList[e](s.TRACK),"y"===n&&c.track.classList[e](s.TRACK))}}var u,a=n(86),c=r(a),l=n(78),f={SHOW:0,HIDE:1},s={TRACK:"show",CONTAINER:"scrolling"},d=(u={},o(u,f.SHOW,"add"),o(u,f.HIDE,"remove"),u);l.SmoothScrollbar.prototype.showTrack=i(f.SHOW),l.SmoothScrollbar.prototype.hideTrack=i(f.HIDE)},function(t,e,n){"use strict";function r(){if("glow"===this.options.overscrollEffect){var t=this.targets,e=this.size,n=t.canvas,r=n.elem,o=n.context,i=window.devicePixelRatio||1,u=e.container.width*i,a=e.container.height*i;u===r.width&&a===r.height||(r.width=u,r.height=a,o.scale(i,i))}}function o(){var t=this.size,e=this.thumbSize,n=this.targets,r=n.xAxis,o=n.yAxis;(0,u.setStyle)(r.track,{display:t.content.width<=t.container.width?"none":"block"}),(0,u.setStyle)(o.track,{display:t.content.height<=t.container.height?"none":"block"}),(0,u.setStyle)(r.thumb,{width:e.x+"px"}),(0,u.setStyle)(o.thumb,{height:e.y+"px"})}function i(){var t=this.options;this.__updateBounding();var e=this.getSize(),n={x:Math.max(e.content.width-e.container.width,0),y:Math.max(e.content.height-e.container.height,0)},i={realX:e.container.width/e.content.width*e.container.width,realY:e.container.height/e.content.height*e.container.height};i.x=Math.max(i.realX,t.thumbMinSize),i.y=Math.max(i.realY,t.thumbMinSize),this.__readonly("size",e).__readonly("limit",n).__readonly("thumbSize",i),o.call(this),r.call(this),this.setPosition(),this.__setThumbPosition()}var u=n(112),a=n(78);a.SmoothScrollbar.prototype.update=function(t){t?requestAnimationFrame(i.bind(this)):i.call(this)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(146);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(147);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(148);(0,a["default"])(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(149);(0,a["default"])(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(154);(0,a["default"])(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(155);(0,a["default"])(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(156);(0,a["default"])(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(157);(0,a["default"])(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return v[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a["default"])(t)}function i(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=this.limit,i=this.options,u=this.movement;this.__updateThrottle(),i.renderByPixels&&(t=Math.round(t),e=Math.round(e));var a=u.x+t,l=u.y+e;0===r.x&&(a=0),0===r.y&&(l=0);var f=this.__getDeltaLimit(n);u.x=c.pickInRange.apply(void 0,[a].concat(o(f.x))),u.y=c.pickInRange.apply(void 0,[l].concat(o(f.y)))}var u=n(2),a=r(u),c=n(112),l=n(78);Object.defineProperty(l.SmoothScrollbar.prototype,"__addMovement",{value:i,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this,e=this.movement,n=this.movementLocked;a.forEach(function(r){n[r]=e[r]&&t.__willOverscroll(r,e[r])})}function o(){var t=this.movementLocked;a.forEach(function(e){t[e]=!1})}function i(){var t=this.movementLocked;return t.x||t.y}var u=n(78),a=["x","y"];Object.defineProperty(u.SmoothScrollbar.prototype,"__autoLockMovement",{value:r,writable:!0,configurable:!0}),Object.defineProperty(u.SmoothScrollbar.prototype,"__unlockMovement",{value:o,writable:!0,configurable:!0}),Object.defineProperty(u.SmoothScrollbar.prototype,"__isMovementLocked",{value:i,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(t){var e=this.options,n=this.movement,r=this.overscrollRendered,o=this.MAX_OVERSCROLL,i=n[t]=(0,h.pickInRange)(n[t],-o,o),u=e.overscrollDamping,a=r[t]+(i-r[t])*u;e.renderByPixels&&(a|=0),!this.__isMovementLocked()&&Math.abs(a-r[t])<.1&&(a-=i/Math.abs(i||1)),Math.abs(a)<Math.abs(r[t])&&this.__readonly("overscrollBack",!0),(a*r[t]<0||Math.abs(a)<=1)&&(a=0,this.__readonly("overscrollBack",!1)),r[t]=a}}function i(t){var e=this.__touchRecord,n=this.overscrollRendered;return n.x!==t.x||n.y!==t.y||!(!d.GLOBAL_ENV.TOUCH_SUPPORTED||!e.updatedRecently())}function u(){var t=this,e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(e.length&&this.options.overscrollEffect){var n=this.options,r=this.overscrollRendered,u=l({},r);if(e.forEach(function(e){return o.call(t,e)}),i.call(this,u))switch(n.overscrollEffect){case"bounce":return s.overscrollBounce.call(this,r.x,r.y);case"glow":return s.overscrollGlow.call(this,r.x,r.y);default:return}}}var a=n(125),c=r(a),l=c["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(78),s=n(150),d=n(89),h=n(112);Object.defineProperty(f.SmoothScrollbar.prototype,"__renderOverscroll",{value:u,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(151);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(152);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(153);(0,a["default"])(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return l[t]}})})},function(t,e,n){"use strict";function r(t,e){var n=this.size,r=this.offset,i=this.targets,u=this.thumbOffset,a=i.xAxis,c=i.yAxis,l=i.content;if((0,o.setStyle)(l,{"-transform":"translate3d("+-(r.x+t)+"px, "+-(r.y+e)+"px, 0)"}),t){var f=n.container.width/(n.container.width+Math.abs(t));(0,o.setStyle)(a.thumb,{"-transform":"translate3d("+u.x+"px, 0, 0) scale3d("+f+", 1, 1)","-transform-origin":t<0?"left":"right"})}if(e){var s=n.container.height/(n.container.height+Math.abs(e));(0,o.setStyle)(c.thumb,{"-transform":"translate3d(0, "+u.y+"px, 0) scale3d(1, "+s+", 1)","-transform-origin":e<0?"top":"bottom"})}}Object.defineProperty(e,"__esModule",{value:!0}),e.overscrollBounce=r;var o=n(112)},function(t,e,n){"use strict";function r(t,e){var n=this.size,r=this.targets,a=this.options,c=r.canvas,l=c.elem,f=c.context;return t||e?((0,u.setStyle)(l,{display:"block"}),f.clearRect(0,0,n.content.width,n.container.height),f.fillStyle=a.overscrollEffectColor,o.call(this,t),void i.call(this,e)):(0,u.setStyle)(l,{display:"none"})}function o(t){var e=this.size,n=this.targets,r=this.__touchRecord,o=this.MAX_OVERSCROLL,i=e.container,l=i.width,f=i.height,s=n.canvas.context;s.save(),t>0&&s.transform(-1,0,0,1,l,0);var d=(0,u.pickInRange)(Math.abs(t)/o,0,a),h=(0,u.pickInRange)(d,0,c)*l,v=Math.abs(t),_=r.getLastPosition("y")||f/2;s.globalAlpha=d,s.beginPath(),s.moveTo(0,-h),s.quadraticCurveTo(v,_,0,f+h),s.fill(),s.closePath(),s.restore()}function i(t){var e=this.size,n=this.targets,r=this.__touchRecord,o=this.MAX_OVERSCROLL,i=e.container,l=i.width,f=i.height,s=n.canvas.context;s.save(),t>0&&s.transform(1,0,0,-1,0,f);var d=(0,u.pickInRange)(Math.abs(t)/o,0,a),h=(0,u.pickInRange)(d,0,c)*l,v=r.getLastPosition("x")||l/2,_=Math.abs(t);s.globalAlpha=d,s.beginPath(),s.moveTo(-h,0),s.quadraticCurveTo(v,_,l+h,0),s.fill(),s.closePath(),s.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.overscrollGlow=r;var u=n(112),a=.75,c=.25},function(t,e,n){"use strict";function r(t){var e=this.options,n=this.offset,r=this.movement,o=this.__touchRecord,i=e.damping,u=e.renderByPixels,a=e.overscrollDamping,c=n[t],l=r[t],f=i;if(this.__willOverscroll(t,l)?f=a:o.isActive()&&(f=.5),Math.abs(l)<1){var s=c+l;return{movement:0,position:l>0?Math.ceil(s):Math.floor(s)}}var d=l*(1-f);return u&&(d|=0),{movement:d,position:c+l-d}}function o(){var t=this.options,e=this.offset,n=this.limit,i=this.movement,a=this.overscrollRendered,c=this.__timerID;if(i.x||i.y||a.x||a.y){var l=r.call(this,"x"),f=r.call(this,"y"),s=[];if(t.overscrollEffect){var d=(0,u.pickInRange)(l.position,0,n.x),h=(0,u.pickInRange)(f.position,0,n.y);(a.x||d===e.x&&i.x)&&s.push("x"),(a.y||h===e.y&&i.y)&&s.push("y")}this.movementLocked.x||(i.x=l.movement),this.movementLocked.y||(i.y=f.movement),this.setPosition(l.position,f.position),this.__renderOverscroll(s)}c.render=requestAnimationFrame(o.bind(this))}var i=n(78),u=n(112);Object.defineProperty(i.SmoothScrollbar.prototype,"__render",{value:o,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a["default"])(t)}function i(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=this.options,i=this.movement;this.__updateThrottle();var u=this.__getDeltaLimit(n);r.renderByPixels&&(t=Math.round(t),e=Math.round(e)),i.x=c.pickInRange.apply(void 0,[t].concat(o(u.x))),i.y=c.pickInRange.apply(void 0,[e].concat(o(u.y)))}var u=n(2),a=r(u),c=n(112),l=n(78);Object.defineProperty(l.SmoothScrollbar.prototype,"__setMovement",{value:i,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.options,r=this.offset,o=this.limit;if(!n.continuousScrolling)return!1;var u=(0,i.pickInRange)(t+r.x,0,o.x),a=(0,i.pickInRange)(e+r.y,0,o.y),c=!0;return c&=u===r.x,c&=a===r.y,c&=u===o.x||0===u||a===o.y||0===a}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__shouldPropagateMovement",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(!t)return!1;var n=this.offset,r=this.limit,o=n[t];return(0,i.pickInRange)(e+o,0,r[t])===o&&(0===o||o===r[t])}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__willOverscroll",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(159);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(160);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(161);(0,a["default"])(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(168);(0,a["default"])(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(169);(0,a["default"])(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(170);(0,a["default"])(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(171);(0,a["default"])(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(172);(0,a["default"])(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return v[t]}})})},function(t,e,n){"use strict";function r(){var t=this,e=this.targets,n=e.container,r=e.content,o=!1,u=void 0,a=void 0;Object.defineProperty(this,"__isDrag",{get:function(){return o},enumerable:!1});var c=function l(e){var n=e.x,r=e.y;if(n||r){var o=t.options.speed;t.__setMovement(n*o,r*o),u=requestAnimationFrame(function(){l({x:n,y:r})})}};this.__addEvent(n,"dragstart",function(e){t.__eventFromChildScrollbar(e)||(o=!0,a=e.target.clientHeight,(0,i.setStyle)(r,{"pointer-events":"auto"}),cancelAnimationFrame(u),t.__updateBounding())}),this.__addEvent(document,"dragover mousemove touchmove",function(e){if(o&&!t.__eventFromChildScrollbar(e)){cancelAnimationFrame(u),e.preventDefault();var n=t.__getPointerTrend(e,a);c(n)}}),this.__addEvent(document,"dragend mouseup touchend blur",function(){cancelAnimationFrame(u),o=!1})}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__dragHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=this,e=this.targets,n=function(e){var n=t.size,r=t.offset,o=t.limit,i=t.movement;switch(e){case s.SPACE:return[0,200];case s.PAGE_UP:return[0,-n.container.height+40];case s.PAGE_DOWN:return[0,n.container.height-40];case s.END:return[0,Math.abs(i.y)+o.y-r.y];case s.HOME:return[0,-Math.abs(i.y)-r.y];case s.LEFT:return[-40,0];case s.UP:return[0,-40];case s.RIGHT:return[40,0];case s.DOWN:return[0,40];default:return null}},r=e.container,o=!1;this.__addEvent(r,"focus",function(){o=!0}),this.__addEvent(r,"blur",function(){o=!1}),this.__addEvent(r,"keydown",function(e){if(o){var i=t.options,u=t.parents,a=t.movementLocked,c=n(e.keyCode||e.which);if(c){var f=l(c,2),s=f[0],d=f[1];if(t.__shouldPropagateMovement(s,d))return r.blur(),u.length&&u[0].focus(),t.__updateThrottle();e.preventDefault(),t.__unlockMovement(),s&&t.__willOverscroll("x",s)&&(a.x=!0),d&&t.__willOverscroll("y",d)&&(a.y=!0);var h=i.speed;t.__addMovement(s*h,d*h)}}}),this.__addEvent(r,"keyup",function(){t.__unlockMovement()})}var i=n(162),u=r(i),a=n(165),c=r(a),l=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=(0,c["default"])(t);!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,u["default"])(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=n(78),s={SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};Object.defineProperty(f.SmoothScrollbar.prototype,"__keyboardHandler",{value:o,writable:!0,configurable:!0})},function(t,e,n){t.exports={"default":n(163),__esModule:!0}},function(t,e,n){n(57),n(4),t.exports=n(164)},function(t,e,n){var r=n(53),o=n(45)("iterator"),i=n(27);t.exports=n(12).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},function(t,e,n){t.exports={"default":n(166),__esModule:!0}},function(t,e,n){n(57),n(4),t.exports=n(167)},function(t,e,n){var r=n(17),o=n(52);t.exports=n(12).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){"use strict";function r(){var t=this,e=this.targets,n=e.container,r=e.xAxis,o=e.yAxis,u=function(e,n){var r=t.size,o=t.thumbSize;
if("x"===e){var i=r.container.width-(o.x-o.realX);return n/i*r.content.width}if("y"===e){var u=r.container.height-(o.y-o.realY);return n/u*r.content.height}return 0},a=function(t){return(0,i.isOneOf)(t,[r.track,r.thumb])?"x":(0,i.isOneOf)(t,[o.track,o.thumb])?"y":void 0},c=void 0,l=void 0,f=void 0,s=void 0,d=void 0;this.__addEvent(n,"click",function(e){if(!l&&(0,i.isOneOf)(e.target,[r.track,o.track])){var n=e.target,c=a(n),f=n.getBoundingClientRect(),s=(0,i.getPosition)(e),d=t.offset,h=t.thumbSize;if("x"===c){var v=s.x-f.left-h.x/2;t.__setMovement(u(c,v)-d.x,0)}else{var _=s.y-f.top-h.y/2;t.__setMovement(0,u(c,_)-d.y)}}}),this.__addEvent(n,"mousedown",function(e){if((0,i.isOneOf)(e.target,[r.thumb,o.thumb])){c=!0;var n=(0,i.getPosition)(e),u=e.target.getBoundingClientRect();s=a(e.target),f={x:n.x-u.left,y:n.y-u.top},d=t.targets.container.getBoundingClientRect()}}),this.__addEvent(window,"mousemove",function(e){if(c){e.preventDefault(),l=!0;var n=t.offset,r=(0,i.getPosition)(e);if("x"===s){var o=r.x-f.x-d.left;t.setPosition(u(s,o),n.y)}if("y"===s){var a=r.y-f.y-d.top;t.setPosition(n.x,u(s,a))}}}),this.__addEvent(window,"mouseup blur",function(){c=l=!1})}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__mouseHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){this.__addEvent(window,"resize",this.__updateThrottle)}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__resizeHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this,e=!1,n=void 0,r=this.targets,o=r.container,u=r.content,a=function l(e){var r=e.x,o=e.y;if(r||o){var i=t.options.speed;t.__setMovement(r*i,o*i),n=requestAnimationFrame(function(){l({x:r,y:o})})}},c=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];(0,i.setStyle)(o,{"-user-select":t})};this.__addEvent(window,"mousemove",function(r){if(e){cancelAnimationFrame(n);var o=t.__getPointerTrend(r);a(o)}}),this.__addEvent(u,"selectstart",function(r){return t.__eventFromChildScrollbar(r)?c("none"):(cancelAnimationFrame(n),t.__updateBounding(),void(e=!0))}),this.__addEvent(window,"mouseup blur",function(){cancelAnimationFrame(n),c(),e=!1}),this.__addEvent(o,"scroll",function(t){t.preventDefault(),o.scrollTop=o.scrollLeft=0})}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__selectHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this,e=this.targets,n=this.movementLocked,r=this.__touchRecord,o=e.container;this.__addEvent(o,"touchstart",function(e){if(!t.__isDrag){var n=t.__timerID,o=t.movement;cancelAnimationFrame(n.scrollTo),t.__willOverscroll("x")||(o.x=0),t.__willOverscroll("y")||(o.y=0),r.track(e),t.__autoLockMovement()}}),this.__addEvent(o,"touchmove",function(e){if(!(t.__isDrag||a&&a!==t)){r.update(e);var n=r.getDelta(),o=n.x,i=n.y;if(t.__shouldPropagateMovement(o,i))return t.__updateThrottle();var u=t.movement,c=t.MAX_OVERSCROLL,l=t.options;if(u.x&&t.__willOverscroll("x",o)){var f=2;"bounce"===l.overscrollEffect&&(f+=Math.abs(10*u.x/c)),Math.abs(u.x)>=c?o=0:o/=f}if(u.y&&t.__willOverscroll("y",i)){var s=2;"bounce"===l.overscrollEffect&&(s+=Math.abs(10*u.y/c)),Math.abs(u.y)>=c?i=0:i/=s}t.__autoLockMovement(),e.preventDefault(),t.__addMovement(o,i,!0),a=t}}),this.__addEvent(o,"touchcancel touchend",function(e){if(!t.__isDrag){var o=t.options.speed,c=r.getVelocity(),l=c.x,f=c.y;l=n.x?0:Math.min(l*i.GLOBAL_ENV.EASING_MULTIPLIER,1e3),f=n.y?0:Math.min(f*i.GLOBAL_ENV.EASING_MULTIPLIER,1e3),t.__addMovement(Math.abs(l)>u?l*o:0,Math.abs(f)>u?f*o:0,!0),t.__unlockMovement(),r.release(e),a=null}})}var o=n(78),i=n(89),u=100,a=null;Object.defineProperty(o.SmoothScrollbar.prototype,"__touchHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this,e=this.targets.container,n=!1,r=(0,i.debounce)(function(){n=!1},30,!1);this.__addEvent(e,u.GLOBAL_ENV.WHEEL_EVENT,function(e){var o=t.options,u=(0,i.getDelta)(e),a=u.x,c=u.y;return a*=o.speed,c*=o.speed,t.__shouldPropagateMovement(a,c)?t.__updateThrottle():(e.preventDefault(),r(),t.overscrollBack&&(n=!0),n&&(t.__willOverscroll("x",a)&&(a=0),t.__willOverscroll("y",c)&&(c=0)),void t.__addMovement(a,c,!0))})}var o=n(78),i=n(112),u=n(89);Object.defineProperty(o.SmoothScrollbar.prototype,"__wheelHandler",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(174);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(86),i=r(o),u=n(90),a=r(u);Object.defineProperty(e,"__esModule",{value:!0});var c=n(175);(0,a["default"])(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return c[t]}})});var l=n(176);(0,a["default"])(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return l[t]}})});var f=n(177);(0,a["default"])(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return f[t]}})});var s=n(178);(0,a["default"])(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return s[t]}})});var d=n(179);(0,a["default"])(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return d[t]}})});var h=n(182);(0,a["default"])(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return h[t]}})});var v=n(183);(0,a["default"])(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return v[t]}})});var _=n(184);(0,a["default"])(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return _[t]}})});var p=n(185);(0,a["default"])(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=n(186);(0,a["default"])(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&(0,i["default"])(e,t,{enumerable:!0,get:function(){return y[t]}})})},function(t,e,n){"use strict";function r(t,e,n){var r=this;if(!t||"function"!=typeof t.addEventListener)throw new TypeError("expect elem to be a DOM element, but got "+t);var o=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];!t.type.match(/drag/)&&t.defaultPrevented||n.apply(void 0,[t].concat(r))};e.split(/\s+/g).forEach(function(e){r.__handlers.push({evt:e,elem:t,fn:o,hasRegistered:!0}),t.addEventListener(e,o)})}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__addEvent",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.target;return this.children.some(function(t){return t.contains(e)})}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__eventFromChildScrollbar",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this.options,n=this.offset,r=this.limit;return t&&(e.continuousScrolling||e.overscrollEffect)?{x:[-(1/0),1/0],y:[-(1/0),1/0]}:{x:[-n.x,r.x-n.x],y:[-n.y,r.y-n.y]}}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__getDeltaLimit",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.bounding,r=n.top,o=n.right,u=n.bottom,a=n.left,c=(0,i.getPosition)(t),l=c.x,f=c.y,s={x:0,y:0};return 0===l&&0===f?s:(l>o-e?s.x=l-o+e:l<a+e&&(s.x=l-a-e),f>u-e?s.y=f-u+e:f<r+e&&(s.y=f-r-e),s)}var o=n(78),i=n(112);Object.defineProperty(o.SmoothScrollbar.prototype,"__getPointerTrend",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,h["default"])(t)}function i(t){var e=this,n={speed:1,damping:.1,thumbMinSize:20,syncCallbacks:!1,renderByPixels:!0,alwaysShowTracks:!1,continuousScrolling:"auto",overscrollEffect:!1,overscrollEffectColor:"#87ceeb",overscrollDamping:.2},r={damping:[0,1],speed:[0,1/0],thumbMinSize:[0,1/0],overscrollEffect:[!1,"bounce","glow"],overscrollDamping:[0,1]},i=function(){var t=arguments.length<=0||void 0===arguments[0]?"auto":arguments[0];if(n.overscrollEffect!==!1)return!1;switch(t){case"auto":return e.isNestedScrollbar;default:return!!t}},u={set ignoreEvents(t){console.warn("`options.ignoreEvents` parameter is deprecated, use `instance#unregisterEvents()` method instead. https://github.com/idiotWu/smooth-scrollbar/wiki/Instance-Methods#instanceunregisterevents-regex--regex-regex--")},set friction(t){console.warn("`options.friction="+t+"` is deprecated, use `options.damping="+t/100+"` instead."),this.damping=t/100},get syncCallbacks(){return n.syncCallbacks},set syncCallbacks(t){n.syncCallbacks=!!t},get renderByPixels(){return n.renderByPixels},set renderByPixels(t){n.renderByPixels=!!t},get alwaysShowTracks(){return n.alwaysShowTracks},set alwaysShowTracks(t){t=!!t,n.alwaysShowTracks=t;var r=e.targets.container;t?(e.showTrack(),r.classList.add("sticky")):(e.hideTrack(),r.classList.remove("sticky"))},get continuousScrolling(){return i(n.continuousScrolling)},set continuousScrolling(t){"auto"===t?n.continuousScrolling=t:n.continuousScrolling=!!t},get overscrollEffect(){return n.overscrollEffect},set overscrollEffect(t){t&&!~r.overscrollEffect.indexOf(t)&&(console.warn("`overscrollEffect` should be one of "+(0,s["default"])(r.overscrollEffect)+", but got "+(0,s["default"])(t)+". It will be set to `false` now."),t=!1),n.overscrollEffect=t},get overscrollEffectColor(){return n.overscrollEffectColor},set overscrollEffectColor(t){n.overscrollEffectColor=t}};(0,l["default"])(n).filter(function(t){return!u.hasOwnProperty(t)}).forEach(function(t){(0,a["default"])(u,t,{enumerable:!0,get:function(){return n[t]},set:function(e){if(isNaN(parseFloat(e)))throw new TypeError("expect `options."+t+"` to be a number, but got "+("undefined"==typeof e?"undefined":b(e)));n[t]=g.pickInRange.apply(void 0,[e].concat(o(r[t])))}})}),this.__readonly("options",u),this.setOptions(t)}var u=n(86),a=r(u),c=n(90),l=r(c),f=n(180),s=r(f),d=n(2),h=r(d),v=n(55),_=r(v),p=n(62),y=r(p),b="function"==typeof y["default"]&&"symbol"==typeof _["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof y["default"]&&t.constructor===y["default"]?"symbol":typeof t},g=n(112),m=n(78);Object.defineProperty(m.SmoothScrollbar.prototype,"__initOptions",{value:i,writable:!0,configurable:!0})},function(t,e,n){t.exports={"default":n(181),__esModule:!0}},function(t,e,n){var r=n(12),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){"use strict";function r(){this.update(),this.__keyboardHandler(),this.__resizeHandler(),this.__selectHandler(),this.__mouseHandler(),this.__touchHandler(),this.__wheelHandler(),this.__dragHandler(),this.__render()}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__initScrollbar",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return(0,u["default"])(this,t,{value:e,enumerable:!0,configurable:!0})}var i=n(86),u=r(i),a=n(78);Object.defineProperty(a.SmoothScrollbar.prototype,"__readonly",{value:o,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this.targets,e=this.size,n=this.offset,r=this.thumbOffset,i=this.thumbSize;r.x=n.x/e.content.width*(e.container.width-(i.x-i.realX)),r.y=n.y/e.content.height*(e.container.height-(i.y-i.realY)),(0,o.setStyle)(t.xAxis.thumb,{"-transform":"translate3d("+r.x+"px, 0, 0)"}),(0,o.setStyle)(t.yAxis.thumb,{"-transform":"translate3d(0, "+r.y+"px, 0)"})}var o=n(112),i=n(78);Object.defineProperty(i.SmoothScrollbar.prototype,"__setThumbPosition",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(){var t=this.targets.container,e=t.getBoundingClientRect(),n=e.top,r=e.right,o=e.bottom,i=e.left,u=window,a=u.innerHeight,c=u.innerWidth;this.__readonly("bounding",{top:Math.max(n,0),right:Math.min(r,c),bottom:Math.min(o,a),left:Math.max(i,0)})}var o=n(78);Object.defineProperty(o.SmoothScrollbar.prototype,"__updateBounding",{value:r,writable:!0,configurable:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,a["default"])(t)}function i(){var t=this.targets,e=t.container,n=t.content;this.__readonly("children",[].concat(o(n.querySelectorAll(l.selectors)))),this.__readonly("isNestedScrollbar",!1);for(var r=[],i=e;i=i.parentElement;)l.sbList.has(i)&&(this.__readonly("isNestedScrollbar",!0),r.push(i));this.__readonly("parents",r)}var u=n(2),a=r(u),c=n(78),l=n(89);Object.defineProperty(c.SmoothScrollbar.prototype,"__updateTree",{value:i,writable:!0,configurable:!0})},function(t,e){}])});
},{}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _wolfy87Eventemitter = require('wolfy87-eventemitter');

var _wolfy87Eventemitter2 = _interopRequireDefault(_wolfy87Eventemitter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Resize = function (_eventEmitter) {
  _inherits(Resize, _eventEmitter);

  function Resize() {
    _classCallCheck(this, Resize);

    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Resize).call(this));

    _this.onResizeHandle = _this.onResize.bind(_this);

    window.addEventListener('resize', _this.onResizeHandle);
    window.addEventListener('orientationchange', _this.onResizeHandle);
    return _this;
  }

  _createClass(Resize, [{
    key: 'onResize',
    value: function onResize() {
      if (!this.started) {
        this.started = true;
        this.times = 0;

        this.emitEvent('resize:start');
      }

      if (this.handle != null) {
        this.times = 0;

        window.cancelAnimationFrame(this.handle);
      }

      this.handle = window.requestAnimationFrame(function tick() {
        if (++this.times === 10) {
          this.handle = null;
          this.started = false;
          this.times = 0;

          this.emitEvent('resize:end');
        } else {
          this.handle = window.requestAnimationFrame(tick.bind(this));
        }
      }.bind(this));
    }
  }, {
    key: 'destroy',
    value: function destroy() {
      window.removeEventListener('resize', this.onResizeHandle);
      window.removeEventListener('orientationchange', this.onResizeHandle);

      this.removeAllListeners();
    }
  }]);

  return Resize;
}(_wolfy87Eventemitter2.default);

exports.default = Resize;

},{"wolfy87-eventemitter":12}],12:[function(require,module,exports){
/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */

;(function () {
    'use strict';

    /**
     * Class for managing events.
     * Can be extended to provide event functionality in other classes.
     *
     * @class EventEmitter Manages event registering and emitting.
     */
    function EventEmitter() {}

    // Shortcuts to improve speed and size
    var proto = EventEmitter.prototype;
    var exports = this;
    var originalGlobalValue = exports.EventEmitter;

    /**
     * Finds the index of the listener for the event in its storage array.
     *
     * @param {Function[]} listeners Array of listeners to search through.
     * @param {Function} listener Method to look for.
     * @return {Number} Index of the specified listener, -1 if not found
     * @api private
     */
    function indexOfListener(listeners, listener) {
        var i = listeners.length;
        while (i--) {
            if (listeners[i].listener === listener) {
                return i;
            }
        }

        return -1;
    }

    /**
     * Alias a method while keeping the context correct, to allow for overwriting of target method.
     *
     * @param {String} name The name of the target method.
     * @return {Function} The aliased method
     * @api private
     */
    function alias(name) {
        return function aliasClosure() {
            return this[name].apply(this, arguments);
        };
    }

    /**
     * Returns the listener array for the specified event.
     * Will initialise the event object and listener arrays if required.
     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.
     * Each property in the object response is an array of listener functions.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Function[]|Object} All listener functions for the event.
     */
    proto.getListeners = function getListeners(evt) {
        var events = this._getEvents();
        var response;
        var key;

        // Return a concatenated array of all matching events if
        // the selector is a regular expression.
        if (evt instanceof RegExp) {
            response = {};
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    response[key] = events[key];
                }
            }
        }
        else {
            response = events[evt] || (events[evt] = []);
        }

        return response;
    };

    /**
     * Takes a list of listener objects and flattens it into a list of listener functions.
     *
     * @param {Object[]} listeners Raw listener objects.
     * @return {Function[]} Just the listener functions.
     */
    proto.flattenListeners = function flattenListeners(listeners) {
        var flatListeners = [];
        var i;

        for (i = 0; i < listeners.length; i += 1) {
            flatListeners.push(listeners[i].listener);
        }

        return flatListeners;
    };

    /**
     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Object} All listener functions for an event in an object.
     */
    proto.getListenersAsObject = function getListenersAsObject(evt) {
        var listeners = this.getListeners(evt);
        var response;

        if (listeners instanceof Array) {
            response = {};
            response[evt] = listeners;
        }

        return response || listeners;
    };

    /**
     * Adds a listener function to the specified event.
     * The listener will not be added if it is a duplicate.
     * If the listener returns true then it will be removed after it is called.
     * If you pass a regular expression as the event name then the listener will be added to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListener = function addListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var listenerIsWrapped = typeof listener === 'object';
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {
                listeners[key].push(listenerIsWrapped ? listener : {
                    listener: listener,
                    once: false
                });
            }
        }

        return this;
    };

    /**
     * Alias of addListener
     */
    proto.on = alias('addListener');

    /**
     * Semi-alias of addListener. It will add a listener that will be
     * automatically removed after its first execution.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addOnceListener = function addOnceListener(evt, listener) {
        return this.addListener(evt, {
            listener: listener,
            once: true
        });
    };

    /**
     * Alias of addOnceListener.
     */
    proto.once = alias('addOnceListener');

    /**
     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.
     * You need to tell it what event names should be matched by a regex.
     *
     * @param {String} evt Name of the event to create.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvent = function defineEvent(evt) {
        this.getListeners(evt);
        return this;
    };

    /**
     * Uses defineEvent to define multiple events.
     *
     * @param {String[]} evts An array of event names to define.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvents = function defineEvents(evts) {
        for (var i = 0; i < evts.length; i += 1) {
            this.defineEvent(evts[i]);
        }
        return this;
    };

    /**
     * Removes a listener function from the specified event.
     * When passed a regular expression as the event name, it will remove the listener from all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to remove the listener from.
     * @param {Function} listener Method to remove from the event.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListener = function removeListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var index;
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key)) {
                index = indexOfListener(listeners[key], listener);

                if (index !== -1) {
                    listeners[key].splice(index, 1);
                }
            }
        }

        return this;
    };

    /**
     * Alias of removeListener
     */
    proto.off = alias('removeListener');

    /**
     * Adds listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.
     * You can also pass it a regular expression to add the array of listeners to all events that match it.
     * Yeah, this function does quite a bit. That's probably a bad thing.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListeners = function addListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(false, evt, listeners);
    };

    /**
     * Removes listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be removed.
     * You can also pass it a regular expression to remove the listeners from all events that match it.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListeners = function removeListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(true, evt, listeners);
    };

    /**
     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.
     * The first argument will determine if the listeners are removed (true) or added (false).
     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be added/removed.
     * You can also pass it a regular expression to manipulate the listeners of all events that match it.
     *
     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {
        var i;
        var value;
        var single = remove ? this.removeListener : this.addListener;
        var multiple = remove ? this.removeListeners : this.addListeners;

        // If evt is an object then pass each of its properties to this method
        if (typeof evt === 'object' && !(evt instanceof RegExp)) {
            for (i in evt) {
                if (evt.hasOwnProperty(i) && (value = evt[i])) {
                    // Pass the single listener straight through to the singular method
                    if (typeof value === 'function') {
                        single.call(this, i, value);
                    }
                    else {
                        // Otherwise pass back to the multiple function
                        multiple.call(this, i, value);
                    }
                }
            }
        }
        else {
            // So evt must be a string
            // And listeners must be an array of listeners
            // Loop over it and pass each one to the multiple method
            i = listeners.length;
            while (i--) {
                single.call(this, evt, listeners[i]);
            }
        }

        return this;
    };

    /**
     * Removes all listeners from a specified event.
     * If you do not specify an event then all listeners will be removed.
     * That means every event will be emptied.
     * You can also pass a regex to remove all events that match it.
     *
     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeEvent = function removeEvent(evt) {
        var type = typeof evt;
        var events = this._getEvents();
        var key;

        // Remove different things depending on the state of evt
        if (type === 'string') {
            // Remove all listeners for the specified event
            delete events[evt];
        }
        else if (evt instanceof RegExp) {
            // Remove all events matching the regex.
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    delete events[key];
                }
            }
        }
        else {
            // Remove all listeners in all events
            delete this._events;
        }

        return this;
    };

    /**
     * Alias of removeEvent.
     *
     * Added to mirror the node API.
     */
    proto.removeAllListeners = alias('removeEvent');

    /**
     * Emits an event of your choice.
     * When emitted, every listener attached to that event will be executed.
     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.
     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.
     * So they will not arrive within the array on the other side, they will be separate.
     * You can also pass a regular expression to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {Array} [args] Optional array of arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emitEvent = function emitEvent(evt, args) {
        var listenersMap = this.getListenersAsObject(evt);
        var listeners;
        var listener;
        var i;
        var key;
        var response;

        for (key in listenersMap) {
            if (listenersMap.hasOwnProperty(key)) {
                listeners = listenersMap[key].slice(0);
                i = listeners.length;

                while (i--) {
                    // If the listener returns true then it shall be removed from the event
                    // The function is executed either with a basic call or an apply if there is an args array
                    listener = listeners[i];

                    if (listener.once === true) {
                        this.removeListener(evt, listener.listener);
                    }

                    response = listener.listener.apply(this, args || []);

                    if (response === this._getOnceReturnValue()) {
                        this.removeListener(evt, listener.listener);
                    }
                }
            }
        }

        return this;
    };

    /**
     * Alias of emitEvent
     */
    proto.trigger = alias('emitEvent');

    /**
     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.
     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {...*} Optional additional arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emit = function emit(evt) {
        var args = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(evt, args);
    };

    /**
     * Sets the current value to check against when executing listeners. If a
     * listeners return value matches the one set here then it will be removed
     * after execution. This value defaults to true.
     *
     * @param {*} value The new value to check for when executing listeners.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.setOnceReturnValue = function setOnceReturnValue(value) {
        this._onceReturnValue = value;
        return this;
    };

    /**
     * Fetches the current value to check against when executing listeners. If
     * the listeners return value matches this one then it should be removed
     * automatically. It will return true by default.
     *
     * @return {*|Boolean} The current value to check for or the default, true.
     * @api private
     */
    proto._getOnceReturnValue = function _getOnceReturnValue() {
        if (this.hasOwnProperty('_onceReturnValue')) {
            return this._onceReturnValue;
        }
        else {
            return true;
        }
    };

    /**
     * Fetches the events object and creates one if required.
     *
     * @return {Object} The events storage object.
     * @api private
     */
    proto._getEvents = function _getEvents() {
        return this._events || (this._events = {});
    };

    /**
     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.
     *
     * @return {Function} Non conflicting EventEmitter class.
     */
    EventEmitter.noConflict = function noConflict() {
        exports.EventEmitter = originalGlobalValue;
        return EventEmitter;
    };

    // Expose the class either via AMD, CommonJS or the global object
    if (typeof define === 'function' && define.amd) {
        define(function () {
            return EventEmitter;
        });
    }
    else if (typeof module === 'object' && module.exports){
        module.exports = EventEmitter;
    }
    else {
        exports.EventEmitter = EventEmitter;
    }
}.call(this));

},{}]},{},[1,2,3,4,5,6,7,8,9])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvc2NyaXB0cy9BcHAuanMiLCJhc3NldHMvc2NyaXB0cy9tb2R1bGVzLmpzIiwiYXNzZXRzL3NjcmlwdHMvbW9kdWxlcy9BYnN0cmFjdE1vZHVsZS5qcyIsImFzc2V0cy9zY3JpcHRzL21vZHVsZXMvU2Nyb2xsLmpzIiwiYXNzZXRzL3NjcmlwdHMvbW9kdWxlcy9TbW9vdGhTY3JvbGwuanMiLCJhc3NldHMvc2NyaXB0cy91dGlscy9lbnZpcm9ubWVudC5qcyIsImFzc2V0cy9zY3JpcHRzL3V0aWxzL2dsb2JhbHMuanMiLCJhc3NldHMvc2NyaXB0cy91dGlscy9odG1sLmpzIiwiYXNzZXRzL3NjcmlwdHMvdXRpbHMvaXMuanMiLCJub2RlX21vZHVsZXMvc21vb3RoLXNjcm9sbGJhci9kaXN0L3Ntb290aC1zY3JvbGxiYXIuanMiLCJub2RlX21vZHVsZXMvdGhyb3R0bGVkLXJlc2l6ZS9kaXN0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3dvbGZ5ODctZXZlbnRlbWl0dGVyL0V2ZW50RW1pdHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQTs7SUFBWSxPOzs7Ozs7MEpBTlo7OztBQUtBOzs7SUFHTSxHO0FBQ0YsbUJBQWM7QUFBQTs7QUFBQTs7QUFDVixhQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsYUFBSyxjQUFMLEdBQXNCLEVBQXRCOztBQUVBLCtCQUFVLEVBQVYsQ0FBYSxpQkFBYixFQUFnQyxVQUFDLEtBQUQsRUFBVztBQUN2QyxnQkFBRyxNQUFNLFVBQVQsRUFBb0I7QUFDaEIsc0JBQUssV0FBTCxHQUNLLFdBREw7QUFFSCxhQUhELE1BR0s7QUFDRCxzQkFBSyxhQUFMLEdBQ0ssV0FETDtBQUVIO0FBRUosU0FURDtBQVVIOztBQUVEOzs7Ozs7a0JBSUEsVywwQkFBYztBQUNWO0FBQ0EsZUFBTyxJQUFQO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgeyAkZG9jdW1lbnQsICRib2R5IH0gZnJvbSAnLi91dGlscy9lbnZpcm9ubWVudCc7XG5pbXBvcnQgeyBnZXROb2RlRGF0YSB9IGZyb20gJy4vdXRpbHMvaHRtbCc7XG5pbXBvcnQgZ2xvYmFscyBmcm9tICcuL3V0aWxzL2dsb2JhbHMnO1xuXG4vLyBCYXNpYyBtb2R1bGVzXG5pbXBvcnQgKiBhcyBtb2R1bGVzIGZyb20gJy4vbW9kdWxlcyc7XG5cbmNsYXNzIEFwcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcyA9IG1vZHVsZXM7XG4gICAgICAgIHRoaXMuY3VycmVudE1vZHVsZXMgPSBbXTtcblxuICAgICAgICAkZG9jdW1lbnQub24oJ2luaXRNb2R1bGVzLkFwcCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYoZXZlbnQuZmlyc3RCbG9vZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0R2xvYmFscygpXG4gICAgICAgICAgICAgICAgICAgIC5pbml0TW9kdWxlcygpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVNb2R1bGVzKClcbiAgICAgICAgICAgICAgICAgICAgLmluaXRNb2R1bGVzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBnbG9iYWwgZnVuY3Rpb25zIGFuZCBzZXR0aW5nc1xuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBpbml0R2xvYmFscygpIHtcbiAgICAgICAgZ2xvYmFscygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYWxsIGV4aXN0aW5nIG1vZHVsZXNcbiAgICAgKiBAcmV0dXJuICB7T2JqZWN0fSAgdGhpcyAgQWxsb3dzIGNoYWluaW5nXG4gICAgICovXG4gICAgZGVsZXRlTW9kdWxlcygpIHtcbiAgICAgICAgLy8gTG9vcCBtb2R1bGVzXG4gICAgICAgIHZhciBpID0gdGhpcy5jdXJyZW50TW9kdWxlcy5sZW5ndGg7XG5cbiAgICAgICAgLy8gRGVzdHJveSBhbGwgbW9kdWxlc1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb2R1bGVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1vZHVsZXMuc3BsaWNlKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBtb2R1bGVzIGFuZCBpbml0aWFsaXplIHRoZW1cbiAgICAgKiBAcmV0dXJuICB7T2JqZWN0fSAgdGhpcyAgQWxsb3dzIGNoYWluaW5nXG4gICAgICovXG4gICAgaW5pdE1vZHVsZXMoKSB7XG4gICAgICAgIC8vIEVsZW1lbnRzIHdpdGggbW9kdWxlXG4gICAgICAgIHZhciBtb2R1bGVFbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGVdJyk7XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGVsZW1lbnRzXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGVsc0xlbiA9IG1vZHVsZUVscy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICg7IGkgPCBlbHNMZW47IGkrKykge1xuXG4gICAgICAgICAgICAvLyBDdXJyZW50IGVsZW1lbnRcbiAgICAgICAgICAgIGxldCBlbCA9IG1vZHVsZUVsc1tpXTtcblxuICAgICAgICAgICAgLy8gQWxsIGRhdGEtIGF0dHJpYnV0ZXMgY29uc2lkZXJlZCBhcyBvcHRpb25zXG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IGdldE5vZGVEYXRhKGVsKTtcblxuICAgICAgICAgICAgLy8gQWRkIGN1cnJlbnQgRE9NIGVsZW1lbnQgYW5kIGpRdWVyeSBlbGVtZW50XG4gICAgICAgICAgICBvcHRpb25zLmVsID0gZWw7XG4gICAgICAgICAgICBvcHRpb25zLiRlbCA9ICQoZWwpO1xuXG4gICAgICAgICAgICAvLyBNb2R1bGUgZG9lcyBleGlzdCBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICBsZXQgYXR0ciA9IG9wdGlvbnMubW9kdWxlO1xuXG4gICAgICAgICAgICAvLyBTcGxpdHRpbmcgbW9kdWxlcyBmb3VuZCBpbiB0aGUgZGF0YS1hdHRyaWJ1dGVcbiAgICAgICAgICAgIGxldCBtb2R1bGVJZGVudHMgPSBhdHRyLnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJywnKTtcblxuICAgICAgICAgICAgLy8gTG9vcCBtb2R1bGVzXG4gICAgICAgICAgICBsZXQgaiA9IDA7XG4gICAgICAgICAgICBsZXQgbW9kdWxlc0xlbiA9IG1vZHVsZUlkZW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGZvciAoOyBqIDwgbW9kdWxlc0xlbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vZHVsZUF0dHIgPSBtb2R1bGVJZGVudHNbal07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMubW9kdWxlc1ttb2R1bGVBdHRyXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbW9kdWxlID0gbmV3IHRoaXMubW9kdWxlc1ttb2R1bGVBdHRyXShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9kdWxlcy5wdXNoKG1vZHVsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG4vLyBJSUZFIGZvciBsb2FkaW5nIHRoZSBhcHBsaWNhdGlvblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbihmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cuQXBwID0gbmV3IEFwcCgpO1xuICAgICRkb2N1bWVudC50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ2luaXRNb2R1bGVzLkFwcCcsXG4gICAgICAgIGZpcnN0Qmxvb2Q6IHRydWVcbiAgICB9KTtcblxuICAgICRkb2N1bWVudC5vbignU21vb3RoU2Nyb2xsLmlzUmVhZHknLCAoZXZlbnQpID0+IHtcbiAgICAgICAgJGJvZHkuYWRkQ2xhc3MoJ2lzLWxvYWRlZCcpO1xuICAgIH0pO1xufSkoKTtcbiIsIi8qIGpzaGludCBlc25leHQ6IHRydWUgKi9cbi8vIGV4cG9ydCB7ZGVmYXVsdCBhcyBTbW9vdGhTY3JvbGx9IGZyb20gJy4vbW9kdWxlcy9TbW9vdGhTY3JvbGwnO1xuIiwiLyoganNoaW50IGVzbmV4dDogdHJ1ZSAqL1xuaW1wb3J0IHsgJGRvY3VtZW50LCAkd2luZG93LCAkaHRtbCwgJGJvZHkgfSBmcm9tICcuLi91dGlscy9lbnZpcm9ubWVudCc7XG5cbi8qKlxuICogQWJzdHJhY3QgbW9kdWxlXG4gKiBHaXZlcyBhY2Nlc3MgdG8gZ2VuZXJpYyBqUXVlcnkgbm9kZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy4kZG9jdW1lbnQgPSAkZG9jdW1lbnQ7XG4gICAgICAgIHRoaXMuJHdpbmRvdyA9ICR3aW5kb3c7XG4gICAgICAgIHRoaXMuJGh0bWwgPSAkaHRtbDtcbiAgICAgICAgdGhpcy4kYm9keSA9ICRib2R5O1xuICAgICAgICB0aGlzLiRlbCA9IG9wdGlvbnMuJGVsO1xuICAgICAgICB0aGlzLmVsID0gb3B0aW9ucy5lbDtcbiAgICB9XG59XG4iLCIvKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovXG5pbXBvcnQgeyAkd2luZG93ICwgJGRvY3VtZW50ICwgJGJvZHl9IGZyb20gJy4uL3V0aWxzL2Vudmlyb25tZW50JztcbmltcG9ydCBSZXNpemUgZnJvbSAndGhyb3R0bGVkLXJlc2l6ZSc7XG5cbi8qKlxuICogTWFuYWdlIGFuaW1hdGlvbiBvZiBlbGVtZW50cyBvbiB0aGUgcGFnZSBhY2NvcmRpbmcgdG8gc2Nyb2xsIHBvc2l0aW9uLlxuICpcbiAqIEB0b2RvICBNYW5hZ2Ugc29tZSBvcHRpb25zIChub3JtYWxseSBmcm9tIGRhdGEgYXR0cmlidXRlcykgd2l0aCBjb25zdHJ1Y3RvciBvcHRpb25zIChleC46IHNldCByZXBlYXQgZm9yIGFsbClcbiAqIEB0b2RvICBNZXRob2QgdG8gZ2V0IHRoZSBkaXN0YW5jZSAoYXMgcGVyY2VudGFnZSkgb2YgYW4gZWxlbWVudCBpbiB0aGUgdmlld3BvcnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICcnXG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuQXBwLnNjcm9sbCA9IHRoaXMuc2Nyb2xsO1xuXG4gICAgICAgIHRoaXMud2luZG93SGVpZ2h0ID0gJHdpbmRvdy5oZWlnaHQoKTtcbiAgICAgICAgdGhpcy53aW5kb3dNaWRkbGUgPSB0aGlzLndpbmRvd0hlaWdodCAvIDI7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RvciA9ICcuanMtYW5pbSc7XG5cbiAgICAgICAgLy8gU2V0IHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciBmb3IgdGhlIHNtb290aHNjcm9sbCBtb2R1bGVcbiAgICAgICAgdGhpcy4kZWwgPSAkKCcjanMtc2Nyb2xsJyk7XG5cbiAgICAgICAgdGhpcy5hbmltYXRlZEVsZW1lbnRzID0gW107XG5cbiAgICAgICAgdGhpcy5yZXF1ZXN0SWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBzY3JvbGxpbmcgYW5pbWF0aW9uc1xuICAgICAqL1xuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50cygpO1xuXG4gICAgICAgIHZhciByZXNpemUgPSBuZXcgUmVzaXplKCk7XG4gICAgICAgIHJlc2l6ZS5vbigncmVzaXplOmVuZCcsICgpID0+IHRoaXMudXBkYXRlRWxlbWVudHMoKSk7XG5cbiAgICAgICAgJGRvY3VtZW50Lm9uKCdzY3JvbGxUby5TY3JvbGwnLChvcHRpb25zKT0+dGhpcy5zY3JvbGxUbyhvcHRpb25zLnZhbHVlKSk7XG4gICAgICAgIC8vIFVwZGF0ZSBldmVudFxuICAgICAgICAkZG9jdW1lbnQub24oJ3VwZGF0ZS5TY3JvbGwnLCAoZXZlbnQsIG9wdGlvbnMpID0+IHRoaXMudXBkYXRlRWxlbWVudHMob3B0aW9ucykpO1xuICAgICAgICAvLyBSZW5kZXIgZXZlbnRcbiAgICAgICAgJGRvY3VtZW50Lm9uKCdyZW5kZXIuU2Nyb2xsJywgKCkgPT4gdGhpcy5yZW5kZXJBbmltYXRpb25zKGZhbHNlKSk7XG5cbiAgICAgICAgLy8gUmVidWlsZCBldmVudFxuICAgICAgICAkZG9jdW1lbnQub24oJ3JlYnVpbGQuU2Nyb2xsJywgKCkgPT57XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvKDApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50cygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGFsbCBhbmltYXRhYmxlIGVsZW1lbnRzLlxuICAgICAqIENhbGxlZCBvbiBwYWdlIGxvYWQgYW5kIGFueSBzdWJzZXF1ZW50IHVwZGF0ZXMuXG4gICAgICovXG4gICAgYWRkRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZWRFbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIHZhciAkZWxlbWVudHMgPSAkKHRoaXMuc2VsZWN0b3IpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsZW4gPSAkZWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyBpICsrKSB7XG4gICAgICAgICAgICBsZXQgJGVsZW1lbnQgPSAkZWxlbWVudHMuZXEoaSk7XG4gICAgICAgICAgICBsZXQgZWxlbWVudFRhcmdldCA9ICRlbGVtZW50LmRhdGEoJ3RhcmdldCcpO1xuICAgICAgICAgICAgbGV0ICR0YXJnZXQgPSAoZWxlbWVudFRhcmdldCkgPyAkKGVsZW1lbnRUYXJnZXQpIDogJGVsZW1lbnQ7XG4gICAgICAgICAgICBsZXQgZWxlbWVudE9mZnNldCA9ICR0YXJnZXQub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgbGV0IGVsZW1lbnRMaW1pdCA9IGVsZW1lbnRPZmZzZXQgKyAkZWxlbWVudC5vdXRlckhlaWdodCgpO1xuXG4gICAgICAgICAgICAvLyBJZiBlbGVtZW50cyBsb3NlcyBpdHMgYW5pbWF0aW9uIGFmdGVyIHNjcm9sbGluZyBwYXN0IGl0XG4gICAgICAgICAgICBsZXQgZWxlbWVudFJlcGVhdCA9ICh0eXBlb2YgJGVsZW1lbnQuZGF0YSgncmVwZWF0JykgPT09ICdzdHJpbmcnKTtcblxuICAgICAgICAgICAgbGV0IGVsZW1lbnRJblZpZXdDbGFzcyA9ICRlbGVtZW50LmRhdGEoJ2ludmlldy1jbGFzcycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50SW5WaWV3Q2xhc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudEluVmlld0NsYXNzID0gJ2lzLXNob3cnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEb24ndCBhZGQgZWxlbWVudCBpZiBpdCBhbHJlYWR5IGhhcyBpdHMgaW4gdmlldyBjbGFzcyBhbmQgZG9lc24ndCByZXBlYXRcbiAgICAgICAgICAgIGlmIChlbGVtZW50UmVwZWF0IHx8ICEkZWxlbWVudC5oYXNDbGFzcyhlbGVtZW50SW5WaWV3Q2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZEVsZW1lbnRzW2ldID0ge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudDogJGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogTWF0aC5yb3VuZChlbGVtZW50T2Zmc2V0KSxcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0OiBlbGVtZW50UmVwZWF0LFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogZWxlbWVudExpbWl0LFxuICAgICAgICAgICAgICAgICAgICBpblZpZXdDbGFzczogZWxlbWVudEluVmlld0NsYXNzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVxdWVzdElkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnJlbmRlckFuaW1hdGlvbnMoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9vcCB0aHJvdWdoIGFsbCBhbmltYXRhYmxlIGVsZW1lbnRzIGFuZCBhcHBseSBhbmltYXRpb24gbWV0aG9kKHMpLlxuICAgICAqL1xuICAgIGFuaW1hdGVFbGVtZW50cygpIHtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuYW5pbWF0ZWRFbGVtZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIHJlbW92ZUluZGV4ZXMgPSBbXTtcbiAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmFuaW1hdGVkRWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50J3MgdmlzaWJpbGl0eSBtdXN0IG5vdCBiZSBtYW5pcHVsYXRlZCBhbnkgZnVydGhlciwgcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZUVsZW1lbnRDbGFzc2VzKGVsZW1lbnQsIGkpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIGFuaW1hdGVkIGVsZW1lbnRzIGFmdGVyIGxvb3BpbmcgdGhyb3VnaCBlbGVtZW50c1xuICAgICAgICBpID0gcmVtb3ZlSW5kZXhlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZWRFbGVtZW50cy5zcGxpY2UocmVtb3ZlSW5kZXhlc1tpXSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGNsYXNzIGFuaW1hdGlvbnMsIGFuZCB1cGRhdGUgdGhlIGdsb2JhbCBzY3JvbGwgcG9zaXRpb25uaW5nLlxuICAgICAqL1xuICAgIHJlbmRlckFuaW1hdGlvbnMoKSB7XG4gICAgICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiB0aGlzLnNjcm9sbC55KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGwuZGlyZWN0aW9uICE9PSAnZG93bicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbC5kaXJlY3Rpb24gPSAnZG93bic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LnBhZ2VZT2Zmc2V0IDwgdGhpcy5zY3JvbGwueSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLmRpcmVjdGlvbiAhPT0gJ3VwJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmRpcmVjdGlvbiA9ICd1cCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zY3JvbGwueSAhPT0gd2luZG93LnBhZ2VZT2Zmc2V0KSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbC55ID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC54ICE9PSB3aW5kb3cucGFnZVhPZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLnggPSB3aW5kb3cucGFnZVhPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFuaW1hdGVFbGVtZW50cygpO1xuXG4gICAgICAgIHRoaXMucmVxdWVzdElkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnJlbmRlckFuaW1hdGlvbnMoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIGNsYXNzZXMgb24gYW4gZWxlbWVudCBpZiBpdCdzIHZpc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgZWxlbWVudCBDdXJyZW50IGVsZW1lbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSAge2ludH0gICAgICAgICBpbmRleCAgIEluZGV4IG9mIHRoZSBlbGVtZW50IHdpdGhpbiBpdCdzIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICAgICAgICAgICAgIFdldGhlciB0aGUgaXRlbSBtdXN0IGJlIHJlbW92ZWQgZnJvbSBpdHMgY29udGFpbmVyXG4gICAgICovXG4gICAgdG9nZ2xlRWxlbWVudENsYXNzZXMoZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHJlbW92ZUZyb21Db250YWluZXIgPSBmYWxzZTtcblxuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgc2Nyb2xsIGNvbnRhaW5lclxuICAgICAgICAgICAgdmFyIHNjcm9sbEJvdHRvbSA9IHRoaXMuc2Nyb2xsLnkgKyB0aGlzLndpbmRvd0hlaWdodDtcblxuICAgICAgICAgICAgLy8gRGVmaW5lIGlmIHRoZSBlbGVtZW50IGlzIGluVmlld1xuICAgICAgICAgICAgdmFyIGluVmlldyA9IChzY3JvbGxCb3R0b20gPj0gZWxlbWVudC5vZmZzZXQgJiYgdGhpcy5zY3JvbGwueSA8PSBlbGVtZW50LmxpbWl0KTtcblxuICAgICAgICAgICAgLy8gQWRkIGNsYXNzIGlmIGluVmlldywgcmVtb3ZlIGlmIG5vdFxuICAgICAgICAgICAgaWYgKGluVmlldykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuJGVsZW1lbnQuYWRkQ2xhc3MoZWxlbWVudC5pblZpZXdDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQucmVwZWF0KXtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRnJvbUNvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnJlcGVhdCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoZWxlbWVudC5pblZpZXdDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVtb3ZlRnJvbUNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTY3JvbGwgdG8gYSBkZXNpcmVkIHRhcmdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge29iamVjdHxpbnR9IHRhcmdldCBFaXRoZXIgYSBqUXVlcnkgZWxlbWVudCBvciBhIGB5YCBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2Nyb2xsVG8odGFyZ2V0KSB7XG4gICAgICAgIHZhciB0YXJnZXRPZmZzZXQgPSAwO1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgalF1ZXJ5ICYmIHRhcmdldC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RGF0YTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldC5kYXRhKCd0YXJnZXQnKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldERhdGEgPSB0YXJnZXQuZGF0YSgndGFyZ2V0Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldERhdGEgPSB0YXJnZXQuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0YXJnZXRPZmZzZXQgPSAkKHRhcmdldERhdGEpLm9mZnNldCgpLnRvcCArIHRoaXMuc2Nyb2xsYmFyLnNjcm9sbFRvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgICRib2R5LmFuaW1hdGUoe1xuICAgICAgICAgICAgc2Nyb2xsVG9wOnRhcmdldE9mZnNldFxuICAgICAgICB9LCAnc2xvdycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBlbGVtZW50cyBhbmQgcmVjYWxjdWxhdGUgYWxsIHRoZSBwb3NpdGlvbnMgb24gdGhlIHBhZ2VcbiAgICAgKi9cbiAgICB1cGRhdGVFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLiRlbC5vZmYoJy5TY3JvbGwnKTtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYW5pbWF0ZWRFbGVtZW50cyA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyAkd2luZG93ICwgJGRvY3VtZW50ICwgJGJvZHl9IGZyb20gJy4uL3V0aWxzL2Vudmlyb25tZW50JztcbmltcG9ydCBTY3JvbGwgZnJvbSAnLi9TY3JvbGwnO1xuaW1wb3J0IFNjcm9sbGJhciBmcm9tICdzbW9vdGgtc2Nyb2xsYmFyJztcbmltcG9ydCBSZXNpemUgZnJvbSAndGhyb3R0bGVkLXJlc2l6ZSc7XG5cbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWxzL2lzJztcblxuLyoqXG4gKiBTbW9vdGggc2Nyb2xsaW5nIHVzaW5nIGBzbW9vdGgtc2Nyb2xsYmFyYC5cbiAqIEJhc2VkIG9uIGBTY3JvbGxgIGNsYXNzLCB3aGljaCBhbGxvd3MgYW5pbWF0aW9ucyBvZiBlbGVtZW50cyBvbiB0aGUgcGFnZVxuICogYWNjb3JkaW5nIHRvIHNjcm9sbCBwb3NpdGlvbi5cbiAqXG4gKiBAdG9kbyAgTWV0aG9kIHRvIGdldCB0aGUgZGlzdGFuY2UgKGFzIHBlcmNlbnRhZ2UpIG9mIGFuIGVsZW1lbnQgaW4gdGhlIHZpZXdwb3J0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgU2Nyb2xsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnNjcm9sbGJhcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHNjcm9sbGluZyBhbmltYXRpb25zXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy8gQWRkIGNsYXNzIHRvIHRoZSBib2R5IHRvIGtub3cgaWYgU21vb3RoU2Nyb2xsIGlzIGluaXRpYWxpemVkICh0byBtYW5hZ2Ugb3ZlcmZsb3cgb24gY29udGFpbmVycylcbiAgICAgICAgJGJvZHkuYWRkQ2xhc3MoJ2hhcy1zbW9vdGgtc2Nyb2xsJyk7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxiYXIgPSBTY3JvbGxiYXIuaW5pdCh0aGlzLiRlbFswXSk7XG5cbiAgICAgICAgdGhpcy5zZXRTY3JvbGxiYXJMaW1pdCgpO1xuXG4gICAgICAgIHRoaXMucGFyYWxsYXhFbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIHRoaXMuYWRkRWxlbWVudHMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlckFuaW1hdGlvbnModHJ1ZSk7XG5cbiAgICAgICAgLy8gT24gc2Nyb2xsXG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyLmFkZExpc3RlbmVyKCgpID0+IHRoaXMucmVuZGVyQW5pbWF0aW9ucyhmYWxzZSkpO1xuXG4gICAgICAgIC8vIFJlYnVpbGQgZXZlbnRcbiAgICAgICAgJGRvY3VtZW50Lm9uKCdyZWJ1aWxkLlNjcm9sbCcsICgpID0+e1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50cygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGUgZXZlbnRcbiAgICAgICAgJGRvY3VtZW50Lm9uKCd1cGRhdGUuU2Nyb2xsJywgKCkgPT4gdGhpcy51cGRhdGVFbGVtZW50cygpKTtcblxuICAgICAgICAvLyBSZW5kZXIgZXZlbnRcbiAgICAgICAgJGRvY3VtZW50Lm9uKCdyZW5kZXIuU2Nyb2xsJywgKCkgPT4gdGhpcy5yZW5kZXJBbmltYXRpb25zKGZhbHNlKSk7XG5cbiAgICAgICAgLy8gU2Nyb2xsdG8gYnV0dG9uIGV2ZW50XG4gICAgICAgICQoJy5qcy1zY3JvbGx0bycpLm9uKCdjbGljay5TbW9vdGhTY3JvbGwnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvKCQoZXZlbnQuY3VycmVudFRhcmdldCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZXR1cCBkb25lXG4gICAgICAgICRkb2N1bWVudC50cmlnZ2VyKHtcbiAgICAgICAgICAgIHR5cGU6ICdpc1JlYWR5LlNtb290aFNjcm9sbCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVzaXplIGV2ZW50XG4gICAgICAgIHZhciByZXNpemUgPSBuZXcgUmVzaXplKCk7XG4gICAgICAgIHJlc2l6ZS5vbigncmVzaXplOmVuZCcsICgpID0+IHRoaXMudXBkYXRlRWxlbWVudHMoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgZXhpc3RpbmcgZWxlbWVudHMgYW5kIGZpbmQgYWxsIGFuaW1hdGFibGUgZWxlbWVudHMuXG4gICAgICogQ2FsbGVkIG9uIHBhZ2UgbG9hZCBhbmQgYW55IHN1YnNlcXVlbnQgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBhZGRFbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5hbmltYXRlZEVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMucGFyYWxsYXhFbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIHZhciAkZWxlbWVudHMgPSAkKHRoaXMuc2VsZWN0b3IpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsZW4gPSAkZWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyBpICsrKSB7XG4gICAgICAgICAgICBsZXQgJGVsZW1lbnQgPSAkZWxlbWVudHMuZXEoaSk7XG4gICAgICAgICAgICBsZXQgZWxlbWVudFNwZWVkID0gaXNOdW1lcmljKCRlbGVtZW50LmRhdGEoJ3NwZWVkJykpID8gcGFyc2VJbnQoJGVsZW1lbnQuZGF0YSgnc3BlZWQnKSkgLyAxMCA6IGZhbHNlXG4gICAgICAgICAgICBsZXQgZWxlbWVudFBvc2l0aW9uID0gJGVsZW1lbnQuZGF0YSgncG9zaXRpb24nKTtcbiAgICAgICAgICAgIGxldCBlbGVtZW50VGFyZ2V0ID0gJGVsZW1lbnQuZGF0YSgndGFyZ2V0Jyk7XG4gICAgICAgICAgICBsZXQgZWxlbWVudEhvcml6b250YWwgPSAkZWxlbWVudC5kYXRhKCdob3Jpem9udGFsJyk7XG5cbiAgICAgICAgICAgIGxldCAkdGFyZ2V0ID0gKGVsZW1lbnRUYXJnZXQpID8gJChlbGVtZW50VGFyZ2V0KSA6ICRlbGVtZW50O1xuICAgICAgICAgICAgbGV0IGVsZW1lbnRPZmZzZXQgPSAkdGFyZ2V0Lm9mZnNldCgpLnRvcCArIHRoaXMuc2Nyb2xsYmFyLnNjcm9sbFRvcDtcbiAgICAgICAgICAgIGxldCBlbGVtZW50TGltaXQgPSBlbGVtZW50T2Zmc2V0ICsgJHRhcmdldC5vdXRlckhlaWdodCgpO1xuXG4gICAgICAgICAgICAvLyBJZiBlbGVtZW50cyBzdGF5cyB2aXNpYmxlIGFmdGVyIHNjcm9sbGluZyBwYXN0IGl0XG4gICAgICAgICAgICBsZXQgZWxlbWVudFJlcGVhdCA9ICh0eXBlb2YgJGVsZW1lbnQuZGF0YSgncmVwZWF0JykgPT09ICdzdHJpbmcnKTtcblxuICAgICAgICAgICAgbGV0IGVsZW1lbnRJblZpZXdDbGFzcyA9ICRlbGVtZW50LmRhdGEoJ2ludmlldy1jbGFzcycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50SW5WaWV3Q2xhc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudEluVmlld0NsYXNzID0gJ2lzLXNob3cnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnRUYXJnZXQgJiYgJGVsZW1lbnQuZGF0YSgndHJhbnNmb3JtJykpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50T2Zmc2V0IC09IHBhcnNlRmxvYXQoJGVsZW1lbnQuZGF0YSgndHJhbnNmb3JtJykueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuZXdFbGVtZW50ID0ge307XG5cbiAgICAgICAgICAgIC8vIEZvciBwYXJhbGxheCBhbmltYXRlZCBlbGVtZW50c1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRTcGVlZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudFBvc2l0aW9uID0gJGVsZW1lbnQuZGF0YSgncG9zaXRpb24nKTtcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudEhvcml6b250YWwgPSAkZWxlbWVudC5kYXRhKCdob3Jpem9udGFsJyk7XG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRNaWRkbGUgPSAoKGVsZW1lbnRMaW1pdCAtIGVsZW1lbnRPZmZzZXQpIC8gMikgKyBlbGVtZW50T2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQ6ICRlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBlbGVtZW50SG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICAgICAgaW5WaWV3Q2xhc3M6IGVsZW1lbnRJblZpZXdDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGVsZW1lbnRMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgbWlkZGxlOiBlbGVtZW50TWlkZGxlLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGVsZW1lbnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdDogZWxlbWVudFJlcGVhdCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGVsZW1lbnRQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IGVsZW1lbnRTcGVlZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbGxheEVsZW1lbnRzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50OiAkZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgaW5WaWV3Q2xhc3M6IGVsZW1lbnRJblZpZXdDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGVsZW1lbnRMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBNYXRoLnJvdW5kKGVsZW1lbnRPZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICByZXBlYXQ6IGVsZW1lbnRSZXBlYXRcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZEVsZW1lbnRzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjbGFzcy90cmFuc2Zvcm0gYW5pbWF0aW9ucywgYW5kIHVwZGF0ZSB0aGUgZ2xvYmFsIHNjcm9sbCBwb3NpdGlvbm5pbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBpc0ZpcnN0Q2FsbCBEZXRlcm1pbmVzIGlmIHRoaXMgaXMgdGhlIGZpcnN0IG9jY3VyZW5jZSBvZiBtZXRob2QgYmVpbmcgY2FsbGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICByZW5kZXJBbmltYXRpb25zKGlzRmlyc3RDYWxsKSB7XG4gICAgICAgIHZhciBzY3JvbGxiYXJUb3AgPSB0aGlzLnNjcm9sbGJhci5zY3JvbGxUb3A7XG5cbiAgICAgICAgaWYgKHNjcm9sbGJhclRvcCA+IHRoaXMuc2Nyb2xsLnkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbC5kaXJlY3Rpb24gIT09ICdkb3duJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmRpcmVjdGlvbiA9ICdkb3duJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxiYXJUb3AgPCB0aGlzLnNjcm9sbC55KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGwuZGlyZWN0aW9uICE9PSAndXAnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGwuZGlyZWN0aW9uID0gJ3VwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC55ICE9PSBzY3JvbGxiYXJUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLnkgPSBzY3JvbGxiYXJUb3A7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyYW5zZm9ybUVsZW1lbnRzKGlzRmlyc3RDYWxsKTtcbiAgICAgICAgdGhpcy5hbmltYXRlRWxlbWVudHMoKTtcblxuICAgICAgICB3aW5kb3cuQXBwLnNjcm9sbCA9IHRoaXMuc2Nyb2xsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNjcm9sbCB0byBhIGRlc2lyZWQgdGFyZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7b2JqZWN0fGludH0gdGFyZ2V0IEVpdGhlciBhIGpRdWVyeSBlbGVtZW50IG9yIGEgYHlgIHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzY3JvbGxUbyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHRhcmdldE9mZnNldCA9IDA7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBqUXVlcnkgJiYgdGFyZ2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXREYXRhO1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0LmRhdGEoJ3RhcmdldCcpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YSA9IHRhcmdldC5kYXRhKCd0YXJnZXQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YSA9IHRhcmdldC5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRhcmdldE9mZnNldCA9ICQodGFyZ2V0RGF0YSkub2Zmc2V0KCkudG9wICsgdGhpcy5zY3JvbGxiYXIuc2Nyb2xsVG9wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY3JvbGxiYXIuc2Nyb2xsVG8oMCwgdGFyZ2V0T2Zmc2V0LCA5MDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2Nyb2xsIGJhciBsaW1pdFxuICAgICAqL1xuICAgIHNldFNjcm9sbGJhckxpbWl0KCkge1xuICAgICAgICB0aGlzLnNjcm9sbGJhckxpbWl0ID0gdGhpcy5zY3JvbGxiYXIubGltaXQueSArIHRoaXMud2luZG93SGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IENTUyB0cmFuc2Zvcm0gcHJvcGVydGllcyBvbiBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSAgJGVsZW1lbnQgVGFyZ2V0dGVkIGpRdWVyeSBlbGVtZW50XG4gICAgICogQHBhcmFtICB7aW50fSAgICAgeCAgICAgICAgVHJhbnNsYXRlIHZhbHVlXG4gICAgICogQHBhcmFtICB7aW50fSAgICAgeSAgICAgICAgVHJhbnNsYXRlIHZhbHVlXG4gICAgICogQHBhcmFtICB7aW50fSAgICAgeiAgICAgICAgVHJhbnNsYXRlIHZhbHVlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1FbGVtZW50KCRlbGVtZW50LCB4LCB5LCB6KSB7XG4gICAgICAgIC8vIERlZmF1bHRzXG4gICAgICAgIHggPSB4IHx8IDA7XG4gICAgICAgIHkgPSB5IHx8IDA7XG4gICAgICAgIHogPSB6IHx8IDA7XG5cbiAgICAgICAgLy8gVHJhbnNsYXRlIGFuZCBzdG9yZSB0aGUgcG9zaXRpb25uaW5nIGFzIGBkYXRhYFxuICAgICAgICAkZWxlbWVudC5jc3Moe1xuICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKCcrIHggKycsICcrIHkgKycsICcrIHogKycpJyxcbiAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKCcrIHggKycsICcrIHkgKycsICcrIHogKycpJyxcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoJysgeCArJywgJysgeSArJywgJysgeiArJyknXG4gICAgICAgIH0pLmRhdGEoJ3RyYW5zZm9ybScse1xuICAgICAgICAgICAgeCA6IHgsXG4gICAgICAgICAgICB5IDogeSxcbiAgICAgICAgICAgIHogOiB6XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdCBjaGlsZCBlbGVtZW50cyB3aXRoIHRoZSBzYW1lIHBvc2l0aW9ubmluZ1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSAkZWxlbWVudC5maW5kKHRoaXMuc2VsZWN0b3IpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCAkY2hpbGQgPSAkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIGlmICghJGNoaWxkLmRhdGEoJ3RyYW5zZm9ybScpKSB7XG4gICAgICAgICAgICAgICAgJGNoaWxkLmRhdGEoJ3RyYW5zZm9ybScsIHtcbiAgICAgICAgICAgICAgICAgICAgeCA6IHgsXG4gICAgICAgICAgICAgICAgICAgIHkgOiB5LFxuICAgICAgICAgICAgICAgICAgICB6IDogelxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9vcCB0aHJvdWdoIGFsbCBwYXJhbGxheC1hYmxlIGVsZW1lbnRzIGFuZCBhcHBseSB0cmFuc2Zvcm0gbWV0aG9kKHMpLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gaXNGaXJzdENhbGwgRGV0ZXJtaW5lcyBpZiB0aGlzIGlzIHRoZSBmaXJzdCBvY2N1cmVuY2Ugb2YgbWV0aG9kIGJlaW5nIGNhbGxlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdHJhbnNmb3JtRWxlbWVudHMoaXNGaXJzdENhbGwpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYWxsYXhFbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsYmFyQm90dG9tID0gdGhpcy5zY3JvbGxiYXIuc2Nyb2xsVG9wICsgdGhpcy53aW5kb3dIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsYmFyTWlkZGxlID0gdGhpcy5zY3JvbGxiYXIuc2Nyb2xsVG9wICsgdGhpcy53aW5kb3dNaWRkbGU7XG5cbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLnBhcmFsbGF4RWxlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJlbW92ZUluZGV4ZXMgPSBbXTtcblxuICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBjdXJFbCA9IHRoaXMucGFyYWxsYXhFbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAvLyBPbGRcbiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsQm90dG9tID0gc2Nyb2xsYmFyQm90dG9tO1xuICAgICAgICAgICAgICAgIC8vIE5ld1xuICAgICAgICAgICAgICAgIC8vIGxldCBzY3JvbGxCb3R0b20gPSAoY3VyRWwucG9zaXRpb24gPT09ICd0b3AnKSA/IHRoaXMuc2Nyb2xsYmFyLnNjcm9sbFRvcCA6IHNjcm9sbGJhckJvdHRvbTtcblxuICAgICAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1EaXN0YW5jZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVmaW5lIGlmIHRoZSBlbGVtZW50IGlzIGluIHZpZXdcbiAgICAgICAgICAgICAgICAvLyBPbGRcbiAgICAgICAgICAgICAgICBsZXQgaW5WaWV3ID0gKHNjcm9sbEJvdHRvbSA+PSBjdXJFbC5vZmZzZXQgJiYgdGhpcy5zY3JvbGwueSA8PSBjdXJFbC5saW1pdCk7XG4gICAgICAgICAgICAgICAgLy8gTmV3XG4gICAgICAgICAgICAgICAgLy8gbGV0IGluVmlldyA9IChzY3JvbGxCb3R0b20gPj0gY3VyRWwub2Zmc2V0ICYmIHRoaXMuc2Nyb2xsYmFyLnNjcm9sbFRvcCA8PSBjdXJFbC5saW1pdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgY2xhc3MgaWYgaW4gdmlldywgcmVtb3ZlIGlmIG5vdFxuICAgICAgICAgICAgICAgIGlmIChpblZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyRWwuJGVsZW1lbnQuYWRkQ2xhc3MoJ2lzLWludmlldycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJFbC5yZXBlYXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJFbC4kZWxlbWVudC5hZGRDbGFzcygnaXMtdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyRWwuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2lzLWludmlldycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlRWxlbWVudENsYXNzZXMoY3VyRWwsIGkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlyc3RDYWxsICYmICFpblZpZXcgJiYgY3VyRWwuc3BlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlmZmVyZW50IGNhbGN1bGF0aW9ucyBpZiBpdCBpcyB0aGUgZmlyc3QgY2FsbCBhbmQgdGhlIGl0ZW0gaXMgbm90IGluIHRoZSB2aWV3XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJFbC5wb3NpdGlvbiAhPT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybURpc3RhbmNlID0gKGN1ckVsLm9mZnNldCAtIHRoaXMud2luZG93TWlkZGxlIC0gY3VyRWwubWlkZGxlKSAqIC1jdXJFbC5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElmIGVsZW1lbnQgaXMgaW4gdmlld1xuICAgICAgICAgICAgICAgIGlmIChpblZpZXcgJiYgY3VyRWwuc3BlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjdXJFbC5wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1EaXN0YW5jZSA9IHRoaXMuc2Nyb2xsYmFyLnNjcm9sbFRvcCAqIC1jdXJFbC5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm1EaXN0YW5jZSA9ICh0aGlzLnNjcm9sbGJhci5zY3JvbGxUb3AgLSBjdXJFbC5vZmZzZXQpICogLWN1ckVsLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtRGlzdGFuY2UgPSAodGhpcy5zY3JvbGxiYXJMaW1pdCAtIHNjcm9sbEJvdHRvbSkgKiBjdXJFbC5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybURpc3RhbmNlID0gKHNjcm9sbGJhck1pZGRsZSAtIGN1ckVsLm1pZGRsZSkgKiAtY3VyRWwuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBob3Jpem9udGFsIE9SIHZlcnRpY2FsLiBEZWZhdWx0cyB0byB2ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIGlmIChpc051bWVyaWModHJhbnNmb3JtRGlzdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIChjdXJFbC5ob3Jpem9udGFsKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybUVsZW1lbnQoY3VyRWwuJGVsZW1lbnQsIHRyYW5zZm9ybURpc3RhbmNlICsgJ3B4JykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1FbGVtZW50KGN1ckVsLiRlbGVtZW50LCAwLCB0cmFuc2Zvcm1EaXN0YW5jZSArICdweCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBlbGVtZW50cyBhbmQgcmVjYWxjdWxhdGUgYWxsIHRoZSBwb3NpdGlvbnMgb24gdGhlIHBhZ2VcbiAgICAgKi9cbiAgICB1cGRhdGVFbGVtZW50cygpXG4gICAge1xuICAgICAgICB0aGlzLnNjcm9sbGJhci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy53aW5kb3dIZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xuICAgICAgICB0aGlzLndpbmRvd01pZGRsZSA9IHRoaXMud2luZG93SGVpZ2h0IC8gMjtcbiAgICAgICAgdGhpcy5zZXRTY3JvbGxiYXJMaW1pdCgpO1xuICAgICAgICB0aGlzLmFkZEVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtRWxlbWVudHModHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveVxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kZWwub2ZmKCcuU21vb3RoU2Nyb2xsJyk7XG4gICAgICAgIHRoaXMuJGVsLm9mZignLlNjcm9sbCcpO1xuICAgICAgICB0aGlzLnBhcmFsbGF4RWxlbWVudHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJjb25zdCAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcbmNvbnN0ICR3aW5kb3cgPSAkKHdpbmRvdyk7XG5jb25zdCAkaHRtbCA9ICQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbmNvbnN0ICRib2R5ID0gJChkb2N1bWVudC5ib2R5KTtcblxuZXhwb3J0IHsgJGRvY3VtZW50LCAkd2luZG93LCAkaHRtbCwgJGJvZHkgfTtcbiIsImltcG9ydCBTbW9vdGhTY3JvbGwgZnJvbSAnLi4vbW9kdWxlcy9TbW9vdGhTY3JvbGwnO1xuaW1wb3J0IFNjcm9sbCBmcm9tICcuLi9tb2R1bGVzL1Njcm9sbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gICAgY29uc3Qgc21vb3RoU2Nyb2xsID0gbmV3IFNtb290aFNjcm9sbCgpO1xuICAgIC8vIGNvbnN0IHNjcm9sbCA9IG5ldyBTY3JvbGwoKTtcblxufVxuIiwiLyoqXG4gKiBAc2VlICBodHRwczovL2dpdGh1Yi5jb20vcmFjdGl2ZWpzL3JhY3RpdmUvYmxvYi9kZXYvc3JjL3V0aWxzL2h0bWwuanNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyKSB7XG4gICAgcmV0dXJuIHN0clxuICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG59XG5cbi8qKlxuICogUHJlcGFyZSBIVE1MIGNvbnRlbnQgdGhhdCBjb250YWlucyBtdXN0YWNoZSBjaGFyYWN0ZXJzIGZvciB1c2Ugd2l0aCBSYWN0aXZlXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVIdG1sKHN0cikge1xuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnJlcGxhY2UoLyZsdDsvZywgJzwnKVxuICAgICAgICAucmVwbGFjZSgvJmd0Oy9nLCAnPicpXG4gICAgICAgIC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpO1xufVxuXG4vKipcbiAqIEdldCBlbGVtZW50IGRhdGEgYXR0cmlidXRlc1xuICogQHBhcmFtICAge0RPTUVsZW1lbnR9ICBub2RlXG4gKiBAcmV0dXJuICB7QXJyYXl9ICAgICAgIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVEYXRhKG5vZGUpIHtcbiAgICAvLyBBbGwgYXR0cmlidXRlc1xuICAgIHZhciBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuXG4gICAgLy8gUmVnZXggUGF0dGVyblxuICAgIHZhciBwYXR0ZXJuID0gL15kYXRhXFwtKC4rKSQvO1xuXG4gICAgLy8gT3V0cHV0XG4gICAgdmFyIGRhdGEgPSB7fTtcblxuICAgIGZvciAobGV0IGkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbaV0pIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0cmlidXRlcyBuYW1lIChleDogZGF0YS1tb2R1bGUpXG4gICAgICAgIGxldCBuYW1lID0gYXR0cmlidXRlc1tpXS5uYW1lO1xuXG4gICAgICAgIC8vIFRoaXMgaGFwcGVucy5cbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtYXRjaCA9IG5hbWUubWF0Y2gocGF0dGVybik7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhpcyB0aHJvd3MgYW4gZXJyb3IsIHlvdSBoYXZlIHNvbWVcbiAgICAgICAgLy8gc2VyaW91cyBwcm9ibGVtcyBpbiB5b3VyIEhUTUwuXG4gICAgICAgIGRhdGFbbWF0Y2hbMV1dID0gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgIGFycmF5TGlrZVBhdHRlcm4gPSAvXlxcW29iamVjdCAoPzpBcnJheXxGaWxlTGlzdClcXF0kLztcblxuLy8gdGhhbmtzLCBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9pbnN0YW5jZW9mLWNvbnNpZGVyZWQtaGFybWZ1bC1vci1ob3ctdG8td3JpdGUtYS1yb2J1c3QtaXNhcnJheS9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5ICggdGhpbmcgKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoIHRoaW5nICkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5TGlrZSAoIG9iaiApIHtcbiAgICByZXR1cm4gYXJyYXlMaWtlUGF0dGVybi50ZXN0KCB0b1N0cmluZy5jYWxsKCBvYmogKSApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbCAoIGEsIGIgKSB7XG4gICAgaWYgKCBhID09PSBudWxsICYmIGIgPT09IG51bGwgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICggdHlwZW9mIGEgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBiID09PSAnb2JqZWN0JyApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhID09PSBiO1xufVxuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MDgyL3ZhbGlkYXRlLW51bWJlcnMtaW4tamF2YXNjcmlwdC1pc251bWVyaWNcbmV4cG9ydCBmdW5jdGlvbiBpc051bWVyaWMgKCB0aGluZyApIHtcbiAgICByZXR1cm4gIWlzTmFOKCBwYXJzZUZsb2F0KCB0aGluZyApICkgJiYgaXNGaW5pdGUoIHRoaW5nICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCAoIHRoaW5nICkge1xuICAgIHJldHVybiAoIHRoaW5nICYmIHRvU3RyaW5nLmNhbGwoIHRoaW5nICkgPT09ICdbb2JqZWN0IE9iamVjdF0nICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKCB0aGluZyApIHtcbiAgICB2YXIgZ2V0VHlwZSA9IHt9O1xuICAgIHJldHVybiB0aGluZyAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwodGhpbmcpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5TY3JvbGxiYXI9ZSgpOnQuU2Nyb2xsYmFyPWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgbz1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxlKSxvLmxvYWRlZD0hMCxvLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIGUubT10LGUuYz1uLGUucD1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuKDAsdVtcImRlZmF1bHRcIl0pKHQpfXZhciBpPW4oMiksdT1yKGkpLGE9big1NSksYz1yKGEpLGw9big2MiksZj1yKGwpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGZbXCJkZWZhdWx0XCJdJiZcInN5bWJvbFwiPT10eXBlb2YgY1tcImRlZmF1bHRcIl0/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZltcImRlZmF1bHRcIl0mJnQuY29uc3RydWN0b3I9PT1mW1wiZGVmYXVsdFwiXT9cInN5bWJvbFwiOnR5cGVvZiB0fSxkPW4oNzgpLGg9big4OSk7bigxMjkpLG4oMTQ1KSxuKDE1OCksbigxNzMpLG4oMTg3KSxlW1wiZGVmYXVsdFwiXT1kLlNtb290aFNjcm9sbGJhcixkLlNtb290aFNjcm9sbGJhci52ZXJzaW9uPVwiNy4yLjhcIixkLlNtb290aFNjcm9sbGJhci5pbml0PWZ1bmN0aW9uKHQsZSl7aWYoIXR8fDEhPT10Lm5vZGVUeXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3QgZWxlbWVudCB0byBiZSBET00gRWxlbWVudCwgYnV0IGdvdCBcIisoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpzKHQpKSk7aWYoaC5zYkxpc3QuaGFzKHQpKXJldHVybiBoLnNiTGlzdC5nZXQodCk7dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNjcm9sbGJhclwiLFwiXCIpO3ZhciBuPVtdLmNvbmNhdChvKHQuY2hpbGROb2RlcykpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmlubmVySFRNTD0nXFxuICAgICAgICA8YXJ0aWNsZSBjbGFzcz1cInNjcm9sbC1jb250ZW50XCI+PC9hcnRpY2xlPlxcbiAgICAgICAgPGFzaWRlIGNsYXNzPVwic2Nyb2xsYmFyLXRyYWNrIHNjcm9sbGJhci10cmFjay14XCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNjcm9sbGJhci10aHVtYiBzY3JvbGxiYXItdGh1bWIteFwiPjwvZGl2PlxcbiAgICAgICAgPC9hc2lkZT5cXG4gICAgICAgIDxhc2lkZSBjbGFzcz1cInNjcm9sbGJhci10cmFjayBzY3JvbGxiYXItdHJhY2steVwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzY3JvbGxiYXItdGh1bWIgc2Nyb2xsYmFyLXRodW1iLXlcIj48L2Rpdj5cXG4gICAgICAgIDwvYXNpZGU+XFxuICAgICAgICA8Y2FudmFzIGNsYXNzPVwib3ZlcnNjcm9sbC1nbG93XCI+PC9jYW52YXM+XFxuICAgICc7dmFyIGk9ci5xdWVyeVNlbGVjdG9yKFwiLnNjcm9sbC1jb250ZW50XCIpO3JldHVybltdLmNvbmNhdChvKHIuY2hpbGROb2RlcykpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoZSl9KSxuLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGkuYXBwZW5kQ2hpbGQodCl9KSxuZXcgZC5TbW9vdGhTY3JvbGxiYXIodCxlKX0sZC5TbW9vdGhTY3JvbGxiYXIuaW5pdEFsbD1mdW5jdGlvbih0KXtyZXR1cm5bXS5jb25jYXQobyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGguc2VsZWN0b3JzKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZC5TbW9vdGhTY3JvbGxiYXIuaW5pdChlLHQpfSl9LGQuU21vb3RoU2Nyb2xsYmFyLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gaC5zYkxpc3QuaGFzKHQpfSxkLlNtb290aFNjcm9sbGJhci5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGguc2JMaXN0LmdldCh0KX0sZC5TbW9vdGhTY3JvbGxiYXIuZ2V0QWxsPWZ1bmN0aW9uKCl7cmV0dXJuW10uY29uY2F0KG8oaC5zYkxpc3QudmFsdWVzKCkpKX0sZC5TbW9vdGhTY3JvbGxiYXIuZGVzdHJveT1mdW5jdGlvbih0LGUpe3JldHVybiBkLlNtb290aFNjcm9sbGJhci5oYXModCkmJmQuU21vb3RoU2Nyb2xsYmFyLmdldCh0KS5kZXN0cm95KGUpfSxkLlNtb290aFNjcm9sbGJhci5kZXN0cm95QWxsPWZ1bmN0aW9uKHQpe2guc2JMaXN0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kZXN0cm95KHQpfSl9LHQuZXhwb3J0cz1lW1wiZGVmYXVsdFwiXX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6bigzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oNCksbig0OCksdC5leHBvcnRzPW4oMTIpLkFycmF5LmZyb219LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDUpKCEwKTtuKDgpKFN0cmluZyxcIlN0cmluZ1wiLGZ1bmN0aW9uKHQpe3RoaXMuX3Q9U3RyaW5nKHQpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuX3Qsbj10aGlzLl9pO3JldHVybiBuPj1lLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PXIoZSxuKSx0aGlzLl9pKz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNiksbz1uKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaSx1LGE9U3RyaW5nKG8oZSkpLGM9cihuKSxsPWEubGVuZ3RoO3JldHVybiBjPDB8fGM+PWw/dD9cIlwiOnZvaWQgMDooaT1hLmNoYXJDb2RlQXQoYyksaTw1NTI5Nnx8aT41NjMxOXx8YysxPT09bHx8KHU9YS5jaGFyQ29kZUF0KGMrMSkpPDU2MzIwfHx1PjU3MzQzP3Q/YS5jaGFyQXQoYyk6aTp0P2Euc2xpY2UoYyxjKzIpOihpLTU1Mjk2PDwxMCkrKHUtNTYzMjApKzY1NTM2KX19fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5KSxvPW4oMTApLGk9bigyNSksdT1uKDE1KSxhPW4oMjYpLGM9bigyNyksbD1uKDI4KSxmPW4oNDQpLHM9big0NiksZD1uKDQ1KShcIml0ZXJhdG9yXCIpLGg9IShbXS5rZXlzJiZcIm5leHRcImluW10ua2V5cygpKSx2PVwiQEBpdGVyYXRvclwiLF89XCJrZXlzXCIscD1cInZhbHVlc1wiLHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGIsZyxtLHgpe2wobixlLGIpO3ZhciBTLEUsTSxPPWZ1bmN0aW9uKHQpe2lmKCFoJiZ0IGluIGopcmV0dXJuIGpbdF07c3dpdGNoKHQpe2Nhc2UgXzpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX07Y2FzZSBwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX19LHc9ZStcIiBJdGVyYXRvclwiLFA9Zz09cCxrPSExLGo9dC5wcm90b3R5cGUsVD1qW2RdfHxqW3ZdfHxnJiZqW2ddLEE9VHx8TyhnKSxSPWc/UD9PKFwiZW50cmllc1wiKTpBOnZvaWQgMCxMPVwiQXJyYXlcIj09ZT9qLmVudHJpZXN8fFQ6VDtpZihMJiYoTT1zKEwuY2FsbChuZXcgdCkpLE0hPT1PYmplY3QucHJvdG90eXBlJiYoZihNLHcsITApLHJ8fGEoTSxkKXx8dShNLGQseSkpKSxQJiZUJiZULm5hbWUhPT1wJiYoaz0hMCxBPWZ1bmN0aW9uKCl7cmV0dXJuIFQuY2FsbCh0aGlzKX0pLHImJiF4fHwhaCYmIWsmJmpbZF18fHUoaixkLEEpLGNbZV09QSxjW3ddPXksZylpZihTPXt2YWx1ZXM6UD9BOk8ocCksa2V5czptP0E6TyhfKSxlbnRyaWVzOlJ9LHgpZm9yKEUgaW4gUylFIGluIGp8fGkoaixFLFNbRV0pO2Vsc2UgbyhvLlArby5GKihofHxrKSxlLFMpO3JldHVybiBTfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ITB9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxvPW4oMTIpLGk9bigxMyksdT1uKDE1KSxhPVwicHJvdG90eXBlXCIsYz1mdW5jdGlvbih0LGUsbil7dmFyIGwsZixzLGQ9dCZjLkYsaD10JmMuRyx2PXQmYy5TLF89dCZjLlAscD10JmMuQix5PXQmYy5XLGI9aD9vOm9bZV18fChvW2VdPXt9KSxnPWJbYV0sbT1oP3I6dj9yW2VdOihyW2VdfHx7fSlbYV07aCYmKG49ZSk7Zm9yKGwgaW4gbilmPSFkJiZtJiZ2b2lkIDAhPT1tW2xdLGYmJmwgaW4gYnx8KHM9Zj9tW2xdOm5bbF0sYltsXT1oJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBtW2xdP25bbF06cCYmZj9pKHMscik6eSYmbVtsXT09cz9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4scil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZVthXT10W2FdLGV9KHMpOl8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHM/aShGdW5jdGlvbi5jYWxsLHMpOnMsXyYmKChiLnZpcnR1YWx8fChiLnZpcnR1YWw9e30pKVtsXT1zLHQmYy5SJiZnJiYhZ1tsXSYmdShnLGwscykpKX07Yy5GPTEsYy5HPTIsYy5TPTQsYy5QPTgsYy5CPTE2LGMuVz0zMixjLlU9NjQsYy5SPTEyOCx0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246XCIyLjQuMFwifTtcIm51bWJlclwiPT10eXBlb2YgX19lJiYoX19lPW4pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLHZvaWQgMD09PWUpcmV0dXJuIHQ7c3dpdGNoKG4pe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuY2FsbChlLG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIHQuY2FsbChlLG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLG8pe3JldHVybiB0LmNhbGwoZSxuLHIsbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxvPW4oMjQpO3QuZXhwb3J0cz1uKDIwKT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsbygxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxvPW4oMTkpLGk9bigyMyksdT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oMjApP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPWkoZSwhMCkscihuKSxvKXRyeXtyZXR1cm4gdSh0LGUsbil9Y2F0Y2goYSl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigyMCkmJiFuKDIxKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobigyMikoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigyMSkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaChlKXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxOCksbz1uKDExKS5kb2N1bWVudCxpPXIobykmJnIoby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLG87aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIobz1uLmNhbGwodCkpKXJldHVybiBvO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihvPW4uY2FsbCh0KSkpcmV0dXJuIG87dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTUpfSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyOSksbz1uKDI0KSxpPW4oNDQpLHU9e307bigxNSkodSxuKDQ1KShcIml0ZXJhdG9yXCIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QucHJvdG90eXBlPXIodSx7bmV4dDpvKDEsbil9KSxpKHQsZStcIiBJdGVyYXRvclwiKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxvPW4oMzApLGk9big0MiksdT1uKDM5KShcIklFX1BST1RPXCIpLGE9ZnVuY3Rpb24oKXt9LGM9XCJwcm90b3R5cGVcIixsPWZ1bmN0aW9uKCl7dmFyIHQsZT1uKDIyKShcImlmcmFtZVwiKSxyPWkubGVuZ3RoLG89XCI8XCIsdT1cIj5cIjtmb3IoZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG4oNDMpLmFwcGVuZENoaWxkKGUpLGUuc3JjPVwiamF2YXNjcmlwdDpcIix0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCx0Lm9wZW4oKSx0LndyaXRlKG8rXCJzY3JpcHRcIit1K1wiZG9jdW1lbnQuRj1PYmplY3RcIitvK1wiL3NjcmlwdFwiK3UpLHQuY2xvc2UoKSxsPXQuRjtyLS07KWRlbGV0ZSBsW2NdW2lbcl1dO3JldHVybiBsKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8oYVtjXT1yKHQpLG49bmV3IGEsYVtjXT1udWxsLG5bdV09dCk6bj1sKCksdm9pZCAwPT09ZT9uOm8obixlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxvPW4oMTcpLGk9bigzMSk7dC5leHBvcnRzPW4oMjApP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7byh0KTtmb3IodmFyIG4sdT1pKGUpLGE9dS5sZW5ndGgsYz0wO2E+Yzspci5mKHQsbj11W2MrK10sZVtuXSk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMiksbz1uKDQyKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsbyl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNiksbz1uKDMzKSxpPW4oMzYpKCExKSx1PW4oMzkpKFwiSUVfUFJPVE9cIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1vKHQpLGM9MCxsPVtdO2ZvcihuIGluIGEpbiE9dSYmcihhLG4pJiZsLnB1c2gobik7Zm9yKDtlLmxlbmd0aD5jOylyKGEsbj1lW2MrK10pJiYofmkobCxuKXx8bC5wdXNoKG4pKTtyZXR1cm4gbH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM0KSxvPW4oNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKG8odCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzUpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMzKSxvPW4oMzcpLGk9bigzOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sdSl7dmFyIGEsYz1yKGUpLGw9byhjLmxlbmd0aCksZj1pKHUsbCk7aWYodCYmbiE9bil7Zm9yKDtsPmY7KWlmKGE9Y1tmKytdLGEhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2w+ZjtmKyspaWYoKHR8fGYgaW4gYykmJmNbZl09PT1uKXJldHVybiB0fHxmfHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2KSxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP28ocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNiksbz1NYXRoLm1heCxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiB0PXIodCksdDwwP28odCtlLDApOmkodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQwKShcImtleXNcIiksbz1uKDQxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPW8odCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpLG89XCJfX2NvcmUtanNfc2hhcmVkX19cIixpPXJbb118fChyW29dPXt9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlbdF18fChpW3RdPXt9KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrbityKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2ZcIi5zcGxpdChcIixcIil9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxMSkuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYpLmYsbz1uKDI2KSxpPW4oNDUpKFwidG9TdHJpbmdUYWdcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhbyh0PW4/dDp0LnByb3RvdHlwZSxpKSYmcih0LGkse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MCkoXCJ3a3NcIiksbz1uKDQxKSxpPW4oMTEpLlN5bWJvbCx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIGksYT10LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPXUmJmlbdF18fCh1P2k6bykoXCJTeW1ib2wuXCIrdCkpfTthLnN0b3JlPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI2KSxvPW4oNDcpLGk9bigzOSkoXCJJRV9QUk9UT1wiKSx1PU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQ9byh0KSxyKHQsaSk/dFtpXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P3U6bnVsbH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIodCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTMpLG89bigxMCksaT1uKDQ3KSx1PW4oNDkpLGE9big1MCksYz1uKDM3KSxsPW4oNTEpLGY9big1Mik7byhvLlMrby5GKiFuKDU0KShmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSksXCJBcnJheVwiLHtmcm9tOmZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxzLGQ9aSh0KSxoPVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgsXz12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxwPXZvaWQgMCE9PV8seT0wLGI9ZihkKTtpZihwJiYoXz1yKF8sdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLHZvaWQgMD09Ynx8aD09QXJyYXkmJmEoYikpZm9yKGU9YyhkLmxlbmd0aCksbj1uZXcgaChlKTtlPnk7eSsrKWwobix5LHA/XyhkW3ldLHkpOmRbeV0pO2Vsc2UgZm9yKHM9Yi5jYWxsKGQpLG49bmV3IGg7IShvPXMubmV4dCgpKS5kb25lO3krKylsKG4seSxwP3UocyxfLFtvLnZhbHVlLHldLCEwKTpvLnZhbHVlKTtyZXR1cm4gbi5sZW5ndGg9eSxufX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLG8pe3RyeXtyZXR1cm4gbz9lKHIobilbMF0sblsxXSk6ZShuKX1jYXRjaChpKXt2YXIgdT10W1wicmV0dXJuXCJdO3Rocm93IHZvaWQgMCE9PXUmJnIodS5jYWxsKHQpKSxpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI3KSxvPW4oNDUpKFwiaXRlcmF0b3JcIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYoci5BcnJheT09PXR8fGlbb109PT10KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE2KSxvPW4oMjQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7ZSBpbiB0P3IuZih0LGUsbygwLG4pKTp0W2VdPW59fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1Myksbz1uKDQ1KShcIml0ZXJhdG9yXCIpLGk9bigyNyk7dC5leHBvcnRzPW4oMTIpLmdldEl0ZXJhdG9yTWV0aG9kPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9dClyZXR1cm4gdFtvXXx8dFtcIkBAaXRlcmF0b3JcIl18fGlbcih0KV19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNSksbz1uKDQ1KShcInRvU3RyaW5nVGFnXCIpLGk9XCJBcmd1bWVudHNcIj09cihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHU9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2gobil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sYTtyZXR1cm4gdm9pZCAwPT09dD9cIlVuZGVmaW5lZFwiOm51bGw9PT10P1wiTnVsbFwiOlwic3RyaW5nXCI9PXR5cGVvZihuPXUoZT1PYmplY3QodCksbykpP246aT9yKGUpOlwiT2JqZWN0XCI9PShhPXIoZSkpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbGxlZT9cIkFyZ3VtZW50c1wiOmF9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0NSkoXCJpdGVyYXRvclwiKSxvPSExO3RyeXt2YXIgaT1bN11bcl0oKTtpW1wicmV0dXJuXCJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHUpe310LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighZSYmIW8pcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBpPVs3XSx1PWlbcl0oKTt1Lm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpuPSEwfX0saVtyXT1mdW5jdGlvbigpe3JldHVybiB1fSx0KGkpfWNhdGNoKGEpe31yZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNTYpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big0KSxuKDU3KSx0LmV4cG9ydHM9big2MSkuZihcIml0ZXJhdG9yXCIpfSxmdW5jdGlvbih0LGUsbil7big1OCk7Zm9yKHZhciByPW4oMTEpLG89bigxNSksaT1uKDI3KSx1PW4oNDUpKFwidG9TdHJpbmdUYWdcIiksYT1bXCJOb2RlTGlzdFwiLFwiRE9NVG9rZW5MaXN0XCIsXCJNZWRpYUxpc3RcIixcIlN0eWxlU2hlZXRMaXN0XCIsXCJDU1NSdWxlTGlzdFwiXSxjPTA7Yzw1O2MrKyl7dmFyIGw9YVtjXSxmPXJbbF0scz1mJiZmLnByb3RvdHlwZTtzJiYhc1t1XSYmbyhzLHUsbCksaVtsXT1pLkFycmF5fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNTkpLG89big2MCksaT1uKDI3KSx1PW4oMzMpO3QuZXhwb3J0cz1uKDgpKEFycmF5LFwiQXJyYXlcIixmdW5jdGlvbih0LGUpe3RoaXMuX3Q9dSh0KSx0aGlzLl9pPTAsdGhpcy5faz1lfSxmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3QsZT10aGlzLl9rLG49dGhpcy5faSsrO3JldHVybiF0fHxuPj10Lmxlbmd0aD8odGhpcy5fdD12b2lkIDAsbygxKSk6XCJrZXlzXCI9PWU/bygwLG4pOlwidmFsdWVzXCI9PWU/bygwLHRbbl0pOm8oMCxbbix0W25dXSl9LFwidmFsdWVzXCIpLGkuQXJndW1lbnRzPWkuQXJyYXkscihcImtleXNcIikscihcInZhbHVlc1wiKSxyKFwiZW50cmllc1wiKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTplLGRvbmU6ISF0fX19LGZ1bmN0aW9uKHQsZSxuKXtlLmY9big0NSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oNjMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big2NCksbig3NSksbig3Niksbig3NyksdC5leHBvcnRzPW4oMTIpLlN5bWJvbH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTEpLG89bigyNiksaT1uKDIwKSx1PW4oMTApLGE9bigyNSksYz1uKDY1KS5LRVksbD1uKDIxKSxmPW4oNDApLHM9big0NCksZD1uKDQxKSxoPW4oNDUpLHY9big2MSksXz1uKDY2KSxwPW4oNjcpLHk9big2OCksYj1uKDcxKSxnPW4oMTcpLG09bigzMykseD1uKDIzKSxTPW4oMjQpLEU9bigyOSksTT1uKDcyKSxPPW4oNzQpLHc9bigxNiksUD1uKDMxKSxrPU8uZixqPXcuZixUPU0uZixBPXIuU3ltYm9sLFI9ci5KU09OLEw9UiYmUi5zdHJpbmdpZnksST1cInByb3RvdHlwZVwiLEQ9aChcIl9oaWRkZW5cIiksQz1oKFwidG9QcmltaXRpdmVcIiksTj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxGPWYoXCJzeW1ib2wtcmVnaXN0cnlcIiksSD1mKFwic3ltYm9sc1wiKSx6PWYoXCJvcC1zeW1ib2xzXCIpLEI9T2JqZWN0W0ldLEc9XCJmdW5jdGlvblwiPT10eXBlb2YgQSxWPXIuUU9iamVjdCxXPSFWfHwhVltJXXx8IVZbSV0uZmluZENoaWxkLFU9aSYmbChmdW5jdGlvbigpe3JldHVybiA3IT1FKGooe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqKHRoaXMsXCJhXCIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByPWsoQixlKTtyJiZkZWxldGUgQltlXSxqKHQsZSxuKSxyJiZ0IT09QiYmaihCLGUscil9OmosWD1mdW5jdGlvbih0KXt2YXIgZT1IW3RdPUUoQVtJXSk7cmV0dXJuIGUuX2s9dCxlfSxxPUcmJlwic3ltYm9sXCI9PXR5cGVvZiBBLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEF9LEs9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PT09QiYmSyh6LGUsbiksZyh0KSxlPXgoZSwhMCksZyhuKSxvKEgsZSk/KG4uZW51bWVyYWJsZT8obyh0LEQpJiZ0W0RdW2VdJiYodFtEXVtlXT0hMSksbj1FKG4se2VudW1lcmFibGU6UygwLCExKX0pKToobyh0LEQpfHxqKHQsRCxTKDEse30pKSx0W0RdW2VdPSEwKSxVKHQsZSxuKSk6aih0LGUsbil9LEo9ZnVuY3Rpb24odCxlKXtnKHQpO2Zvcih2YXIgbixyPXkoZT1tKGUpKSxvPTAsaT1yLmxlbmd0aDtpPm87KUsodCxuPXJbbysrXSxlW25dKTtyZXR1cm4gdH0sWT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lP0UodCk6SihFKHQpLGUpfSxRPWZ1bmN0aW9uKHQpe3ZhciBlPU4uY2FsbCh0aGlzLHQ9eCh0LCEwKSk7cmV0dXJuISh0aGlzPT09QiYmbyhILHQpJiYhbyh6LHQpKSYmKCEoZXx8IW8odGhpcyx0KXx8IW8oSCx0KXx8byh0aGlzLEQpJiZ0aGlzW0RdW3RdKXx8ZSl9LFo9ZnVuY3Rpb24odCxlKXtpZih0PW0odCksZT14KGUsITApLHQhPT1CfHwhbyhILGUpfHxvKHosZSkpe3ZhciBuPWsodCxlKTtyZXR1cm4hbnx8IW8oSCxlKXx8byh0LEQpJiZ0W0RdW2VdfHwobi5lbnVtZXJhYmxlPSEwKSxufX0sJD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj1UKG0odCkpLHI9W10saT0wO24ubGVuZ3RoPmk7KW8oSCxlPW5baSsrXSl8fGU9PUR8fGU9PWN8fHIucHVzaChlKTtyZXR1cm4gcn0sdHQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dD09PUIscj1UKG4/ejptKHQpKSxpPVtdLHU9MDtyLmxlbmd0aD51OykhbyhILGU9clt1KytdKXx8biYmIW8oQixlKXx8aS5wdXNoKEhbZV0pO3JldHVybiBpfTtHfHwoQT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBBKXRocm93IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciFcIik7dmFyIHQ9ZChhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCksZT1mdW5jdGlvbihuKXt0aGlzPT09QiYmZS5jYWxsKHosbiksbyh0aGlzLEQpJiZvKHRoaXNbRF0sdCkmJih0aGlzW0RdW3RdPSExKSxVKHRoaXMsdCxTKDEsbikpfTtyZXR1cm4gaSYmVyYmVShCLHQse2NvbmZpZ3VyYWJsZTohMCxzZXQ6ZX0pLFgodCl9LGEoQVtJXSxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLE8uZj1aLHcuZj1LLG4oNzMpLmY9TS5mPSQsbig3MCkuZj1RLG4oNjkpLmY9dHQsaSYmIW4oOSkmJmEoQixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsUSwhMCksdi5mPWZ1bmN0aW9uKHQpe3JldHVybiBYKGgodCkpfSksdSh1LkcrdS5XK3UuRiohRyx7U3ltYm9sOkF9KTtmb3IodmFyIGV0PVwiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXNcIi5zcGxpdChcIixcIiksbnQ9MDtldC5sZW5ndGg+bnQ7KWgoZXRbbnQrK10pO2Zvcih2YXIgZXQ9UChoLnN0b3JlKSxudD0wO2V0Lmxlbmd0aD5udDspXyhldFtudCsrXSk7dSh1LlMrdS5GKiFHLFwiU3ltYm9sXCIse1wiZm9yXCI6ZnVuY3Rpb24odCl7cmV0dXJuIG8oRix0Kz1cIlwiKT9GW3RdOkZbdF09QSh0KX0sa2V5Rm9yOmZ1bmN0aW9uKHQpe2lmKHEodCkpcmV0dXJuIHAoRix0KTt0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBzeW1ib2whXCIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtXPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtXPSExfX0pLHUodS5TK3UuRiohRyxcIk9iamVjdFwiLHtjcmVhdGU6WSxkZWZpbmVQcm9wZXJ0eTpLLGRlZmluZVByb3BlcnRpZXM6SixnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6WixnZXRPd25Qcm9wZXJ0eU5hbWVzOiQsZ2V0T3duUHJvcGVydHlTeW1ib2xzOnR0fSksUiYmdSh1LlMrdS5GKighR3x8bChmdW5jdGlvbigpe3ZhciB0PUEoKTtyZXR1cm5cIltudWxsXVwiIT1MKFt0XSl8fFwie31cIiE9TCh7YTp0fSl8fFwie31cIiE9TChPYmplY3QodCkpfSkpLFwiSlNPTlwiLHtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCYmIXEodCkpe2Zvcih2YXIgZSxuLHI9W3RdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KXIucHVzaChhcmd1bWVudHNbbysrXSk7cmV0dXJuIGU9clsxXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobj1lKSwhbiYmYihlKXx8KGU9ZnVuY3Rpb24odCxlKXtpZihuJiYoZT1uLmNhbGwodGhpcyx0LGUpKSwhcShlKSlyZXR1cm4gZX0pLHJbMV09ZSxMLmFwcGx5KFIscil9fX0pLEFbSV1bQ118fG4oMTUpKEFbSV0sQyxBW0ldLnZhbHVlT2YpLHMoQSxcIlN5bWJvbFwiKSxzKE1hdGgsXCJNYXRoXCIsITApLHMoci5KU09OLFwiSlNPTlwiLCEwKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDEpKFwibWV0YVwiKSxvPW4oMTgpLGk9bigyNiksdT1uKDE2KS5mLGE9MCxjPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGw9IW4oMjEpKGZ1bmN0aW9uKCl7cmV0dXJuIGMoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxmPWZ1bmN0aW9uKHQpe3UodCxyLHt2YWx1ZTp7aTpcIk9cIisgKythLHc6e319fSl9LHM9ZnVuY3Rpb24odCxlKXtpZighbyh0KSlyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdD90OihcInN0cmluZ1wiPT10eXBlb2YgdD9cIlNcIjpcIlBcIikrdDtpZighaSh0LHIpKXtpZighYyh0KSlyZXR1cm5cIkZcIjtpZighZSlyZXR1cm5cIkVcIjtmKHQpfXJldHVybiB0W3JdLml9LGQ9ZnVuY3Rpb24odCxlKXtpZighaSh0LHIpKXtpZighYyh0KSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTtmKHQpfXJldHVybiB0W3JdLnd9LGg9ZnVuY3Rpb24odCl7cmV0dXJuIGwmJnYuTkVFRCYmYyh0KSYmIWkodCxyKSYmZih0KSx0fSx2PXQuZXhwb3J0cz17S0VZOnIsTkVFRDohMSxmYXN0S2V5OnMsZ2V0V2VhazpkLG9uRnJlZXplOmh9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSksbz1uKDEyKSxpPW4oOSksdT1uKDYxKSxhPW4oMTYpLmY7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPW8uU3ltYm9sfHwoby5TeW1ib2w9aT97fTpyLlN5bWJvbHx8e30pO1wiX1wiPT10LmNoYXJBdCgwKXx8dCBpbiBlfHxhKGUsdCx7dmFsdWU6dS5mKHQpfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMSksbz1uKDMzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4saT1vKHQpLHU9cihpKSxhPXUubGVuZ3RoLGM9MDthPmM7KWlmKGlbbj11W2MrK11dPT09ZSlyZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxvPW4oNjkpLGk9big3MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodCksbj1vLmY7aWYobilmb3IodmFyIHUsYT1uKHQpLGM9aS5mLGw9MDthLmxlbmd0aD5sOyljLmNhbGwodCx1PWFbbCsrXSkmJmUucHVzaCh1KTtyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKHQsZSl7ZS5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNSk7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiQXJyYXlcIj09cih0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMzKSxvPW4oNzMpLmYsaT17fS50b1N0cmluZyx1PVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbyh0KX1jYXRjaChlKXtyZXR1cm4gdS5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24odCl7cmV0dXJuIHUmJlwiW29iamVjdCBXaW5kb3ddXCI9PWkuY2FsbCh0KT9hKHQpOm8ocih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMiksbz1uKDQyKS5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKTtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsbyl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MCksbz1uKDI0KSxpPW4oMzMpLHU9bigyMyksYT1uKDI2KSxjPW4oMTkpLGw9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtlLmY9bigyMCk/bDpmdW5jdGlvbih0LGUpe2lmKHQ9aSh0KSxlPXUoZSwhMCksYyl0cnl7cmV0dXJuIGwodCxlKX1jYXRjaChuKXt9aWYoYSh0LGUpKXJldHVybiBvKCFyLmYuY2FsbCh0LGUpLHRbZV0pfX0sZnVuY3Rpb24odCxlKXt9LGZ1bmN0aW9uKHQsZSxuKXtuKDY2KShcImFzeW5jSXRlcmF0b3JcIil9LGZ1bmN0aW9uKHQsZSxuKXtuKDY2KShcIm9ic2VydmFibGVcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIGk9big3OSksdT1yKGkpLGE9big4MiksYz1yKGEpLGw9big4NiksZj1yKGwpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuU21vb3RoU2Nyb2xsYmFyPXZvaWQgMDt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksKDAsZltcImRlZmF1bHRcIl0pKHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLGQ9big4OSksaD1uKDExMik7ZS5TbW9vdGhTY3JvbGxiYXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/e306YXJndW1lbnRzWzFdO28odGhpcyx0KSxlLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIxXCIpLGUuc2Nyb2xsVG9wPWUuc2Nyb2xsTGVmdD0wO3ZhciBpPSgwLGguZmluZENoaWxkKShlLFwic2Nyb2xsLWNvbnRlbnRcIiksYT0oMCxoLmZpbmRDaGlsZCkoZSxcIm92ZXJzY3JvbGwtZ2xvd1wiKSxsPSgwLGguZmluZENoaWxkKShlLFwic2Nyb2xsYmFyLXRyYWNrLXhcIiksZj0oMCxoLmZpbmRDaGlsZCkoZSxcInNjcm9sbGJhci10cmFjay15XCIpO2lmKCgwLGguc2V0U3R5bGUpKGUse292ZXJmbG93OlwiaGlkZGVuXCIsb3V0bGluZTpcIm5vbmVcIn0pLCgwLGguc2V0U3R5bGUpKGEse2Rpc3BsYXk6XCJub25lXCIsXCJwb2ludGVyLWV2ZW50c1wiOlwibm9uZVwifSksdGhpcy5fX3JlYWRvbmx5KFwidGFyZ2V0c1wiLCgwLGNbXCJkZWZhdWx0XCJdKSh7Y29udGFpbmVyOmUsY29udGVudDppLGNhbnZhczp7ZWxlbTphLGNvbnRleHQ6YS5nZXRDb250ZXh0KFwiMmRcIil9LHhBeGlzOigwLGNbXCJkZWZhdWx0XCJdKSh7dHJhY2s6bCx0aHVtYjooMCxoLmZpbmRDaGlsZCkobCxcInNjcm9sbGJhci10aHVtYi14XCIpfSkseUF4aXM6KDAsY1tcImRlZmF1bHRcIl0pKHt0cmFjazpmLHRodW1iOigwLGguZmluZENoaWxkKShmLFwic2Nyb2xsYmFyLXRodW1iLXlcIil9KX0pKS5fX3JlYWRvbmx5KFwib2Zmc2V0XCIse3g6MCx5OjB9KS5fX3JlYWRvbmx5KFwidGh1bWJPZmZzZXRcIix7eDowLHk6MH0pLl9fcmVhZG9ubHkoXCJsaW1pdFwiLHt4OjEvMCx5OjEvMH0pLl9fcmVhZG9ubHkoXCJtb3ZlbWVudFwiLHt4OjAseTowfSkuX19yZWFkb25seShcIm1vdmVtZW50TG9ja2VkXCIse3g6ITEseTohMX0pLl9fcmVhZG9ubHkoXCJvdmVyc2Nyb2xsUmVuZGVyZWRcIix7eDowLHk6MH0pLl9fcmVhZG9ubHkoXCJvdmVyc2Nyb2xsQmFja1wiLCExKS5fX3JlYWRvbmx5KFwidGh1bWJTaXplXCIse3g6MCx5OjAscmVhbFg6MCxyZWFsWTowfSkuX19yZWFkb25seShcImJvdW5kaW5nXCIse3RvcDowLHJpZ2h0OjAsYm90dG9tOjAsbGVmdDowfSkuX19yZWFkb25seShcImNoaWxkcmVuXCIsW10pLl9fcmVhZG9ubHkoXCJwYXJlbnRzXCIsW10pLl9fcmVhZG9ubHkoXCJzaXplXCIsdGhpcy5nZXRTaXplKCkpLl9fcmVhZG9ubHkoXCJpc05lc3RlZFNjcm9sbGJhclwiLCExKSwoMCx1W1wiZGVmYXVsdFwiXSkodGhpcyx7X19oaWRlVHJhY2tUaHJvdHRsZTp7dmFsdWU6KDAsaC5kZWJvdW5jZSkodGhpcy5oaWRlVHJhY2suYmluZCh0aGlzKSwxZTMsITEpfSxfX3VwZGF0ZVRocm90dGxlOnt2YWx1ZTooMCxoLmRlYm91bmNlKSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKX0sX190b3VjaFJlY29yZDp7dmFsdWU6bmV3IGguVG91Y2hSZWNvcmR9LF9fbGlzdGVuZXJzOnt2YWx1ZTpbXX0sX19oYW5kbGVyczp7dmFsdWU6W119LF9fY2hpbGRyZW46e3ZhbHVlOltdfSxfX3RpbWVySUQ6e3ZhbHVlOnt9fX0pLHRoaXMuX19pbml0T3B0aW9ucyhyKSx0aGlzLl9faW5pdFNjcm9sbGJhcigpLGQuc2JMaXN0LnNldChlLHRoaXMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGQuR0xPQkFMX0VOVi5NdXRhdGlvbk9ic2VydmVyKXt2YXIgcz1uZXcgZC5HTE9CQUxfRU5WLk11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKXtuLnVwZGF0ZSghMCl9KTtzLm9ic2VydmUoaSx7Y2hpbGRMaXN0OiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfX29ic2VydmVyXCIse3ZhbHVlOnN9KX19cmV0dXJuIHModCxbe2tleTpcIk1BWF9PVkVSU0NST0xMXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5zaXplO3N3aXRjaCh0Lm92ZXJzY3JvbGxFZmZlY3Qpe2Nhc2VcImJvdW5jZVwiOnZhciBuPU1hdGguZmxvb3IoTWF0aC5zcXJ0KE1hdGgucG93KGUuY29udGFpbmVyLndpZHRoLDIpK01hdGgucG93KGUuY29udGFpbmVyLmhlaWdodCwyKSkpLHI9dGhpcy5fX2lzTW92ZW1lbnRMb2NrZWQoKT8yOjEwO3JldHVybiBkLkdMT0JBTF9FTlYuVE9VQ0hfU1VQUE9SVEVEPygwLGgucGlja0luUmFuZ2UpKG4vciwxMDAsMWUzKTooMCxoLnBpY2tJblJhbmdlKShuLzEwLDI1LDUwKTtjYXNlXCJnbG93XCI6cmV0dXJuIDE1MDtkZWZhdWx0OnJldHVybiAwfX19LHtrZXk6XCJzY3JvbGxUb3BcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vZmZzZXQueX19LHtrZXk6XCJzY3JvbGxMZWZ0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0Lnh9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oODApLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big4MSk7dmFyIHI9bigxMikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiByLmRlZmluZVByb3BlcnRpZXModCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKTtyKHIuUytyLkYqIW4oMjApLFwiT2JqZWN0XCIse2RlZmluZVByb3BlcnRpZXM6bigzMCl9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6big4MyksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDg0KSx0LmV4cG9ydHM9bigxMikuT2JqZWN0LmZyZWV6ZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLG89big2NSkub25GcmVlemU7big4NSkoXCJmcmVlemVcIixmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQmJnIoZSk/dChvKGUpKTplfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksbz1uKDEyKSxpPW4oMjEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPShvLk9iamVjdHx8e30pW3RdfHxPYmplY3RbdF0sdT17fTt1W3RdPWUobikscihyLlMrci5GKmkoZnVuY3Rpb24oKXtuKDEpfSksXCJPYmplY3RcIix1KX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oODcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big4OCk7dmFyIHI9bigxMikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZGVmaW5lUHJvcGVydHkodCxlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApO3Ioci5TK3IuRiohbigyMCksXCJPYmplY3RcIix7ZGVmaW5lUHJvcGVydHk6bigxNikuZn0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDkzKTsoMCxhW1wiZGVmYXVsdFwiXSkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDkxKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe24oOTIpLHQuZXhwb3J0cz1uKDEyKS5PYmplY3Qua2V5c30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDcpLG89bigzMSk7big4NSkoXCJrZXlzXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG8ocih0KSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oOTQpOygwLGFbXCJkZWZhdWx0XCJdKShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSk7dmFyIGw9big5NSk7KDAsYVtcImRlZmF1bHRcIl0pKGwpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdF19fSl9KTt2YXIgZj1uKDExMSk7KDAsYVtcImRlZmF1bHRcIl0pKGYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9ZnVuY3Rpb24odCl7dmFyIGU9e30sbj17fTtyZXR1cm4oMCxhW1wiZGVmYXVsdFwiXSkodCkuZm9yRWFjaChmdW5jdGlvbihyKXsoMCxpW1wiZGVmYXVsdFwiXSkoZSxyLHtnZXQ6ZnVuY3Rpb24oKXtpZighbi5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIGU9dFtyXTtuW3JdPWUoKX1yZXR1cm4gbltyXX19KX0pLGV9LGw9e011dGF0aW9uT2JzZXJ2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcn0sVE9VQ0hfU1VQUE9SVEVEOmZ1bmN0aW9uKCl7cmV0dXJuXCJvbnRvdWNoc3RhcnRcImluIGRvY3VtZW50fSxFQVNJTkdfTVVMVElQTElFUjpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkLyk/LjU6LjI1fSxXSEVFTF9FVkVOVDpmdW5jdGlvbigpe3JldHVyblwib253aGVlbFwiaW4gd2luZG93P1wid2hlZWxcIjpcIm1vdXNld2hlZWxcIn19O2UuR0xPQkFMX0VOVj1jKGwpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBvPW4oOTYpLGk9cihvKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1uZXcgaVtcImRlZmF1bHRcIl0sYT11LnNldC5iaW5kKHUpLGM9dVtcImRlbGV0ZVwiXS5iaW5kKHUpO3UudXBkYXRlPWZ1bmN0aW9uKCl7dS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuX191cGRhdGVUcmVlKCl9KX0sdVtcImRlbGV0ZVwiXT1mdW5jdGlvbigpe3ZhciB0PWMuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyk7cmV0dXJuIHUudXBkYXRlKCksdH0sdS5zZXQ9ZnVuY3Rpb24oKXt2YXIgdD1hLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpO3JldHVybiB1LnVwZGF0ZSgpLHR9LGUuc2JMaXN0PXV9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oOTcpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big3NSksbig0KSxuKDU3KSxuKDk4KSxuKDEwOCksdC5leHBvcnRzPW4oMTIpLk1hcH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOTkpO3QuZXhwb3J0cz1uKDEwNCkoXCJNYXBcIixmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHtnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9ci5nZXRFbnRyeSh0aGlzLHQpO3JldHVybiBlJiZlLnZ9LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiByLmRlZih0aGlzLDA9PT10PzA6dCxlKX19LHIsITApfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNikuZixvPW4oMjkpLGk9bigxMDApLHU9bigxMyksYT1uKDEwMSksYz1uKDcpLGw9bigxMDIpLGY9big4KSxzPW4oNjApLGQ9bigxMDMpLGg9bigyMCksdj1uKDY1KS5mYXN0S2V5LF89aD9cIl9zXCI6XCJzaXplXCIscD1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dihlKTtpZihcIkZcIiE9PXIpcmV0dXJuIHQuX2lbcl07Zm9yKG49dC5fZjtuO249bi5uKWlmKG4uaz09ZSlyZXR1cm4gbn07dC5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbih0LGUsbixmKXt2YXIgcz10KGZ1bmN0aW9uKHQscil7YSh0LHMsZSxcIl9pXCIpLHQuX2k9byhudWxsKSx0Ll9mPXZvaWQgMCx0Ll9sPXZvaWQgMCx0W19dPTAsdm9pZCAwIT1yJiZsKHIsbix0W2ZdLHQpfSk7cmV0dXJuIGkocy5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10Ll9pLG49dC5fZjtuO249bi5uKW4ucj0hMCxuLnAmJihuLnA9bi5wLm49dm9pZCAwKSxkZWxldGUgZVtuLmldO3QuX2Y9dC5fbD12b2lkIDAsdFtfXT0wfSxcImRlbGV0ZVwiOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1wKGUsdCk7aWYobil7dmFyIHI9bi5uLG89bi5wO2RlbGV0ZSBlLl9pW24uaV0sbi5yPSEwLG8mJihvLm49ciksciYmKHIucD1vKSxlLl9mPT1uJiYoZS5fZj1yKSxlLl9sPT1uJiYoZS5fbD1vKSxlW19dLS19cmV0dXJuISFufSxmb3JFYWNoOmZ1bmN0aW9uKHQpe2EodGhpcyxzLFwiZm9yRWFjaFwiKTtmb3IodmFyIGUsbj11KHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7ZT1lP2Uubjp0aGlzLl9mOylmb3IobihlLnYsZS5rLHRoaXMpO2UmJmUucjspZT1lLnB9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4hIXAodGhpcyx0KX19KSxoJiZyKHMucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzW19dKX19KSxzfSxkZWY6ZnVuY3Rpb24odCxlLG4pe3ZhciByLG8saT1wKHQsZSk7cmV0dXJuIGk/aS52PW46KHQuX2w9aT17aTpvPXYoZSwhMCksazplLHY6bixwOnI9dC5fbCxuOnZvaWQgMCxyOiExfSx0Ll9mfHwodC5fZj1pKSxyJiYoci5uPWkpLHRbX10rKyxcIkZcIiE9PW8mJih0Ll9pW29dPWkpKSx0fSxnZXRFbnRyeTpwLHNldFN0cm9uZzpmdW5jdGlvbih0LGUsbil7Zih0LGUsZnVuY3Rpb24odCxlKXt0aGlzLl90PXQsdGhpcy5faz1lLHRoaXMuX2w9dm9pZCAwfSxmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9dC5fayxuPXQuX2w7biYmbi5yOyluPW4ucDtyZXR1cm4gdC5fdCYmKHQuX2w9bj1uP24ubjp0Ll90Ll9mKT9cImtleXNcIj09ZT9zKDAsbi5rKTpcInZhbHVlc1wiPT1lP3MoMCxuLnYpOnMoMCxbbi5rLG4udl0pOih0Ll90PXZvaWQgMCxzKDEpKX0sbj9cImVudHJpZXNcIjpcInZhbHVlc1wiLCFuLCEwKSxkKGUpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgbyBpbiBlKW4mJnRbb10/dFtvXT1lW29dOnIodCxvLGVbb10pO3JldHVybiB0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scil7aWYoISh0IGluc3RhbmNlb2YgZSl8fHZvaWQgMCE9PXImJnIgaW4gdCl0aHJvdyBUeXBlRXJyb3IobitcIjogaW5jb3JyZWN0IGludm9jYXRpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTMpLG89big0OSksaT1uKDUwKSx1PW4oMTcpLGE9bigzNyksYz1uKDUyKSxsPXt9LGY9e30sZT10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scyxkKXt2YXIgaCx2LF8scCx5PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gdH06Yyh0KSxiPXIobixzLGU/MjoxKSxnPTA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgeSl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgaXRlcmFibGUhXCIpO2lmKGkoeSkpe2ZvcihoPWEodC5sZW5ndGgpO2g+ZztnKyspaWYocD1lP2IodSh2PXRbZ10pWzBdLHZbMV0pOmIodFtnXSkscD09PWx8fHA9PT1mKXJldHVybiBwfWVsc2UgZm9yKF89eS5jYWxsKHQpOyEodj1fLm5leHQoKSkuZG9uZTspaWYocD1vKF8sYix2LnZhbHVlLGUpLHA9PT1sfHxwPT09ZilyZXR1cm4gcH07ZS5CUkVBSz1sLGUuUkVUVVJOPWZ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDExKSxvPW4oMTIpLGk9bigxNiksdT1uKDIwKSxhPW4oNDUpKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2Ygb1t0XT9vW3RdOnJbdF07dSYmZSYmIWVbYV0mJmkuZihlLGEse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDExKSxvPW4oMTApLGk9big2NSksdT1uKDIxKSxhPW4oMTUpLGM9bigxMDApLGw9bigxMDIpLGY9bigxMDEpLHM9bigxOCksZD1uKDQ0KSxoPW4oMTYpLmYsdj1uKDEwNSkoMCksXz1uKDIwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scCx5LGIpe3ZhciBnPXJbdF0sbT1nLHg9eT9cInNldFwiOlwiYWRkXCIsUz1tJiZtLnByb3RvdHlwZSxFPXt9O3JldHVybiBfJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBtJiYoYnx8Uy5mb3JFYWNoJiYhdShmdW5jdGlvbigpeyhuZXcgbSkuZW50cmllcygpLm5leHQoKX0pKT8obT1lKGZ1bmN0aW9uKGUsbil7ZihlLG0sdCxcIl9jXCIpLGUuX2M9bmV3IGcsdm9pZCAwIT1uJiZsKG4seSxlW3hdLGUpfSksdihcImFkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTlwiLnNwbGl0KFwiLFwiKSxmdW5jdGlvbih0KXt2YXIgZT1cImFkZFwiPT10fHxcInNldFwiPT10O3QgaW4gUyYmKCFifHxcImNsZWFyXCIhPXQpJiZhKG0ucHJvdG90eXBlLHQsZnVuY3Rpb24obixyKXtpZihmKHRoaXMsbSx0KSwhZSYmYiYmIXMobikpcmV0dXJuXCJnZXRcIj09dCYmdm9pZCAwO3ZhciBvPXRoaXMuX2NbdF0oMD09PW4/MDpuLHIpO3JldHVybiBlP3RoaXM6b30pfSksXCJzaXplXCJpbiBTJiZoKG0ucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYy5zaXplfX0pKToobT1wLmdldENvbnN0cnVjdG9yKGUsdCx5LHgpLGMobS5wcm90b3R5cGUsbiksaS5ORUVEPSEwKSxkKG0sdCksRVt0XT1tLG8oby5HK28uVytvLkYsRSksYnx8cC5zZXRTdHJvbmcobSx0LHkpLG19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMyksbz1uKDM0KSxpPW4oNDcpLHU9bigzNyksYT1uKDEwNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49MT09dCxjPTI9PXQsbD0zPT10LGY9ND09dCxzPTY9PXQsZD01PT10fHxzLGg9ZXx8YTtyZXR1cm4gZnVuY3Rpb24oZSxhLHYpe2Zvcih2YXIgXyxwLHk9aShlKSxiPW8oeSksZz1yKGEsdiwzKSxtPXUoYi5sZW5ndGgpLHg9MCxTPW4/aChlLG0pOmM/aChlLDApOnZvaWQgMDttPng7eCsrKWlmKChkfHx4IGluIGIpJiYoXz1iW3hdLHA9ZyhfLHgseSksdCkpaWYobilTW3hdPXA7ZWxzZSBpZihwKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBfO2Nhc2UgNjpyZXR1cm4geDtjYXNlIDI6Uy5wdXNoKF8pfWVsc2UgaWYoZilyZXR1cm4hMTtyZXR1cm4gcz8tMTpsfHxmP2Y6U319fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcocih0KSkoZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxOCksbz1uKDcxKSxpPW4oNDUpKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG8odCkmJihlPXQuY29uc3RydWN0b3IsXCJmdW5jdGlvblwiIT10eXBlb2YgZXx8ZSE9PUFycmF5JiYhbyhlLnByb3RvdHlwZSl8fChlPXZvaWQgMCkscihlKSYmKGU9ZVtpXSxudWxsPT09ZSYmKGU9dm9pZCAwKSkpLHZvaWQgMD09PWU/QXJyYXk6ZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKTtyKHIuUCtyLlIsXCJNYXBcIix7dG9KU09OOm4oMTA5KShcIk1hcFwiKX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1Myksbz1uKDExMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe2lmKHIodGhpcykhPXQpdGhyb3cgVHlwZUVycm9yKHQrXCIjdG9KU09OIGlzbid0IGdlbmVyaWNcIik7cmV0dXJuIG8odGhpcyl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTAyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtyZXR1cm4gcih0LCExLG4ucHVzaCxuLGUpLG59fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2Uuc2VsZWN0b3JzPVwic2Nyb2xsYmFyLCBbc2Nyb2xsYmFyXSwgW2RhdGEtc2Nyb2xsYmFyXVwifSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDExMyk7KDAsYVtcImRlZmF1bHRcIl0pKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigxMTQpOygwLGFbXCJkZWZhdWx0XCJdKShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSk7dmFyIGw9bigxMTUpOygwLGFbXCJkZWZhdWx0XCJdKShsKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3RdfX0pfSk7dmFyIGY9bigxMTYpOygwLGFbXCJkZWZhdWx0XCJdKShmKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmW3RdfX0pfSk7dmFyIHM9bigxMTcpOygwLGFbXCJkZWZhdWx0XCJdKShzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzW3RdfX0pfSk7dmFyIGQ9bigxMTgpOygwLGFbXCJkZWZhdWx0XCJdKShkKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkW3RdfX0pfSk7dmFyIGg9bigxMTkpOygwLGFbXCJkZWZhdWx0XCJdKShoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoW3RdfX0pfSk7dmFyIHY9bigxMjApOygwLGFbXCJkZWZhdWx0XCJdKSh2KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2W3RdfX0pfSk7dmFyIF89bigxMjEpOygwLGFbXCJkZWZhdWx0XCJdKShfKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfW3RdfX0pfSk7dmFyIHA9bigxMjIpOygwLGFbXCJkZWZhdWx0XCJdKShwKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwW3RdfX0pfSk7dmFyIHk9bigxMjMpOygwLGFbXCJkZWZhdWx0XCJdKSh5KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5W3RdfX0pfSk7dmFyIGI9bigxMjQpOygwLGFbXCJkZWZhdWx0XCJdKShiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7ZS5idWlsZEN1cnZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoZTw9MClyZXR1cm4gbjtmb3IodmFyIHI9TWF0aC5yb3VuZChlLzFlMyo2MCksbz0tdC9NYXRoLnBvdyhyLDIpLGk9LTIqbypyLHU9MDt1PHI7dSsrKW4ucHVzaChvKk1hdGgucG93KHUsMikraSp1KTtyZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49MTAwO2UuZGVib3VuY2U9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP246YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdfHxhcmd1bWVudHNbMl07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIG89dm9pZCAwO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkobiksdT0wO3U8bjt1KyspaVt1XT1hcmd1bWVudHNbdV07IW8mJnImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsaSl9KSxjbGVhclRpbWVvdXQobyksbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bz12b2lkIDAsdC5hcHBseSh2b2lkIDAsaSl9LGUpfX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO1xucmV0dXJuIG59cmV0dXJuKDAsdVtcImRlZmF1bHRcIl0pKHQpfXZhciBpPW4oMiksdT1yKGkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuZmluZENoaWxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jaGlsZHJlbixyPW51bGw7cmV0dXJuIG4mJltdLmNvbmNhdChvKG4pKS5zb21lKGZ1bmN0aW9uKHQpe2lmKHQuY2xhc3NOYW1lLm1hdGNoKGUpKXJldHVybiByPXQsITB9KSxyfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj17U1RBTkRBUkQ6MSxPVEhFUlM6LTN9LHI9WzEsMjgsNTAwXSxvPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHxyWzBdfTtlLmdldERlbHRhPWZ1bmN0aW9uKHQpe2lmKFwiZGVsdGFYXCJpbiB0KXt2YXIgZT1vKHQuZGVsdGFNb2RlKTtyZXR1cm57eDp0LmRlbHRhWC9uLlNUQU5EQVJEKmUseTp0LmRlbHRhWS9uLlNUQU5EQVJEKmV9fXJldHVyblwid2hlZWxEZWx0YVhcImluIHQ/e3g6dC53aGVlbERlbHRhWC9uLk9USEVSUyx5OnQud2hlZWxEZWx0YVkvbi5PVEhFUlN9Ont4OjAseTp0LndoZWVsRGVsdGEvbi5PVEhFUlN9fX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLmdldFBvaW50ZXJEYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRvdWNoZXM/dC50b3VjaGVzW3QudG91Y2hlcy5sZW5ndGgtMV06dH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmdldFBvc2l0aW9uPXZvaWQgMDt2YXIgcj1uKDExOCk7ZS5nZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT0oMCxyLmdldFBvaW50ZXJEYXRhKSh0KTtyZXR1cm57eDplLmNsaWVudFgseTplLmNsaWVudFl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuZ2V0VG91Y2hJRD12b2lkIDA7dmFyIHI9bigxMTgpO2UuZ2V0VG91Y2hJRD1mdW5jdGlvbih0KXt2YXIgZT0oMCxyLmdldFBvaW50ZXJEYXRhKSh0KTtyZXR1cm4gZS5pZGVudGlmaWVyfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLmlzT25lT2Y9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP1tdOmFyZ3VtZW50c1sxXTtyZXR1cm4gZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZX0pfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtlLnBpY2tJblJhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8tKDEvMCk6YXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPzEvMDphcmd1bWVudHNbMl07cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5taW4odCxuKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBvPW4oOTApLGk9cihvKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1bXCJ3ZWJraXRcIixcIm1velwiLFwibXNcIixcIm9cIl0sYT1uZXcgUmVnRXhwKFwiXi0oPyEoPzpcIit1LmpvaW4oXCJ8XCIpK1wiKS0pXCIpLGM9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuKDAsaVtcImRlZmF1bHRcIl0pKHQpLmZvckVhY2goZnVuY3Rpb24obil7aWYoIWEudGVzdChuKSlyZXR1cm4gdm9pZChlW25dPXRbbl0pO3ZhciByPXRbbl07bj1uLnJlcGxhY2UoL14tLyxcIlwiKSxlW25dPXIsdS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbXCItXCIrdCtcIi1cIituXT1yfSl9KSxlfTtlLnNldFN0eWxlPWZ1bmN0aW9uKHQsZSl7ZT1jKGUpLCgwLGlbXCJkZWZhdWx0XCJdKShlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPW4ucmVwbGFjZSgvXi0vLFwiXCIpLnJlcGxhY2UoLy0oW2Etel0pL2csZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSk7dC5zdHlsZVtyXT1lW25dfSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybigwLGFbXCJkZWZhdWx0XCJdKSh0KX1mdW5jdGlvbiBpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgdT1uKDIpLGE9cih1KSxjPW4oODYpLGw9cihjKSxmPW4oMTI1KSxzPXIoZik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Ub3VjaFJlY29yZD12b2lkIDA7dmFyIGQ9c1tcImRlZmF1bHRcIl18fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLCgwLGxbXCJkZWZhdWx0XCJdKSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKSx2PW4oMTE5KSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpKHRoaXMsdCksdGhpcy51cGRhdGVUaW1lPURhdGUubm93KCksdGhpcy5kZWx0YT17eDowLHk6MH0sdGhpcy52ZWxvY2l0eT17eDowLHk6MH0sdGhpcy5sYXN0UG9zaXRpb249KDAsdi5nZXRQb3NpdGlvbikoZSl9cmV0dXJuIGgodCxbe2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudmVsb2NpdHksbj10aGlzLnVwZGF0ZVRpbWUscj10aGlzLmxhc3RQb3NpdGlvbixvPURhdGUubm93KCksaT0oMCx2LmdldFBvc2l0aW9uKSh0KSx1PXt4Oi0oaS54LXIueCkseTotKGkueS1yLnkpfSxhPW8tbnx8MTYsYz11LngvYSoxZTMsbD11LnkvYSoxZTM7ZS54PS44KmMrLjIqZS54LGUueT0uOCpsKy4yKmUueSx0aGlzLmRlbHRhPXUsdGhpcy51cGRhdGVUaW1lPW8sdGhpcy5sYXN0UG9zaXRpb249aX19XSksdH0oKTtlLlRvdWNoUmVjb3JkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLnRvdWNoTGlzdD17fSx0aGlzLmxhc3RUb3VjaD1udWxsLHRoaXMuYWN0aXZlVG91Y2hJRD12b2lkIDB9cmV0dXJuIGgodCxbe2tleTpcIl9fYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5fX2hhcyh0KSlyZXR1cm4gbnVsbDt2YXIgZT1uZXcgXyh0KTtyZXR1cm4gdGhpcy50b3VjaExpc3RbdC5pZGVudGlmaWVyXT1lLGV9fSx7a2V5OlwiX19yZW5ld1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9faGFzKHQpKXJldHVybiBudWxsO3ZhciBlPXRoaXMudG91Y2hMaXN0W3QuaWRlbnRpZmllcl07cmV0dXJuIGUudXBkYXRlKHQpLGV9fSx7a2V5OlwiX19kZWxldGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZGVsZXRlIHRoaXMudG91Y2hMaXN0W3QuaWRlbnRpZmllcl19fSx7a2V5OlwiX19oYXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50b3VjaExpc3QuaGFzT3duUHJvcGVydHkodC5pZGVudGlmaWVyKX19LHtrZXk6XCJfX3NldEFjdGl2ZUlEXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hY3RpdmVUb3VjaElEPXRbdC5sZW5ndGgtMV0uaWRlbnRpZmllcix0aGlzLmxhc3RUb3VjaD10aGlzLnRvdWNoTGlzdFt0aGlzLmFjdGl2ZVRvdWNoSURdfX0se2tleTpcIl9fZ2V0QWN0aXZlVHJhY2tlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b3VjaExpc3QsZT10aGlzLmFjdGl2ZVRvdWNoSUQ7cmV0dXJuIHRbZV19fSx7a2V5OlwiaXNBY3RpdmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLmFjdGl2ZVRvdWNoSUR9fSx7a2V5OlwiZ2V0RGVsdGFcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX19nZXRBY3RpdmVUcmFja2VyKCk7cmV0dXJuIHQ/ZCh7fSx0LmRlbHRhKTp0aGlzLl9fcHJpbWl0aXZlVmFsdWV9fSx7a2V5OlwiZ2V0VmVsb2NpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX19nZXRBY3RpdmVUcmFja2VyKCk7cmV0dXJuIHQ/ZCh7fSx0LnZlbG9jaXR5KTp0aGlzLl9fcHJpbWl0aXZlVmFsdWV9fSx7a2V5OlwiZ2V0TGFzdFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/XCJcIjphcmd1bWVudHNbMF0sZT10aGlzLl9fZ2V0QWN0aXZlVHJhY2tlcigpfHx0aGlzLmxhc3RUb3VjaCxuPWU/ZS5sYXN0UG9zaXRpb246dGhpcy5fX3ByaW1pdGl2ZVZhbHVlO3JldHVybiB0P24uaGFzT3duUHJvcGVydHkodCk/blt0XTowOmQoe30sbil9fSx7a2V5OlwidXBkYXRlZFJlY2VudGx5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9fZ2V0QWN0aXZlVHJhY2tlcigpO3JldHVybiB0JiZEYXRlLm5vdygpLXQudXBkYXRlVGltZTwzMH19LHtrZXk6XCJ0cmFja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnRhcmdldFRvdWNoZXM7cmV0dXJuW10uY29uY2F0KG8obikpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fX2FkZCh0KX0pLHRoaXMudG91Y2hMaXN0fX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10LnRvdWNoZXMscj10LmNoYW5nZWRUb3VjaGVzO3JldHVybltdLmNvbmNhdChvKG4pKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX19yZW5ldyh0KX0pLHRoaXMuX19zZXRBY3RpdmVJRChyKSx0aGlzLnRvdWNoTGlzdH19LHtrZXk6XCJyZWxlYXNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5hY3RpdmVUb3VjaElEPXZvaWQgMCxbXS5jb25jYXQobyh0LmNoYW5nZWRUb3VjaGVzKSkuZm9yRWFjaChmdW5jdGlvbih0KXtlLl9fZGVsZXRlKHQpfSksdGhpcy50b3VjaExpc3R9fSx7a2V5OlwiX19wcmltaXRpdmVWYWx1ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybnt4OjAseTowfX19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6bigxMjYpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7bigxMjcpLHQuZXhwb3J0cz1uKDEyKS5PYmplY3QuYXNzaWdufSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCk7cihyLlMrci5GLFwiT2JqZWN0XCIse2Fzc2lnbjpuKDEyOCl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLG89big2OSksaT1uKDcwKSx1PW4oNDcpLGE9bigzNCksYz1PYmplY3QuYXNzaWduO3QuZXhwb3J0cz0hY3x8bigyMSkoZnVuY3Rpb24oKXt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCkscj1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIHRbbl09NyxyLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT10fSksNyE9Yyh7fSx0KVtuXXx8T2JqZWN0LmtleXMoYyh7fSxlKSkuam9pbihcIlwiKSE9cn0pP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXUodCksYz1hcmd1bWVudHMubGVuZ3RoLGw9MSxmPW8uZixzPWkuZjtjPmw7KWZvcih2YXIgZCxoPWEoYXJndW1lbnRzW2wrK10pLHY9Zj9yKGgpLmNvbmNhdChmKGgpKTpyKGgpLF89di5sZW5ndGgscD0wO18+cDspcy5jYWxsKGgsZD12W3ArK10pJiYobltkXT1oW2RdKTtyZXR1cm4gbn06Y30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigxMzApOygwLGFbXCJkZWZhdWx0XCJdKShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTMxKTsoMCxhW1wiZGVmYXVsdFwiXSkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pO3ZhciBsPW4oMTMyKTsoMCxhW1wiZGVmYXVsdFwiXSkobCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt0XX19KX0pO3ZhciBmPW4oMTMzKTsoMCxhW1wiZGVmYXVsdFwiXSkoZikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZlt0XX19KX0pO3ZhciBzPW4oMTM0KTsoMCxhW1wiZGVmYXVsdFwiXSkocykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc1t0XX19KX0pO3ZhciBkPW4oMTM1KTsoMCxhW1wiZGVmYXVsdFwiXSkoZCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZFt0XX19KX0pO3ZhciBoPW4oMTM2KTsoMCxhW1wiZGVmYXVsdFwiXSkoaCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaFt0XX19KX0pO3ZhciB2PW4oMTM3KTsoMCxhW1wiZGVmYXVsdFwiXSkodikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdlt0XX19KX0pO3ZhciBfPW4oMTM4KTsoMCxhW1wiZGVmYXVsdFwiXSkoXykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gX1t0XX19KX0pO3ZhciBwPW4oMTM5KTsoMCxhW1wiZGVmYXVsdFwiXSkocCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcFt0XX19KX0pO3ZhciB5PW4oMTQwKTsoMCxhW1wiZGVmYXVsdFwiXSkoeSkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geVt0XX19KX0pO3ZhciBiPW4oMTQxKTsoMCxhW1wiZGVmYXVsdFwiXSkoYikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYlt0XX19KX0pO3ZhciBnPW4oMTQyKTsoMCxhW1wiZGVmYXVsdFwiXSkoZykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ1t0XX19KX0pO3ZhciBtPW4oMTQzKTsoMCxhW1wiZGVmYXVsdFwiXSkobSkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbVt0XX19KX0pO3ZhciB4PW4oMTQ0KTsoMCxhW1wiZGVmYXVsdFwiXSkoeCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geFt0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3OCk7ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLmNsZWFyTW92ZW1lbnQ9ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLm1vdmVtZW50Lng9dGhpcy5tb3ZlbWVudC55PTAsY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fX3RpbWVySUQuc2Nyb2xsVG8pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49QXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn1yZXR1cm4oMCx1W1wiZGVmYXVsdFwiXSkodCl9dmFyIGk9bigyKSx1PXIoaSksYT1uKDc4KSxjPW4oMTEyKSxsPW4oODkpO2EuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19saXN0ZW5lcnMsbj10aGlzLl9faGFuZGxlcnMscj10aGlzLl9fb2JzZXJ2ZXIsaT10aGlzLnRhcmdldHMsdT1pLmNvbnRhaW5lcixhPWkuY29udGVudDtuLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5ldnQsbj10LmVsZW0scj10LmZuO24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHIpfSksbi5sZW5ndGg9ZS5sZW5ndGg9MCx0aGlzLnN0b3AoKSxjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9fdGltZXJJRC5yZW5kZXIpLHImJnIuZGlzY29ubmVjdCgpLGwuc2JMaXN0W1wiZGVsZXRlXCJdKHUpLHR8fHRoaXMuc2Nyb2xsVG8oMCwwLDMwMCxmdW5jdGlvbigpe2lmKHUucGFyZW50Tm9kZSl7KDAsYy5zZXRTdHlsZSkodSx7b3ZlcmZsb3c6XCJcIn0pLHUuc2Nyb2xsVG9wPXUuc2Nyb2xsTGVmdD0wO3ZhciB0PVtdLmNvbmNhdChvKGEuY2hpbGROb2RlcykpO3UuaW5uZXJIVE1MPVwiXCIsdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB1LmFwcGVuZENoaWxkKHQpfSl9fSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3OCk7ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLmdldENvbnRlbnRFbGVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0cy5jb250ZW50fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNzgpO3IuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50YXJnZXRzLmNvbnRhaW5lcixlPXRoaXMudGFyZ2V0cy5jb250ZW50O3JldHVybntjb250YWluZXI6e3dpZHRoOnQuY2xpZW50V2lkdGgsaGVpZ2h0OnQuY2xpZW50SGVpZ2h0fSxjb250ZW50Ont3aWR0aDplLm9mZnNldFdpZHRoLWUuY2xpZW50V2lkdGgrZS5zY3JvbGxXaWR0aCxoZWlnaHQ6ZS5vZmZzZXRIZWlnaHQtZS5jbGllbnRIZWlnaHQrZS5zY3JvbGxIZWlnaHR9fX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDc4KTtyLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuaW5maW5pdGVTY3JvbGw9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdPzUwOmFyZ3VtZW50c1sxXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXt2YXIgbj17eDowLHk6MH0scj0hMTt0aGlzLmFkZExpc3RlbmVyKGZ1bmN0aW9uKG8pe3ZhciBpPW8ub2Zmc2V0LHU9by5saW1pdDt1LnktaS55PD1lJiZpLnk+bi55JiYhciYmKHI9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0KG8pfSkpLHUueS1pLnk+ZSYmKHI9ITEpLG49aX0pfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDc4KTtyLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm91bmRpbmcsbj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9TWF0aC5tYXgoZS50b3Asbi50b3ApLG89TWF0aC5tYXgoZS5sZWZ0LG4ubGVmdCksaT1NYXRoLm1pbihlLnJpZ2h0LG4ucmlnaHQpLHU9TWF0aC5taW4oZS5ib3R0b20sbi5ib3R0b20pO3JldHVybiByPHUmJm88aX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDc4KTtyLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdGhpcy5fX2xpc3RlbmVycy5wdXNoKHQpfSxyLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdGhpcy5fX2xpc3RlbmVycy5zb21lKGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gZT09PXQmJnIuc3BsaWNlKG4sMSl9KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0LGUsbil7cmV0dXJuIGUgaW4gdD8oMCxsW1wiZGVmYXVsdFwiXSkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gaSh0LGUpe3JldHVybiEhZS5sZW5ndGgmJmUuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gdC5tYXRjaChlKX0pfWZ1bmN0aW9uIHUoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/cy5SRUdJRVNURVI6YXJndW1lbnRzWzBdLGU9ZFt0XTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KG4pLG89MDtvPG47bysrKXJbb109YXJndW1lbnRzW29dO3RoaXMuX19oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBvPW4uZWxlbSx1PW4uZXZ0LGE9bi5mbixjPW4uaGFzUmVnaXN0ZXJlZDtjJiZ0PT09cy5SRUdJRVNURVJ8fCFjJiZ0PT09cy5VTlJFR0lFU1RFUnx8aSh1LHIpJiYob1tlXSh1LGEpLG4uaGFzUmVnaXN0ZXJlZD0hYyl9KX19dmFyIGEsYz1uKDg2KSxsPXIoYyksZj1uKDc4KSxzPXtSRUdJRVNURVI6MCxVTlJFR0lFU1RFUjoxfSxkPShhPXt9LG8oYSxzLlJFR0lFU1RFUixcImFkZEV2ZW50TGlzdGVuZXJcIiksbyhhLHMuVU5SRUdJRVNURVIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIpLGEpO2YuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5yZWdpc3RlckV2ZW50cz11KHMuUkVHSUVTVEVSKSxmLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUudW5yZWdpc3RlckV2ZW50cz11KHMuVU5SRUdJRVNURVIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3OCk7ci5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnNjcm9sbEludG9WaWV3PWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT97fTphcmd1bWVudHNbMV0sbj1lLm9ubHlTY3JvbGxJZk5lZWRlZCxyPXZvaWQgMCE9PW4mJm4sbz1lLm9mZnNldFRvcCxpPXZvaWQgMD09PW8/MDpvLHU9ZS5vZmZzZXRMZWZ0LGE9dm9pZCAwPT09dT8wOnUsYz10aGlzLnRhcmdldHMsbD10aGlzLmJvdW5kaW5nO2lmKHQmJmMuY29udGFpbmVyLmNvbnRhaW5zKHQpKXt2YXIgZj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ImJnRoaXMuaXNWaXNpYmxlKHQpfHx0aGlzLl9fc2V0TW92ZW1lbnQoZi5sZWZ0LWwubGVmdC1hLGYudG9wLWwudG9wLWkpfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDExMiksbz1uKDc4KTtvLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUuc2Nyb2xsVG89ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dGhpcy5vZmZzZXQueDphcmd1bWVudHNbMF0sZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dGhpcy5vZmZzZXQueTphcmd1bWVudHNbMV0sbj10aGlzLG89YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPzA6YXJndW1lbnRzWzJdLGk9YXJndW1lbnRzLmxlbmd0aDw9M3x8dm9pZCAwPT09YXJndW1lbnRzWzNdP251bGw6YXJndW1lbnRzWzNdLHU9dGhpcy5vcHRpb25zLGE9dGhpcy5vZmZzZXQsYz10aGlzLmxpbWl0LGw9dGhpcy5fX3RpbWVySUQ7Y2FuY2VsQW5pbWF0aW9uRnJhbWUobC5zY3JvbGxUbyksaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2k6ZnVuY3Rpb24oKXt9LHUucmVuZGVyQnlQaXhlbHMmJih0PU1hdGgucm91bmQodCksZT1NYXRoLnJvdW5kKGUpKTt2YXIgZj1hLngscz1hLnksZD0oMCxyLnBpY2tJblJhbmdlKSh0LDAsYy54KS1mLGg9KDAsci5waWNrSW5SYW5nZSkoZSwwLGMueSktcyx2PSgwLHIuYnVpbGRDdXJ2ZSkoZCxvKSxfPSgwLHIuYnVpbGRDdXJ2ZSkoaCxvKSxwPXYubGVuZ3RoLHk9MCxiPWZ1bmN0aW9uIGcoKXtyZXR1cm4geT09PXA/KG4uc2V0UG9zaXRpb24odCxlKSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtpKG4pfSkpOihuLnNldFBvc2l0aW9uKGYrdlt5XSxzK19beV0pLHkrKyx2b2lkKGwuc2Nyb2xsVG89cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGcpKSl9O2IoKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89big5MCksaT1yKG8pLHU9big3OCk7dS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3t9OmFyZ3VtZW50c1swXTsoMCxpW1wiZGVmYXVsdFwiXSkoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0Lm9wdGlvbnMuaGFzT3duUHJvcGVydHkobikmJnZvaWQgMCE9PWVbbl0mJih0Lm9wdGlvbnNbbl09ZVtuXSl9KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89bigxMjUpLGk9cihvKSx1PWlbXCJkZWZhdWx0XCJdfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih0W3JdPW5bcl0pfXJldHVybiB0fSxhPW4oMTEyKSxjPW4oNzgpO2MuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT90aGlzLm9mZnNldC54OmFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT90aGlzLm9mZnNldC55OmFyZ3VtZW50c1sxXSxuPSEoYXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdKSYmYXJndW1lbnRzWzJdO3RoaXMuX19oaWRlVHJhY2tUaHJvdHRsZSgpO3ZhciByPXt9LG89dGhpcy5vcHRpb25zLGk9dGhpcy5vZmZzZXQsYz10aGlzLmxpbWl0LGw9dGhpcy50YXJnZXRzLGY9dGhpcy5fX2xpc3RlbmVycztvLnJlbmRlckJ5UGl4ZWxzJiYodD1NYXRoLnJvdW5kKHQpLGU9TWF0aC5yb3VuZChlKSksTWF0aC5hYnModC1pLngpPjEmJnRoaXMuc2hvd1RyYWNrKFwieFwiKSxNYXRoLmFicyhlLWkueSk+MSYmdGhpcy5zaG93VHJhY2soXCJ5XCIpLHQ9KDAsYS5waWNrSW5SYW5nZSkodCwwLGMueCksZT0oMCxhLnBpY2tJblJhbmdlKShlLDAsYy55KSx0PT09aS54JiZlPT09aS55fHwoci5kaXJlY3Rpb249e3g6dD09PWkueD9cIm5vbmVcIjp0PmkueD9cInJpZ2h0XCI6XCJsZWZ0XCIseTplPT09aS55P1wibm9uZVwiOmU+aS55P1wiZG93blwiOlwidXBcIn0sdGhpcy5fX3JlYWRvbmx5KFwib2Zmc2V0XCIse3g6dCx5OmV9KSxyLmxpbWl0PXUoe30sYyksci5vZmZzZXQ9dSh7fSx0aGlzLm9mZnNldCksdGhpcy5fX3NldFRodW1iUG9zaXRpb24oKSwoMCxhLnNldFN0eWxlKShsLmNvbnRlbnQse1wiLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM2QoXCIrLXQrXCJweCwgXCIrLWUrXCJweCwgMClcIn0pLG58fGYuZm9yRWFjaChmdW5jdGlvbih0KXtvLnN5bmNDYWxsYmFja3M/dChyKTpyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt0KHIpfSl9KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCxlLG4pe3JldHVybiBlIGluIHQ/KDAsY1tcImRlZmF1bHRcIl0pKHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIGkoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/Zi5TSE9XOmFyZ3VtZW50c1swXSxlPWRbdF07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP1wiYm90aFwiOmFyZ3VtZW50c1swXSxyPXRoaXMub3B0aW9ucyxvPXRoaXMubW92ZW1lbnQsaT10aGlzLnRhcmdldHMsdT1pLmNvbnRhaW5lcixhPWkueEF4aXMsYz1pLnlBeGlzO28ueHx8by55P3UuY2xhc3NMaXN0LmFkZChzLkNPTlRBSU5FUik6dS5jbGFzc0xpc3QucmVtb3ZlKHMuQ09OVEFJTkVSKSxyLmFsd2F5c1Nob3dUcmFja3MmJnQ9PT1mLkhJREV8fChuPW4udG9Mb3dlckNhc2UoKSxcImJvdGhcIj09PW4mJihhLnRyYWNrLmNsYXNzTGlzdFtlXShzLlRSQUNLKSxjLnRyYWNrLmNsYXNzTGlzdFtlXShzLlRSQUNLKSksXCJ4XCI9PT1uJiZhLnRyYWNrLmNsYXNzTGlzdFtlXShzLlRSQUNLKSxcInlcIj09PW4mJmMudHJhY2suY2xhc3NMaXN0W2VdKHMuVFJBQ0spKX19dmFyIHUsYT1uKDg2KSxjPXIoYSksbD1uKDc4KSxmPXtTSE9XOjAsSElERToxfSxzPXtUUkFDSzpcInNob3dcIixDT05UQUlORVI6XCJzY3JvbGxpbmdcIn0sZD0odT17fSxvKHUsZi5TSE9XLFwiYWRkXCIpLG8odSxmLkhJREUsXCJyZW1vdmVcIiksdSk7bC5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnNob3dUcmFjaz1pKGYuU0hPVyksbC5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLmhpZGVUcmFjaz1pKGYuSElERSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7aWYoXCJnbG93XCI9PT10aGlzLm9wdGlvbnMub3ZlcnNjcm9sbEVmZmVjdCl7dmFyIHQ9dGhpcy50YXJnZXRzLGU9dGhpcy5zaXplLG49dC5jYW52YXMscj1uLmVsZW0sbz1uLmNvbnRleHQsaT13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSx1PWUuY29udGFpbmVyLndpZHRoKmksYT1lLmNvbnRhaW5lci5oZWlnaHQqaTt1PT09ci53aWR0aCYmYT09PXIuaGVpZ2h0fHwoci53aWR0aD11LHIuaGVpZ2h0PWEsby5zY2FsZShpLGkpKX19ZnVuY3Rpb24gbygpe3ZhciB0PXRoaXMuc2l6ZSxlPXRoaXMudGh1bWJTaXplLG49dGhpcy50YXJnZXRzLHI9bi54QXhpcyxvPW4ueUF4aXM7KDAsdS5zZXRTdHlsZSkoci50cmFjayx7ZGlzcGxheTp0LmNvbnRlbnQud2lkdGg8PXQuY29udGFpbmVyLndpZHRoP1wibm9uZVwiOlwiYmxvY2tcIn0pLCgwLHUuc2V0U3R5bGUpKG8udHJhY2sse2Rpc3BsYXk6dC5jb250ZW50LmhlaWdodDw9dC5jb250YWluZXIuaGVpZ2h0P1wibm9uZVwiOlwiYmxvY2tcIn0pLCgwLHUuc2V0U3R5bGUpKHIudGh1bWIse3dpZHRoOmUueCtcInB4XCJ9KSwoMCx1LnNldFN0eWxlKShvLnRodW1iLHtoZWlnaHQ6ZS55K1wicHhcIn0pfWZ1bmN0aW9uIGkoKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5fX3VwZGF0ZUJvdW5kaW5nKCk7dmFyIGU9dGhpcy5nZXRTaXplKCksbj17eDpNYXRoLm1heChlLmNvbnRlbnQud2lkdGgtZS5jb250YWluZXIud2lkdGgsMCkseTpNYXRoLm1heChlLmNvbnRlbnQuaGVpZ2h0LWUuY29udGFpbmVyLmhlaWdodCwwKX0saT17cmVhbFg6ZS5jb250YWluZXIud2lkdGgvZS5jb250ZW50LndpZHRoKmUuY29udGFpbmVyLndpZHRoLHJlYWxZOmUuY29udGFpbmVyLmhlaWdodC9lLmNvbnRlbnQuaGVpZ2h0KmUuY29udGFpbmVyLmhlaWdodH07aS54PU1hdGgubWF4KGkucmVhbFgsdC50aHVtYk1pblNpemUpLGkueT1NYXRoLm1heChpLnJlYWxZLHQudGh1bWJNaW5TaXplKSx0aGlzLl9fcmVhZG9ubHkoXCJzaXplXCIsZSkuX19yZWFkb25seShcImxpbWl0XCIsbikuX19yZWFkb25seShcInRodW1iU2l6ZVwiLGkpLG8uY2FsbCh0aGlzKSxyLmNhbGwodGhpcyksdGhpcy5zZXRQb3NpdGlvbigpLHRoaXMuX19zZXRUaHVtYlBvc2l0aW9uKCl9dmFyIHU9bigxMTIpLGE9big3OCk7YS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0P3JlcXVlc3RBbmltYXRpb25GcmFtZShpLmJpbmQodGhpcykpOmkuY2FsbCh0aGlzKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTQ2KTsoMCxhW1wiZGVmYXVsdFwiXSkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDE0Nyk7KDAsYVtcImRlZmF1bHRcIl0pKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KTt2YXIgbD1uKDE0OCk7KDAsYVtcImRlZmF1bHRcIl0pKGwpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdF19fSl9KTt2YXIgZj1uKDE0OSk7KDAsYVtcImRlZmF1bHRcIl0pKGYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZbdF19fSl9KTt2YXIgcz1uKDE1NCk7KDAsYVtcImRlZmF1bHRcIl0pKHMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHNbdF19fSl9KTt2YXIgZD1uKDE1NSk7KDAsYVtcImRlZmF1bHRcIl0pKGQpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRbdF19fSl9KTt2YXIgaD1uKDE1Nik7KDAsYVtcImRlZmF1bHRcIl0pKGgpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGhbdF19fSl9KTt2YXIgdj1uKDE1Nyk7KDAsYVtcImRlZmF1bHRcIl0pKHYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBvKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgZT0wLG49QXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn1yZXR1cm4oMCxhW1wiZGVmYXVsdFwiXSkodCl9ZnVuY3Rpb24gaSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT8wOmFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8wOmFyZ3VtZW50c1sxXSxuPSEoYXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdKSYmYXJndW1lbnRzWzJdLHI9dGhpcy5saW1pdCxpPXRoaXMub3B0aW9ucyx1PXRoaXMubW92ZW1lbnQ7dGhpcy5fX3VwZGF0ZVRocm90dGxlKCksaS5yZW5kZXJCeVBpeGVscyYmKHQ9TWF0aC5yb3VuZCh0KSxlPU1hdGgucm91bmQoZSkpO3ZhciBhPXUueCt0LGw9dS55K2U7MD09PXIueCYmKGE9MCksMD09PXIueSYmKGw9MCk7dmFyIGY9dGhpcy5fX2dldERlbHRhTGltaXQobik7dS54PWMucGlja0luUmFuZ2UuYXBwbHkodm9pZCAwLFthXS5jb25jYXQobyhmLngpKSksdS55PWMucGlja0luUmFuZ2UuYXBwbHkodm9pZCAwLFtsXS5jb25jYXQobyhmLnkpKSl9dmFyIHU9bigyKSxhPXIodSksYz1uKDExMiksbD1uKDc4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkobC5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19hZGRNb3ZlbWVudFwiLHt2YWx1ZTppLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXMsZT10aGlzLm1vdmVtZW50LG49dGhpcy5tb3ZlbWVudExvY2tlZDthLmZvckVhY2goZnVuY3Rpb24ocil7bltyXT1lW3JdJiZ0Ll9fd2lsbE92ZXJzY3JvbGwocixlW3JdKX0pfWZ1bmN0aW9uIG8oKXt2YXIgdD10aGlzLm1vdmVtZW50TG9ja2VkO2EuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPSExfSl9ZnVuY3Rpb24gaSgpe3ZhciB0PXRoaXMubW92ZW1lbnRMb2NrZWQ7cmV0dXJuIHQueHx8dC55fXZhciB1PW4oNzgpLGE9W1wieFwiLFwieVwiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkodS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19hdXRvTG9ja01vdmVtZW50XCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fdW5sb2NrTW92ZW1lbnRcIix7dmFsdWU6byx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19pc01vdmVtZW50TG9ja2VkXCIse3ZhbHVlOmksd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbygpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT9cIlwiOmFyZ3VtZW50c1swXTtpZih0KXt2YXIgZT10aGlzLm9wdGlvbnMsbj10aGlzLm1vdmVtZW50LHI9dGhpcy5vdmVyc2Nyb2xsUmVuZGVyZWQsbz10aGlzLk1BWF9PVkVSU0NST0xMLGk9blt0XT0oMCxoLnBpY2tJblJhbmdlKShuW3RdLC1vLG8pLHU9ZS5vdmVyc2Nyb2xsRGFtcGluZyxhPXJbdF0rKGktclt0XSkqdTtlLnJlbmRlckJ5UGl4ZWxzJiYoYXw9MCksIXRoaXMuX19pc01vdmVtZW50TG9ja2VkKCkmJk1hdGguYWJzKGEtclt0XSk8LjEmJihhLT1pL01hdGguYWJzKGl8fDEpKSxNYXRoLmFicyhhKTxNYXRoLmFicyhyW3RdKSYmdGhpcy5fX3JlYWRvbmx5KFwib3ZlcnNjcm9sbEJhY2tcIiwhMCksKGEqclt0XTwwfHxNYXRoLmFicyhhKTw9MSkmJihhPTAsdGhpcy5fX3JlYWRvbmx5KFwib3ZlcnNjcm9sbEJhY2tcIiwhMSkpLHJbdF09YX19ZnVuY3Rpb24gaSh0KXt2YXIgZT10aGlzLl9fdG91Y2hSZWNvcmQsbj10aGlzLm92ZXJzY3JvbGxSZW5kZXJlZDtyZXR1cm4gbi54IT09dC54fHxuLnkhPT10Lnl8fCEoIWQuR0xPQkFMX0VOVi5UT1VDSF9TVVBQT1JURUR8fCFlLnVwZGF0ZWRSZWNlbnRseSgpKX1mdW5jdGlvbiB1KCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT9bXTphcmd1bWVudHNbMF07aWYoZS5sZW5ndGgmJnRoaXMub3B0aW9ucy5vdmVyc2Nyb2xsRWZmZWN0KXt2YXIgbj10aGlzLm9wdGlvbnMscj10aGlzLm92ZXJzY3JvbGxSZW5kZXJlZCx1PWwoe30scik7aWYoZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwodCxlKX0pLGkuY2FsbCh0aGlzLHUpKXN3aXRjaChuLm92ZXJzY3JvbGxFZmZlY3Qpe2Nhc2VcImJvdW5jZVwiOnJldHVybiBzLm92ZXJzY3JvbGxCb3VuY2UuY2FsbCh0aGlzLHIueCxyLnkpO2Nhc2VcImdsb3dcIjpyZXR1cm4gcy5vdmVyc2Nyb2xsR2xvdy5jYWxsKHRoaXMsci54LHIueSk7ZGVmYXVsdDpyZXR1cm59fX12YXIgYT1uKDEyNSksYz1yKGEpLGw9Y1tcImRlZmF1bHRcIl18fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHRbcl09bltyXSl9cmV0dXJuIHR9LGY9big3OCkscz1uKDE1MCksZD1uKDg5KSxoPW4oMTEyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZi5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19yZW5kZXJPdmVyc2Nyb2xsXCIse3ZhbHVlOnUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTUxKTsoMCxhW1wiZGVmYXVsdFwiXSkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDE1Mik7KDAsYVtcImRlZmF1bHRcIl0pKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KTt2YXIgbD1uKDE1Myk7KDAsYVtcImRlZmF1bHRcIl0pKGwpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10aGlzLnNpemUscj10aGlzLm9mZnNldCxpPXRoaXMudGFyZ2V0cyx1PXRoaXMudGh1bWJPZmZzZXQsYT1pLnhBeGlzLGM9aS55QXhpcyxsPWkuY29udGVudDtpZigoMCxvLnNldFN0eWxlKShsLHtcIi10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKFwiKy0oci54K3QpK1wicHgsIFwiKy0oci55K2UpK1wicHgsIDApXCJ9KSx0KXt2YXIgZj1uLmNvbnRhaW5lci53aWR0aC8obi5jb250YWluZXIud2lkdGgrTWF0aC5hYnModCkpOygwLG8uc2V0U3R5bGUpKGEudGh1bWIse1wiLXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM2QoXCIrdS54K1wicHgsIDAsIDApIHNjYWxlM2QoXCIrZitcIiwgMSwgMSlcIixcIi10cmFuc2Zvcm0tb3JpZ2luXCI6dDwwP1wibGVmdFwiOlwicmlnaHRcIn0pfWlmKGUpe3ZhciBzPW4uY29udGFpbmVyLmhlaWdodC8obi5jb250YWluZXIuaGVpZ2h0K01hdGguYWJzKGUpKTsoMCxvLnNldFN0eWxlKShjLnRodW1iLHtcIi10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKDAsIFwiK3UueStcInB4LCAwKSBzY2FsZTNkKDEsIFwiK3MrXCIsIDEpXCIsXCItdHJhbnNmb3JtLW9yaWdpblwiOmU8MD9cInRvcFwiOlwiYm90dG9tXCJ9KX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5vdmVyc2Nyb2xsQm91bmNlPXI7dmFyIG89bigxMTIpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXRoaXMuc2l6ZSxyPXRoaXMudGFyZ2V0cyxhPXRoaXMub3B0aW9ucyxjPXIuY2FudmFzLGw9Yy5lbGVtLGY9Yy5jb250ZXh0O3JldHVybiB0fHxlPygoMCx1LnNldFN0eWxlKShsLHtkaXNwbGF5OlwiYmxvY2tcIn0pLGYuY2xlYXJSZWN0KDAsMCxuLmNvbnRlbnQud2lkdGgsbi5jb250YWluZXIuaGVpZ2h0KSxmLmZpbGxTdHlsZT1hLm92ZXJzY3JvbGxFZmZlY3RDb2xvcixvLmNhbGwodGhpcyx0KSx2b2lkIGkuY2FsbCh0aGlzLGUpKTooMCx1LnNldFN0eWxlKShsLHtkaXNwbGF5Olwibm9uZVwifSl9ZnVuY3Rpb24gbyh0KXt2YXIgZT10aGlzLnNpemUsbj10aGlzLnRhcmdldHMscj10aGlzLl9fdG91Y2hSZWNvcmQsbz10aGlzLk1BWF9PVkVSU0NST0xMLGk9ZS5jb250YWluZXIsbD1pLndpZHRoLGY9aS5oZWlnaHQscz1uLmNhbnZhcy5jb250ZXh0O3Muc2F2ZSgpLHQ+MCYmcy50cmFuc2Zvcm0oLTEsMCwwLDEsbCwwKTt2YXIgZD0oMCx1LnBpY2tJblJhbmdlKShNYXRoLmFicyh0KS9vLDAsYSksaD0oMCx1LnBpY2tJblJhbmdlKShkLDAsYykqbCx2PU1hdGguYWJzKHQpLF89ci5nZXRMYXN0UG9zaXRpb24oXCJ5XCIpfHxmLzI7cy5nbG9iYWxBbHBoYT1kLHMuYmVnaW5QYXRoKCkscy5tb3ZlVG8oMCwtaCkscy5xdWFkcmF0aWNDdXJ2ZVRvKHYsXywwLGYraCkscy5maWxsKCkscy5jbG9zZVBhdGgoKSxzLnJlc3RvcmUoKX1mdW5jdGlvbiBpKHQpe3ZhciBlPXRoaXMuc2l6ZSxuPXRoaXMudGFyZ2V0cyxyPXRoaXMuX190b3VjaFJlY29yZCxvPXRoaXMuTUFYX09WRVJTQ1JPTEwsaT1lLmNvbnRhaW5lcixsPWkud2lkdGgsZj1pLmhlaWdodCxzPW4uY2FudmFzLmNvbnRleHQ7cy5zYXZlKCksdD4wJiZzLnRyYW5zZm9ybSgxLDAsMCwtMSwwLGYpO3ZhciBkPSgwLHUucGlja0luUmFuZ2UpKE1hdGguYWJzKHQpL28sMCxhKSxoPSgwLHUucGlja0luUmFuZ2UpKGQsMCxjKSpsLHY9ci5nZXRMYXN0UG9zaXRpb24oXCJ4XCIpfHxsLzIsXz1NYXRoLmFicyh0KTtzLmdsb2JhbEFscGhhPWQscy5iZWdpblBhdGgoKSxzLm1vdmVUbygtaCwwKSxzLnF1YWRyYXRpY0N1cnZlVG8odixfLGwraCwwKSxzLmZpbGwoKSxzLmNsb3NlUGF0aCgpLHMucmVzdG9yZSgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUub3ZlcnNjcm9sbEdsb3c9cjt2YXIgdT1uKDExMiksYT0uNzUsYz0uMjV9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxuPXRoaXMub2Zmc2V0LHI9dGhpcy5tb3ZlbWVudCxvPXRoaXMuX190b3VjaFJlY29yZCxpPWUuZGFtcGluZyx1PWUucmVuZGVyQnlQaXhlbHMsYT1lLm92ZXJzY3JvbGxEYW1waW5nLGM9blt0XSxsPXJbdF0sZj1pO2lmKHRoaXMuX193aWxsT3ZlcnNjcm9sbCh0LGwpP2Y9YTpvLmlzQWN0aXZlKCkmJihmPS41KSxNYXRoLmFicyhsKTwxKXt2YXIgcz1jK2w7cmV0dXJue21vdmVtZW50OjAscG9zaXRpb246bD4wP01hdGguY2VpbChzKTpNYXRoLmZsb29yKHMpfX12YXIgZD1sKigxLWYpO3JldHVybiB1JiYoZHw9MCkse21vdmVtZW50OmQscG9zaXRpb246YytsLWR9fWZ1bmN0aW9uIG8oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLm9mZnNldCxuPXRoaXMubGltaXQsaT10aGlzLm1vdmVtZW50LGE9dGhpcy5vdmVyc2Nyb2xsUmVuZGVyZWQsYz10aGlzLl9fdGltZXJJRDtpZihpLnh8fGkueXx8YS54fHxhLnkpe3ZhciBsPXIuY2FsbCh0aGlzLFwieFwiKSxmPXIuY2FsbCh0aGlzLFwieVwiKSxzPVtdO2lmKHQub3ZlcnNjcm9sbEVmZmVjdCl7dmFyIGQ9KDAsdS5waWNrSW5SYW5nZSkobC5wb3NpdGlvbiwwLG4ueCksaD0oMCx1LnBpY2tJblJhbmdlKShmLnBvc2l0aW9uLDAsbi55KTsoYS54fHxkPT09ZS54JiZpLngpJiZzLnB1c2goXCJ4XCIpLChhLnl8fGg9PT1lLnkmJmkueSkmJnMucHVzaChcInlcIil9dGhpcy5tb3ZlbWVudExvY2tlZC54fHwoaS54PWwubW92ZW1lbnQpLHRoaXMubW92ZW1lbnRMb2NrZWQueXx8KGkueT1mLm1vdmVtZW50KSx0aGlzLnNldFBvc2l0aW9uKGwucG9zaXRpb24sZi5wb3NpdGlvbiksdGhpcy5fX3JlbmRlck92ZXJzY3JvbGwocyl9Yy5yZW5kZXI9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKG8uYmluZCh0aGlzKSl9dmFyIGk9big3OCksdT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fcmVuZGVyXCIse3ZhbHVlOm8sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuKDAsYVtcImRlZmF1bHRcIl0pKHQpfWZ1bmN0aW9uIGkoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/MDphcmd1bWVudHNbMF0sZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/MDphcmd1bWVudHNbMV0sbj0hKGFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXSkmJmFyZ3VtZW50c1syXSxyPXRoaXMub3B0aW9ucyxpPXRoaXMubW92ZW1lbnQ7dGhpcy5fX3VwZGF0ZVRocm90dGxlKCk7dmFyIHU9dGhpcy5fX2dldERlbHRhTGltaXQobik7ci5yZW5kZXJCeVBpeGVscyYmKHQ9TWF0aC5yb3VuZCh0KSxlPU1hdGgucm91bmQoZSkpLGkueD1jLnBpY2tJblJhbmdlLmFwcGx5KHZvaWQgMCxbdF0uY29uY2F0KG8odS54KSkpLGkueT1jLnBpY2tJblJhbmdlLmFwcGx5KHZvaWQgMCxbZV0uY29uY2F0KG8odS55KSkpfXZhciB1PW4oMiksYT1yKHUpLGM9bigxMTIpLGw9big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGwuU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fc2V0TW92ZW1lbnRcIix7dmFsdWU6aSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/MDphcmd1bWVudHNbMF0sZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/MDphcmd1bWVudHNbMV0sbj10aGlzLm9wdGlvbnMscj10aGlzLm9mZnNldCxvPXRoaXMubGltaXQ7aWYoIW4uY29udGludW91c1Njcm9sbGluZylyZXR1cm4hMTt2YXIgdT0oMCxpLnBpY2tJblJhbmdlKSh0K3IueCwwLG8ueCksYT0oMCxpLnBpY2tJblJhbmdlKShlK3IueSwwLG8ueSksYz0hMDtyZXR1cm4gYyY9dT09PXIueCxjJj1hPT09ci55LGMmPXU9PT1vLnh8fDA9PT11fHxhPT09by55fHwwPT09YX12YXIgbz1uKDc4KSxpPW4oMTEyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoby5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19zaG91bGRQcm9wYWdhdGVNb3ZlbWVudFwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT9cIlwiOmFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8wOmFyZ3VtZW50c1sxXTtpZighdClyZXR1cm4hMTt2YXIgbj10aGlzLm9mZnNldCxyPXRoaXMubGltaXQsbz1uW3RdO3JldHVybigwLGkucGlja0luUmFuZ2UpKGUrbywwLHJbdF0pPT09byYmKDA9PT1vfHxvPT09clt0XSl9dmFyIG89big3OCksaT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fd2lsbE92ZXJzY3JvbGxcIix7dmFsdWU6cix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX12YXIgbz1uKDg2KSxpPXIobyksdT1uKDkwKSxhPXIodSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9bigxNTkpOygwLGFbXCJkZWZhdWx0XCJdKShjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiZGVmYXVsdFwiIT09dCYmXCJfX2VzTW9kdWxlXCIhPT10JiYoMCxpW1wiZGVmYXVsdFwiXSkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjW3RdfX0pfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTYwKTsoMCxhW1wiZGVmYXVsdFwiXSkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pO3ZhciBsPW4oMTYxKTsoMCxhW1wiZGVmYXVsdFwiXSkobCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt0XX19KX0pO3ZhciBmPW4oMTY4KTsoMCxhW1wiZGVmYXVsdFwiXSkoZikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZlt0XX19KX0pO3ZhciBzPW4oMTY5KTsoMCxhW1wiZGVmYXVsdFwiXSkocykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc1t0XX19KX0pO3ZhciBkPW4oMTcwKTsoMCxhW1wiZGVmYXVsdFwiXSkoZCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZFt0XX19KX0pO3ZhciBoPW4oMTcxKTsoMCxhW1wiZGVmYXVsdFwiXSkoaCkuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaFt0XX19KX0pO3ZhciB2PW4oMTcyKTsoMCxhW1wiZGVmYXVsdFwiXSkodikuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdlt0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXMsZT10aGlzLnRhcmdldHMsbj1lLmNvbnRhaW5lcixyPWUuY29udGVudCxvPSExLHU9dm9pZCAwLGE9dm9pZCAwO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX19pc0RyYWdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99LGVudW1lcmFibGU6ITF9KTt2YXIgYz1mdW5jdGlvbiBsKGUpe3ZhciBuPWUueCxyPWUueTtpZihufHxyKXt2YXIgbz10Lm9wdGlvbnMuc3BlZWQ7dC5fX3NldE1vdmVtZW50KG4qbyxyKm8pLHU9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7bCh7eDpuLHk6cn0pfSl9fTt0aGlzLl9fYWRkRXZlbnQobixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGUpe3QuX19ldmVudEZyb21DaGlsZFNjcm9sbGJhcihlKXx8KG89ITAsYT1lLnRhcmdldC5jbGllbnRIZWlnaHQsKDAsaS5zZXRTdHlsZSkocix7XCJwb2ludGVyLWV2ZW50c1wiOlwiYXV0b1wifSksY2FuY2VsQW5pbWF0aW9uRnJhbWUodSksdC5fX3VwZGF0ZUJvdW5kaW5nKCkpfSksdGhpcy5fX2FkZEV2ZW50KGRvY3VtZW50LFwiZHJhZ292ZXIgbW91c2Vtb3ZlIHRvdWNobW92ZVwiLGZ1bmN0aW9uKGUpe2lmKG8mJiF0Ll9fZXZlbnRGcm9tQ2hpbGRTY3JvbGxiYXIoZSkpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKHUpLGUucHJldmVudERlZmF1bHQoKTt2YXIgbj10Ll9fZ2V0UG9pbnRlclRyZW5kKGUsYSk7YyhuKX19KSx0aGlzLl9fYWRkRXZlbnQoZG9jdW1lbnQsXCJkcmFnZW5kIG1vdXNldXAgdG91Y2hlbmQgYmx1clwiLGZ1bmN0aW9uKCl7Y2FuY2VsQW5pbWF0aW9uRnJhbWUodSksbz0hMX0pfXZhciBvPW4oNzgpLGk9bigxMTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX2RyYWdIYW5kbGVyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbygpe3ZhciB0PXRoaXMsZT10aGlzLnRhcmdldHMsbj1mdW5jdGlvbihlKXt2YXIgbj10LnNpemUscj10Lm9mZnNldCxvPXQubGltaXQsaT10Lm1vdmVtZW50O3N3aXRjaChlKXtjYXNlIHMuU1BBQ0U6cmV0dXJuWzAsMjAwXTtjYXNlIHMuUEFHRV9VUDpyZXR1cm5bMCwtbi5jb250YWluZXIuaGVpZ2h0KzQwXTtjYXNlIHMuUEFHRV9ET1dOOnJldHVyblswLG4uY29udGFpbmVyLmhlaWdodC00MF07Y2FzZSBzLkVORDpyZXR1cm5bMCxNYXRoLmFicyhpLnkpK28ueS1yLnldO2Nhc2Ugcy5IT01FOnJldHVyblswLC1NYXRoLmFicyhpLnkpLXIueV07Y2FzZSBzLkxFRlQ6cmV0dXJuWy00MCwwXTtjYXNlIHMuVVA6cmV0dXJuWzAsLTQwXTtjYXNlIHMuUklHSFQ6cmV0dXJuWzQwLDBdO2Nhc2Ugcy5ET1dOOnJldHVyblswLDQwXTtkZWZhdWx0OnJldHVybiBudWxsfX0scj1lLmNvbnRhaW5lcixvPSExO3RoaXMuX19hZGRFdmVudChyLFwiZm9jdXNcIixmdW5jdGlvbigpe289ITB9KSx0aGlzLl9fYWRkRXZlbnQocixcImJsdXJcIixmdW5jdGlvbigpe289ITF9KSx0aGlzLl9fYWRkRXZlbnQocixcImtleWRvd25cIixmdW5jdGlvbihlKXtpZihvKXt2YXIgaT10Lm9wdGlvbnMsdT10LnBhcmVudHMsYT10Lm1vdmVtZW50TG9ja2VkLGM9bihlLmtleUNvZGV8fGUud2hpY2gpO2lmKGMpe3ZhciBmPWwoYywyKSxzPWZbMF0sZD1mWzFdO2lmKHQuX19zaG91bGRQcm9wYWdhdGVNb3ZlbWVudChzLGQpKXJldHVybiByLmJsdXIoKSx1Lmxlbmd0aCYmdVswXS5mb2N1cygpLHQuX191cGRhdGVUaHJvdHRsZSgpO2UucHJldmVudERlZmF1bHQoKSx0Ll9fdW5sb2NrTW92ZW1lbnQoKSxzJiZ0Ll9fd2lsbE92ZXJzY3JvbGwoXCJ4XCIscykmJihhLng9ITApLGQmJnQuX193aWxsT3ZlcnNjcm9sbChcInlcIixkKSYmKGEueT0hMCk7dmFyIGg9aS5zcGVlZDt0Ll9fYWRkTW92ZW1lbnQocypoLGQqaCl9fX0pLHRoaXMuX19hZGRFdmVudChyLFwia2V5dXBcIixmdW5jdGlvbigpe3QuX191bmxvY2tNb3ZlbWVudCgpfSl9dmFyIGk9bigxNjIpLHU9cihpKSxhPW4oMTY1KSxjPXIoYSksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgbj1bXSxyPSEwLG89ITEsaT12b2lkIDA7dHJ5e2Zvcih2YXIgdSxhPSgwLGNbXCJkZWZhdWx0XCJdKSh0KTshKHI9KHU9YS5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKHUudmFsdWUpLCFlfHxuLmxlbmd0aCE9PWUpO3I9ITApO31jYXRjaChsKXtvPSEwLGk9bH1maW5hbGx5e3RyeXshciYmYVtcInJldHVyblwiXSYmYVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gbn1yZXR1cm4gZnVuY3Rpb24oZSxuKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKCgwLHVbXCJkZWZhdWx0XCJdKShPYmplY3QoZSkpKXJldHVybiB0KGUsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpLGY9big3OCkscz17U1BBQ0U6MzIsUEFHRV9VUDozMyxQQUdFX0RPV046MzQsRU5EOjM1LEhPTUU6MzYsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZi5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19rZXlib2FyZEhhbmRsZXJcIix7dmFsdWU6byx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz17XCJkZWZhdWx0XCI6bigxNjMpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbih0LGUsbil7big1Nyksbig0KSx0LmV4cG9ydHM9bigxNjQpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1Myksbz1uKDQ1KShcIml0ZXJhdG9yXCIpLGk9bigyNyk7dC5leHBvcnRzPW4oMTIpLmlzSXRlcmFibGU9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpO3JldHVybiB2b2lkIDAhPT1lW29dfHxcIkBAaXRlcmF0b3JcImluIGV8fGkuaGFzT3duUHJvcGVydHkocihlKSl9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPXtcImRlZmF1bHRcIjpuKDE2NiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKHQsZSxuKXtuKDU3KSxuKDQpLHQuZXhwb3J0cz1uKDE2Nyl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxvPW4oNTIpO3QuZXhwb3J0cz1uKDEyKS5nZXRJdGVyYXRvcj1mdW5jdGlvbih0KXt2YXIgZT1vKHQpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGl0ZXJhYmxlIVwiKTtyZXR1cm4gcihlLmNhbGwodCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLGU9dGhpcy50YXJnZXRzLG49ZS5jb250YWluZXIscj1lLnhBeGlzLG89ZS55QXhpcyx1PWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5zaXplLG89dC50aHVtYlNpemU7XG5pZihcInhcIj09PWUpe3ZhciBpPXIuY29udGFpbmVyLndpZHRoLShvLngtby5yZWFsWCk7cmV0dXJuIG4vaSpyLmNvbnRlbnQud2lkdGh9aWYoXCJ5XCI9PT1lKXt2YXIgdT1yLmNvbnRhaW5lci5oZWlnaHQtKG8ueS1vLnJlYWxZKTtyZXR1cm4gbi91KnIuY29udGVudC5oZWlnaHR9cmV0dXJuIDB9LGE9ZnVuY3Rpb24odCl7cmV0dXJuKDAsaS5pc09uZU9mKSh0LFtyLnRyYWNrLHIudGh1bWJdKT9cInhcIjooMCxpLmlzT25lT2YpKHQsW28udHJhY2ssby50aHVtYl0pP1wieVwiOnZvaWQgMH0sYz12b2lkIDAsbD12b2lkIDAsZj12b2lkIDAscz12b2lkIDAsZD12b2lkIDA7dGhpcy5fX2FkZEV2ZW50KG4sXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2lmKCFsJiYoMCxpLmlzT25lT2YpKGUudGFyZ2V0LFtyLnRyYWNrLG8udHJhY2tdKSl7dmFyIG49ZS50YXJnZXQsYz1hKG4pLGY9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxzPSgwLGkuZ2V0UG9zaXRpb24pKGUpLGQ9dC5vZmZzZXQsaD10LnRodW1iU2l6ZTtpZihcInhcIj09PWMpe3ZhciB2PXMueC1mLmxlZnQtaC54LzI7dC5fX3NldE1vdmVtZW50KHUoYyx2KS1kLngsMCl9ZWxzZXt2YXIgXz1zLnktZi50b3AtaC55LzI7dC5fX3NldE1vdmVtZW50KDAsdShjLF8pLWQueSl9fX0pLHRoaXMuX19hZGRFdmVudChuLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7aWYoKDAsaS5pc09uZU9mKShlLnRhcmdldCxbci50aHVtYixvLnRodW1iXSkpe2M9ITA7dmFyIG49KDAsaS5nZXRQb3NpdGlvbikoZSksdT1lLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtzPWEoZS50YXJnZXQpLGY9e3g6bi54LXUubGVmdCx5Om4ueS11LnRvcH0sZD10LnRhcmdldHMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfX0pLHRoaXMuX19hZGRFdmVudCh3aW5kb3csXCJtb3VzZW1vdmVcIixmdW5jdGlvbihlKXtpZihjKXtlLnByZXZlbnREZWZhdWx0KCksbD0hMDt2YXIgbj10Lm9mZnNldCxyPSgwLGkuZ2V0UG9zaXRpb24pKGUpO2lmKFwieFwiPT09cyl7dmFyIG89ci54LWYueC1kLmxlZnQ7dC5zZXRQb3NpdGlvbih1KHMsbyksbi55KX1pZihcInlcIj09PXMpe3ZhciBhPXIueS1mLnktZC50b3A7dC5zZXRQb3NpdGlvbihuLngsdShzLGEpKX19fSksdGhpcy5fX2FkZEV2ZW50KHdpbmRvdyxcIm1vdXNldXAgYmx1clwiLGZ1bmN0aW9uKCl7Yz1sPSExfSl9dmFyIG89big3OCksaT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fbW91c2VIYW5kbGVyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dGhpcy5fX2FkZEV2ZW50KHdpbmRvdyxcInJlc2l6ZVwiLHRoaXMuX191cGRhdGVUaHJvdHRsZSl9dmFyIG89big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fcmVzaXplSGFuZGxlclwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXMsZT0hMSxuPXZvaWQgMCxyPXRoaXMudGFyZ2V0cyxvPXIuY29udGFpbmVyLHU9ci5jb250ZW50LGE9ZnVuY3Rpb24gbChlKXt2YXIgcj1lLngsbz1lLnk7aWYocnx8byl7dmFyIGk9dC5vcHRpb25zLnNwZWVkO3QuX19zZXRNb3ZlbWVudChyKmksbyppKSxuPXJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2woe3g6cix5Om99KX0pfX0sYz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT9cIlwiOmFyZ3VtZW50c1swXTsoMCxpLnNldFN0eWxlKShvLHtcIi11c2VyLXNlbGVjdFwiOnR9KX07dGhpcy5fX2FkZEV2ZW50KHdpbmRvdyxcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKHIpe2lmKGUpe2NhbmNlbEFuaW1hdGlvbkZyYW1lKG4pO3ZhciBvPXQuX19nZXRQb2ludGVyVHJlbmQocik7YShvKX19KSx0aGlzLl9fYWRkRXZlbnQodSxcInNlbGVjdHN0YXJ0XCIsZnVuY3Rpb24ocil7cmV0dXJuIHQuX19ldmVudEZyb21DaGlsZFNjcm9sbGJhcihyKT9jKFwibm9uZVwiKTooY2FuY2VsQW5pbWF0aW9uRnJhbWUobiksdC5fX3VwZGF0ZUJvdW5kaW5nKCksdm9pZChlPSEwKSl9KSx0aGlzLl9fYWRkRXZlbnQod2luZG93LFwibW91c2V1cCBibHVyXCIsZnVuY3Rpb24oKXtjYW5jZWxBbmltYXRpb25GcmFtZShuKSxjKCksZT0hMX0pLHRoaXMuX19hZGRFdmVudChvLFwic2Nyb2xsXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLG8uc2Nyb2xsVG9wPW8uc2Nyb2xsTGVmdD0wfSl9dmFyIG89big3OCksaT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fc2VsZWN0SGFuZGxlclwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXMsZT10aGlzLnRhcmdldHMsbj10aGlzLm1vdmVtZW50TG9ja2VkLHI9dGhpcy5fX3RvdWNoUmVjb3JkLG89ZS5jb250YWluZXI7dGhpcy5fX2FkZEV2ZW50KG8sXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oZSl7aWYoIXQuX19pc0RyYWcpe3ZhciBuPXQuX190aW1lcklELG89dC5tb3ZlbWVudDtjYW5jZWxBbmltYXRpb25GcmFtZShuLnNjcm9sbFRvKSx0Ll9fd2lsbE92ZXJzY3JvbGwoXCJ4XCIpfHwoby54PTApLHQuX193aWxsT3ZlcnNjcm9sbChcInlcIil8fChvLnk9MCksci50cmFjayhlKSx0Ll9fYXV0b0xvY2tNb3ZlbWVudCgpfX0pLHRoaXMuX19hZGRFdmVudChvLFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oZSl7aWYoISh0Ll9faXNEcmFnfHxhJiZhIT09dCkpe3IudXBkYXRlKGUpO3ZhciBuPXIuZ2V0RGVsdGEoKSxvPW4ueCxpPW4ueTtpZih0Ll9fc2hvdWxkUHJvcGFnYXRlTW92ZW1lbnQobyxpKSlyZXR1cm4gdC5fX3VwZGF0ZVRocm90dGxlKCk7dmFyIHU9dC5tb3ZlbWVudCxjPXQuTUFYX09WRVJTQ1JPTEwsbD10Lm9wdGlvbnM7aWYodS54JiZ0Ll9fd2lsbE92ZXJzY3JvbGwoXCJ4XCIsbykpe3ZhciBmPTI7XCJib3VuY2VcIj09PWwub3ZlcnNjcm9sbEVmZmVjdCYmKGYrPU1hdGguYWJzKDEwKnUueC9jKSksTWF0aC5hYnModS54KT49Yz9vPTA6by89Zn1pZih1LnkmJnQuX193aWxsT3ZlcnNjcm9sbChcInlcIixpKSl7dmFyIHM9MjtcImJvdW5jZVwiPT09bC5vdmVyc2Nyb2xsRWZmZWN0JiYocys9TWF0aC5hYnMoMTAqdS55L2MpKSxNYXRoLmFicyh1LnkpPj1jP2k9MDppLz1zfXQuX19hdXRvTG9ja01vdmVtZW50KCksZS5wcmV2ZW50RGVmYXVsdCgpLHQuX19hZGRNb3ZlbWVudChvLGksITApLGE9dH19KSx0aGlzLl9fYWRkRXZlbnQobyxcInRvdWNoY2FuY2VsIHRvdWNoZW5kXCIsZnVuY3Rpb24oZSl7aWYoIXQuX19pc0RyYWcpe3ZhciBvPXQub3B0aW9ucy5zcGVlZCxjPXIuZ2V0VmVsb2NpdHkoKSxsPWMueCxmPWMueTtsPW4ueD8wOk1hdGgubWluKGwqaS5HTE9CQUxfRU5WLkVBU0lOR19NVUxUSVBMSUVSLDFlMyksZj1uLnk/MDpNYXRoLm1pbihmKmkuR0xPQkFMX0VOVi5FQVNJTkdfTVVMVElQTElFUiwxZTMpLHQuX19hZGRNb3ZlbWVudChNYXRoLmFicyhsKT51P2wqbzowLE1hdGguYWJzKGYpPnU/ZipvOjAsITApLHQuX191bmxvY2tNb3ZlbWVudCgpLHIucmVsZWFzZShlKSxhPW51bGx9fSl9dmFyIG89big3OCksaT1uKDg5KSx1PTEwMCxhPW51bGw7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fdG91Y2hIYW5kbGVyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dmFyIHQ9dGhpcyxlPXRoaXMudGFyZ2V0cy5jb250YWluZXIsbj0hMSxyPSgwLGkuZGVib3VuY2UpKGZ1bmN0aW9uKCl7bj0hMX0sMzAsITEpO3RoaXMuX19hZGRFdmVudChlLHUuR0xPQkFMX0VOVi5XSEVFTF9FVkVOVCxmdW5jdGlvbihlKXt2YXIgbz10Lm9wdGlvbnMsdT0oMCxpLmdldERlbHRhKShlKSxhPXUueCxjPXUueTtyZXR1cm4gYSo9by5zcGVlZCxjKj1vLnNwZWVkLHQuX19zaG91bGRQcm9wYWdhdGVNb3ZlbWVudChhLGMpP3QuX191cGRhdGVUaHJvdHRsZSgpOihlLnByZXZlbnREZWZhdWx0KCkscigpLHQub3ZlcnNjcm9sbEJhY2smJihuPSEwKSxuJiYodC5fX3dpbGxPdmVyc2Nyb2xsKFwieFwiLGEpJiYoYT0wKSx0Ll9fd2lsbE92ZXJzY3JvbGwoXCJ5XCIsYykmJihjPTApKSx2b2lkIHQuX19hZGRNb3ZlbWVudChhLGMsITApKX0pfXZhciBvPW4oNzgpLGk9bigxMTIpLHU9big4OSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fd2hlZWxIYW5kbGVyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19dmFyIG89big4NiksaT1yKG8pLHU9big5MCksYT1yKHUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPW4oMTc0KTsoMCxhW1wiZGVmYXVsdFwiXSkoYykuZm9yRWFjaChmdW5jdGlvbih0KXtcImRlZmF1bHRcIiE9PXQmJlwiX19lc01vZHVsZVwiIT09dCYmKDAsaVtcImRlZmF1bHRcIl0pKGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XX19KX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fXZhciBvPW4oODYpLGk9cihvKSx1PW4oOTApLGE9cih1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYz1uKDE3NSk7KDAsYVtcImRlZmF1bHRcIl0pKGMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF19fSl9KTt2YXIgbD1uKDE3Nik7KDAsYVtcImRlZmF1bHRcIl0pKGwpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdF19fSl9KTt2YXIgZj1uKDE3Nyk7KDAsYVtcImRlZmF1bHRcIl0pKGYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZbdF19fSl9KTt2YXIgcz1uKDE3OCk7KDAsYVtcImRlZmF1bHRcIl0pKHMpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHNbdF19fSl9KTt2YXIgZD1uKDE3OSk7KDAsYVtcImRlZmF1bHRcIl0pKGQpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRbdF19fSl9KTt2YXIgaD1uKDE4Mik7KDAsYVtcImRlZmF1bHRcIl0pKGgpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGhbdF19fSl9KTt2YXIgdj1uKDE4Myk7KDAsYVtcImRlZmF1bHRcIl0pKHYpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZbdF19fSl9KTt2YXIgXz1uKDE4NCk7KDAsYVtcImRlZmF1bHRcIl0pKF8pLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF9bdF19fSl9KTt2YXIgcD1uKDE4NSk7KDAsYVtcImRlZmF1bHRcIl0pKHApLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBbdF19fSl9KTt2YXIgeT1uKDE4Nik7KDAsYVtcImRlZmF1bHRcIl0pKHkpLmZvckVhY2goZnVuY3Rpb24odCl7XCJkZWZhdWx0XCIhPT10JiZcIl9fZXNNb2R1bGVcIiE9PXQmJigwLGlbXCJkZWZhdWx0XCJdKShlLHQse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHlbdF19fSl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlLG4pe3ZhciByPXRoaXM7aWYoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0IGVsZW0gdG8gYmUgYSBET00gZWxlbWVudCwgYnV0IGdvdCBcIit0KTt2YXIgbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KGU+MT9lLTE6MCksbz0xO288ZTtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTshdC50eXBlLm1hdGNoKC9kcmFnLykmJnQuZGVmYXVsdFByZXZlbnRlZHx8bi5hcHBseSh2b2lkIDAsW3RdLmNvbmNhdChyKSl9O2Uuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihlKXtyLl9faGFuZGxlcnMucHVzaCh7ZXZ0OmUsZWxlbTp0LGZuOm8saGFzUmVnaXN0ZXJlZDohMH0pLHQuYWRkRXZlbnRMaXN0ZW5lcihlLG8pfSl9dmFyIG89big3OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG8uU21vb3RoU2Nyb2xsYmFyLnByb3RvdHlwZSxcIl9fYWRkRXZlbnRcIix7dmFsdWU6cix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/e306YXJndW1lbnRzWzBdLGU9dC50YXJnZXQ7cmV0dXJuIHRoaXMuY2hpbGRyZW4uc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5jb250YWlucyhlKX0pfXZhciBvPW4oNzgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX2V2ZW50RnJvbUNoaWxkU2Nyb2xsYmFyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0pJiZhcmd1bWVudHNbMF0sZT10aGlzLm9wdGlvbnMsbj10aGlzLm9mZnNldCxyPXRoaXMubGltaXQ7cmV0dXJuIHQmJihlLmNvbnRpbnVvdXNTY3JvbGxpbmd8fGUub3ZlcnNjcm9sbEVmZmVjdCk/e3g6Wy0oMS8wKSwxLzBdLHk6Wy0oMS8wKSwxLzBdfTp7eDpbLW4ueCxyLngtbi54XSx5Olstbi55LHIueS1uLnldfX12YXIgbz1uKDc4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoby5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19nZXREZWx0YUxpbWl0XCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT8wOmFyZ3VtZW50c1sxXSxuPXRoaXMuYm91bmRpbmcscj1uLnRvcCxvPW4ucmlnaHQsdT1uLmJvdHRvbSxhPW4ubGVmdCxjPSgwLGkuZ2V0UG9zaXRpb24pKHQpLGw9Yy54LGY9Yy55LHM9e3g6MCx5OjB9O3JldHVybiAwPT09bCYmMD09PWY/czoobD5vLWU/cy54PWwtbytlOmw8YStlJiYocy54PWwtYS1lKSxmPnUtZT9zLnk9Zi11K2U6ZjxyK2UmJihzLnk9Zi1yLWUpLHMpfXZhciBvPW4oNzgpLGk9bigxMTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX2dldFBvaW50ZXJUcmVuZFwiLHt2YWx1ZTpyLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e1wiZGVmYXVsdFwiOnR9fWZ1bmN0aW9uIG8odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPTAsbj1BcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufXJldHVybigwLGhbXCJkZWZhdWx0XCJdKSh0KX1mdW5jdGlvbiBpKHQpe3ZhciBlPXRoaXMsbj17c3BlZWQ6MSxkYW1waW5nOi4xLHRodW1iTWluU2l6ZToyMCxzeW5jQ2FsbGJhY2tzOiExLHJlbmRlckJ5UGl4ZWxzOiEwLGFsd2F5c1Nob3dUcmFja3M6ITEsY29udGludW91c1Njcm9sbGluZzpcImF1dG9cIixvdmVyc2Nyb2xsRWZmZWN0OiExLG92ZXJzY3JvbGxFZmZlY3RDb2xvcjpcIiM4N2NlZWJcIixvdmVyc2Nyb2xsRGFtcGluZzouMn0scj17ZGFtcGluZzpbMCwxXSxzcGVlZDpbMCwxLzBdLHRodW1iTWluU2l6ZTpbMCwxLzBdLG92ZXJzY3JvbGxFZmZlY3Q6WyExLFwiYm91bmNlXCIsXCJnbG93XCJdLG92ZXJzY3JvbGxEYW1waW5nOlswLDFdfSxpPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP1wiYXV0b1wiOmFyZ3VtZW50c1swXTtpZihuLm92ZXJzY3JvbGxFZmZlY3QhPT0hMSlyZXR1cm4hMTtzd2l0Y2godCl7Y2FzZVwiYXV0b1wiOnJldHVybiBlLmlzTmVzdGVkU2Nyb2xsYmFyO2RlZmF1bHQ6cmV0dXJuISF0fX0sdT17c2V0IGlnbm9yZUV2ZW50cyh0KXtjb25zb2xlLndhcm4oXCJgb3B0aW9ucy5pZ25vcmVFdmVudHNgIHBhcmFtZXRlciBpcyBkZXByZWNhdGVkLCB1c2UgYGluc3RhbmNlI3VucmVnaXN0ZXJFdmVudHMoKWAgbWV0aG9kIGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9pZGlvdFd1L3Ntb290aC1zY3JvbGxiYXIvd2lraS9JbnN0YW5jZS1NZXRob2RzI2luc3RhbmNldW5yZWdpc3RlcmV2ZW50cy1yZWdleC0tcmVnZXgtcmVnZXgtLVwiKX0sc2V0IGZyaWN0aW9uKHQpe2NvbnNvbGUud2FybihcImBvcHRpb25zLmZyaWN0aW9uPVwiK3QrXCJgIGlzIGRlcHJlY2F0ZWQsIHVzZSBgb3B0aW9ucy5kYW1waW5nPVwiK3QvMTAwK1wiYCBpbnN0ZWFkLlwiKSx0aGlzLmRhbXBpbmc9dC8xMDB9LGdldCBzeW5jQ2FsbGJhY2tzKCl7cmV0dXJuIG4uc3luY0NhbGxiYWNrc30sc2V0IHN5bmNDYWxsYmFja3ModCl7bi5zeW5jQ2FsbGJhY2tzPSEhdH0sZ2V0IHJlbmRlckJ5UGl4ZWxzKCl7cmV0dXJuIG4ucmVuZGVyQnlQaXhlbHN9LHNldCByZW5kZXJCeVBpeGVscyh0KXtuLnJlbmRlckJ5UGl4ZWxzPSEhdH0sZ2V0IGFsd2F5c1Nob3dUcmFja3MoKXtyZXR1cm4gbi5hbHdheXNTaG93VHJhY2tzfSxzZXQgYWx3YXlzU2hvd1RyYWNrcyh0KXt0PSEhdCxuLmFsd2F5c1Nob3dUcmFja3M9dDt2YXIgcj1lLnRhcmdldHMuY29udGFpbmVyO3Q/KGUuc2hvd1RyYWNrKCksci5jbGFzc0xpc3QuYWRkKFwic3RpY2t5XCIpKTooZS5oaWRlVHJhY2soKSxyLmNsYXNzTGlzdC5yZW1vdmUoXCJzdGlja3lcIikpfSxnZXQgY29udGludW91c1Njcm9sbGluZygpe3JldHVybiBpKG4uY29udGludW91c1Njcm9sbGluZyl9LHNldCBjb250aW51b3VzU2Nyb2xsaW5nKHQpe1wiYXV0b1wiPT09dD9uLmNvbnRpbnVvdXNTY3JvbGxpbmc9dDpuLmNvbnRpbnVvdXNTY3JvbGxpbmc9ISF0fSxnZXQgb3ZlcnNjcm9sbEVmZmVjdCgpe3JldHVybiBuLm92ZXJzY3JvbGxFZmZlY3R9LHNldCBvdmVyc2Nyb2xsRWZmZWN0KHQpe3QmJiF+ci5vdmVyc2Nyb2xsRWZmZWN0LmluZGV4T2YodCkmJihjb25zb2xlLndhcm4oXCJgb3ZlcnNjcm9sbEVmZmVjdGAgc2hvdWxkIGJlIG9uZSBvZiBcIisoMCxzW1wiZGVmYXVsdFwiXSkoci5vdmVyc2Nyb2xsRWZmZWN0KStcIiwgYnV0IGdvdCBcIisoMCxzW1wiZGVmYXVsdFwiXSkodCkrXCIuIEl0IHdpbGwgYmUgc2V0IHRvIGBmYWxzZWAgbm93LlwiKSx0PSExKSxuLm92ZXJzY3JvbGxFZmZlY3Q9dH0sZ2V0IG92ZXJzY3JvbGxFZmZlY3RDb2xvcigpe3JldHVybiBuLm92ZXJzY3JvbGxFZmZlY3RDb2xvcn0sc2V0IG92ZXJzY3JvbGxFZmZlY3RDb2xvcih0KXtuLm92ZXJzY3JvbGxFZmZlY3RDb2xvcj10fX07KDAsbFtcImRlZmF1bHRcIl0pKG4pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hdS5oYXNPd25Qcm9wZXJ0eSh0KX0pLmZvckVhY2goZnVuY3Rpb24odCl7KDAsYVtcImRlZmF1bHRcIl0pKHUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gblt0XX0sc2V0OmZ1bmN0aW9uKGUpe2lmKGlzTmFOKHBhcnNlRmxvYXQoZSkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3QgYG9wdGlvbnMuXCIrdCtcImAgdG8gYmUgYSBudW1iZXIsIGJ1dCBnb3QgXCIrKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6YihlKSkpO25bdF09Zy5waWNrSW5SYW5nZS5hcHBseSh2b2lkIDAsW2VdLmNvbmNhdChvKHJbdF0pKSl9fSl9KSx0aGlzLl9fcmVhZG9ubHkoXCJvcHRpb25zXCIsdSksdGhpcy5zZXRPcHRpb25zKHQpfXZhciB1PW4oODYpLGE9cih1KSxjPW4oOTApLGw9cihjKSxmPW4oMTgwKSxzPXIoZiksZD1uKDIpLGg9cihkKSx2PW4oNTUpLF89cih2KSxwPW4oNjIpLHk9cihwKSxiPVwiZnVuY3Rpb25cIj09dHlwZW9mIHlbXCJkZWZhdWx0XCJdJiZcInN5bWJvbFwiPT10eXBlb2YgX1tcImRlZmF1bHRcIl0/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgeVtcImRlZmF1bHRcIl0mJnQuY29uc3RydWN0b3I9PT15W1wiZGVmYXVsdFwiXT9cInN5bWJvbFwiOnR5cGVvZiB0fSxnPW4oMTEyKSxtPW4oNzgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShtLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX2luaXRPcHRpb25zXCIse3ZhbHVlOmksd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9e1wiZGVmYXVsdFwiOm4oMTgxKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIpLG89ci5KU09OfHwoci5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8uc3RyaW5naWZ5LmFwcGx5KG8sYXJndW1lbnRzKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dGhpcy51cGRhdGUoKSx0aGlzLl9fa2V5Ym9hcmRIYW5kbGVyKCksdGhpcy5fX3Jlc2l6ZUhhbmRsZXIoKSx0aGlzLl9fc2VsZWN0SGFuZGxlcigpLHRoaXMuX19tb3VzZUhhbmRsZXIoKSx0aGlzLl9fdG91Y2hIYW5kbGVyKCksdGhpcy5fX3doZWVsSGFuZGxlcigpLHRoaXMuX19kcmFnSGFuZGxlcigpLHRoaXMuX19yZW5kZXIoKX12YXIgbz1uKDc4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoby5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19pbml0U2Nyb2xsYmFyXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0LGUpe3JldHVybigwLHVbXCJkZWZhdWx0XCJdKSh0aGlzLHQse3ZhbHVlOmUsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX12YXIgaT1uKDg2KSx1PXIoaSksYT1uKDc4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5TbW9vdGhTY3JvbGxiYXIucHJvdG90eXBlLFwiX19yZWFkb25seVwiLHt2YWx1ZTpvLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXMudGFyZ2V0cyxlPXRoaXMuc2l6ZSxuPXRoaXMub2Zmc2V0LHI9dGhpcy50aHVtYk9mZnNldCxpPXRoaXMudGh1bWJTaXplO3IueD1uLngvZS5jb250ZW50LndpZHRoKihlLmNvbnRhaW5lci53aWR0aC0oaS54LWkucmVhbFgpKSxyLnk9bi55L2UuY29udGVudC5oZWlnaHQqKGUuY29udGFpbmVyLmhlaWdodC0oaS55LWkucmVhbFkpKSwoMCxvLnNldFN0eWxlKSh0LnhBeGlzLnRodW1iLHtcIi10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKFwiK3IueCtcInB4LCAwLCAwKVwifSksKDAsby5zZXRTdHlsZSkodC55QXhpcy50aHVtYix7XCItdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzZCgwLCBcIityLnkrXCJweCwgMClcIn0pfXZhciBvPW4oMTEyKSxpPW4oNzgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX3NldFRodW1iUG9zaXRpb25cIix7dmFsdWU6cix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLnRhcmdldHMuY29udGFpbmVyLGU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPWUudG9wLHI9ZS5yaWdodCxvPWUuYm90dG9tLGk9ZS5sZWZ0LHU9d2luZG93LGE9dS5pbm5lckhlaWdodCxjPXUuaW5uZXJXaWR0aDt0aGlzLl9fcmVhZG9ubHkoXCJib3VuZGluZ1wiLHt0b3A6TWF0aC5tYXgobiwwKSxyaWdodDpNYXRoLm1pbihyLGMpLGJvdHRvbTpNYXRoLm1pbihvLGEpLGxlZnQ6TWF0aC5tYXgoaSwwKX0pfXZhciBvPW4oNzgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShvLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX3VwZGF0ZUJvdW5kaW5nXCIse3ZhbHVlOnIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7XCJkZWZhdWx0XCI6dH19ZnVuY3Rpb24gbyh0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPUFycmF5KHQubGVuZ3RoKTtlPHQubGVuZ3RoO2UrKyluW2VdPXRbZV07cmV0dXJuIG59cmV0dXJuKDAsYVtcImRlZmF1bHRcIl0pKHQpfWZ1bmN0aW9uIGkoKXt2YXIgdD10aGlzLnRhcmdldHMsZT10LmNvbnRhaW5lcixuPXQuY29udGVudDt0aGlzLl9fcmVhZG9ubHkoXCJjaGlsZHJlblwiLFtdLmNvbmNhdChvKG4ucXVlcnlTZWxlY3RvckFsbChsLnNlbGVjdG9ycykpKSksdGhpcy5fX3JlYWRvbmx5KFwiaXNOZXN0ZWRTY3JvbGxiYXJcIiwhMSk7Zm9yKHZhciByPVtdLGk9ZTtpPWkucGFyZW50RWxlbWVudDspbC5zYkxpc3QuaGFzKGkpJiYodGhpcy5fX3JlYWRvbmx5KFwiaXNOZXN0ZWRTY3JvbGxiYXJcIiwhMCksci5wdXNoKGkpKTt0aGlzLl9fcmVhZG9ubHkoXCJwYXJlbnRzXCIscil9dmFyIHU9bigyKSxhPXIodSksYz1uKDc4KSxsPW4oODkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLlNtb290aFNjcm9sbGJhci5wcm90b3R5cGUsXCJfX3VwZGF0ZVRyZWVcIix7dmFsdWU6aSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0sZnVuY3Rpb24odCxlKXt9XSl9KTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfd29sZnk4N0V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ3dvbGZ5ODctZXZlbnRlbWl0dGVyJyk7XG5cbnZhciBfd29sZnk4N0V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93b2xmeTg3RXZlbnRlbWl0dGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmVzaXplID0gZnVuY3Rpb24gKF9ldmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFJlc2l6ZSwgX2V2ZW50RW1pdHRlcik7XG5cbiAgZnVuY3Rpb24gUmVzaXplKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNpemUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlc2l6ZSkuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5vblJlc2l6ZUhhbmRsZSA9IF90aGlzLm9uUmVzaXplLmJpbmQoX3RoaXMpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF90aGlzLm9uUmVzaXplSGFuZGxlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCBfdGhpcy5vblJlc2l6ZUhhbmRsZSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc2l6ZSwgW3tcbiAgICBrZXk6ICdvblJlc2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aW1lcyA9IDA7XG5cbiAgICAgICAgdGhpcy5lbWl0RXZlbnQoJ3Jlc2l6ZTpzdGFydCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5oYW5kbGUgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnRpbWVzID0gMDtcblxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5oYW5kbGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhhbmRsZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgaWYgKCsrdGhpcy50aW1lcyA9PT0gMTApIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy50aW1lcyA9IDA7XG5cbiAgICAgICAgICB0aGlzLmVtaXRFdmVudCgncmVzaXplOmVuZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaGFuZGxlID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemVIYW5kbGUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5vblJlc2l6ZUhhbmRsZSk7XG5cbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlc2l6ZTtcbn0oX3dvbGZ5ODdFdmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXNpemU7XG4iLCIvKiFcbiAqIEV2ZW50RW1pdHRlciB2NC4yLjExIC0gZ2l0LmlvL2VlXG4gKiBVbmxpY2Vuc2UgLSBodHRwOi8vdW5saWNlbnNlLm9yZy9cbiAqIE9saXZlciBDYWxkd2VsbCAtIGh0dHA6Ly9vbGkubWUudWsvXG4gKiBAcHJlc2VydmVcbiAqL1xuXG47KGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBDbGFzcyBmb3IgbWFuYWdpbmcgZXZlbnRzLlxuICAgICAqIENhbiBiZSBleHRlbmRlZCB0byBwcm92aWRlIGV2ZW50IGZ1bmN0aW9uYWxpdHkgaW4gb3RoZXIgY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudEVtaXR0ZXIgTWFuYWdlcyBldmVudCByZWdpc3RlcmluZyBhbmQgZW1pdHRpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge31cblxuICAgIC8vIFNob3J0Y3V0cyB0byBpbXByb3ZlIHNwZWVkIGFuZCBzaXplXG4gICAgdmFyIHByb3RvID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZTtcbiAgICB2YXIgZXhwb3J0cyA9IHRoaXM7XG4gICAgdmFyIG9yaWdpbmFsR2xvYmFsVmFsdWUgPSBleHBvcnRzLkV2ZW50RW1pdHRlcjtcblxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgbGlzdGVuZXIgZm9yIHRoZSBldmVudCBpbiBpdHMgc3RvcmFnZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gbGlzdGVuZXJzIEFycmF5IG9mIGxpc3RlbmVycyB0byBzZWFyY2ggdGhyb3VnaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gbG9vayBmb3IuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBJbmRleCBvZiB0aGUgc3BlY2lmaWVkIGxpc3RlbmVyLCAtMSBpZiBub3QgZm91bmRcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgaSA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgYSBtZXRob2Qgd2hpbGUga2VlcGluZyB0aGUgY29udGV4dCBjb3JyZWN0LCB0byBhbGxvdyBmb3Igb3ZlcndyaXRpbmcgb2YgdGFyZ2V0IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSB0YXJnZXQgbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgYWxpYXNlZCBtZXRob2RcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbGlhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhbGlhc0Nsb3N1cmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tuYW1lXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3RlbmVyIGFycmF5IGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIFdpbGwgaW5pdGlhbGlzZSB0aGUgZXZlbnQgb2JqZWN0IGFuZCBsaXN0ZW5lciBhcnJheXMgaWYgcmVxdWlyZWQuXG4gICAgICogV2lsbCByZXR1cm4gYW4gb2JqZWN0IGlmIHlvdSB1c2UgYSByZWdleCBzZWFyY2guIFRoZSBvYmplY3QgY29udGFpbnMga2V5cyBmb3IgZWFjaCBtYXRjaGVkIGV2ZW50LiBTbyAvYmFbcnpdLyBtaWdodCByZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYmFyIGFuZCBiYXouIEJ1dCBvbmx5IGlmIHlvdSBoYXZlIGVpdGhlciBkZWZpbmVkIHRoZW0gd2l0aCBkZWZpbmVFdmVudCBvciBhZGRlZCBzb21lIGxpc3RlbmVycyB0byB0aGVtLlxuICAgICAqIEVhY2ggcHJvcGVydHkgaW4gdGhlIG9iamVjdCByZXNwb25zZSBpcyBhbiBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9uW118T2JqZWN0fSBBbGwgbGlzdGVuZXIgZnVuY3Rpb25zIGZvciB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgcHJvdG8uZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzKGV2dCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XG4gICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICAvLyBSZXR1cm4gYSBjb25jYXRlbmF0ZWQgYXJyYXkgb2YgYWxsIG1hdGNoaW5nIGV2ZW50cyBpZlxuICAgICAgICAvLyB0aGUgc2VsZWN0b3IgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24uXG4gICAgICAgIGlmIChldnQgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0ge307XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVtrZXldID0gZXZlbnRzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBldmVudHNbZXZ0XSB8fCAoZXZlbnRzW2V2dF0gPSBbXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgbGlzdCBvZiBsaXN0ZW5lciBvYmplY3RzIGFuZCBmbGF0dGVucyBpdCBpbnRvIGEgbGlzdCBvZiBsaXN0ZW5lciBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBsaXN0ZW5lcnMgUmF3IGxpc3RlbmVyIG9iamVjdHMuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb25bXX0gSnVzdCB0aGUgbGlzdGVuZXIgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIHByb3RvLmZsYXR0ZW5MaXN0ZW5lcnMgPSBmdW5jdGlvbiBmbGF0dGVuTGlzdGVuZXJzKGxpc3RlbmVycykge1xuICAgICAgICB2YXIgZmxhdExpc3RlbmVycyA9IFtdO1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBmbGF0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXJzW2ldLmxpc3RlbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmbGF0TGlzdGVuZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSByZXF1ZXN0ZWQgbGlzdGVuZXJzIHZpYSBnZXRMaXN0ZW5lcnMgYnV0IHdpbGwgYWx3YXlzIHJldHVybiB0aGUgcmVzdWx0cyBpbnNpZGUgYW4gb2JqZWN0LiBUaGlzIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlIGJ1dCBvdGhlcnMgbWF5IGZpbmQgaXQgdXNlZnVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IGluIGFuIG9iamVjdC5cbiAgICAgKi9cbiAgICBwcm90by5nZXRMaXN0ZW5lcnNBc09iamVjdCA9IGZ1bmN0aW9uIGdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuXG4gICAgICAgIGlmIChsaXN0ZW5lcnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgICAgIHJlc3BvbnNlW2V2dF0gPSBsaXN0ZW5lcnM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2UgfHwgbGlzdGVuZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBUaGUgbGlzdGVuZXIgd2lsbCBub3QgYmUgYWRkZWQgaWYgaXQgaXMgYSBkdXBsaWNhdGUuXG4gICAgICogSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBpdCBpcyBjYWxsZWQuXG4gICAgICogSWYgeW91IHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUgdGhlbiB0aGUgbGlzdGVuZXIgd2lsbCBiZSBhZGRlZCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBhdHRhY2ggdGhlIGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuICAgICAgICB2YXIgbGlzdGVuZXJJc1dyYXBwZWQgPSB0eXBlb2YgbGlzdGVuZXIgPT09ICdvYmplY3QnO1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIGZvciAoa2V5IGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnNba2V5XSwgbGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyc1trZXldLnB1c2gobGlzdGVuZXJJc1dyYXBwZWQgPyBsaXN0ZW5lciA6IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgICAgICAgICBvbmNlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIGFkZExpc3RlbmVyXG4gICAgICovXG4gICAgcHJvdG8ub24gPSBhbGlhcygnYWRkTGlzdGVuZXInKTtcblxuICAgIC8qKlxuICAgICAqIFNlbWktYWxpYXMgb2YgYWRkTGlzdGVuZXIuIEl0IHdpbGwgYWRkIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlXG4gICAgICogYXV0b21hdGljYWxseSByZW1vdmVkIGFmdGVyIGl0cyBmaXJzdCBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBhdHRhY2ggdGhlIGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmFkZE9uY2VMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZE9uY2VMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZExpc3RlbmVyKGV2dCwge1xuICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgYWRkT25jZUxpc3RlbmVyLlxuICAgICAqL1xuICAgIHByb3RvLm9uY2UgPSBhbGlhcygnYWRkT25jZUxpc3RlbmVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGFuIGV2ZW50IG5hbWUuIFRoaXMgaXMgcmVxdWlyZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgcmVnZXggdG8gYWRkIGEgbGlzdGVuZXIgdG8gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIElmIHlvdSBkb24ndCBkbyB0aGlzIHRoZW4gaG93IGRvIHlvdSBleHBlY3QgaXQgdG8ga25vdyB3aGF0IGV2ZW50IHRvIGFkZCB0bz8gU2hvdWxkIGl0IGp1c3QgYWRkIHRvIGV2ZXJ5IHBvc3NpYmxlIG1hdGNoIGZvciBhIHJlZ2V4PyBOby4gVGhhdCBpcyBzY2FyeSBhbmQgYmFkLlxuICAgICAqIFlvdSBuZWVkIHRvIHRlbGwgaXQgd2hhdCBldmVudCBuYW1lcyBzaG91bGQgYmUgbWF0Y2hlZCBieSBhIHJlZ2V4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBjcmVhdGUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uZGVmaW5lRXZlbnQgPSBmdW5jdGlvbiBkZWZpbmVFdmVudChldnQpIHtcbiAgICAgICAgdGhpcy5nZXRMaXN0ZW5lcnMoZXZ0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZXMgZGVmaW5lRXZlbnQgdG8gZGVmaW5lIG11bHRpcGxlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGV2dHMgQW4gYXJyYXkgb2YgZXZlbnQgbmFtZXMgdG8gZGVmaW5lLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmRlZmluZUV2ZW50cyA9IGZ1bmN0aW9uIGRlZmluZUV2ZW50cyhldnRzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZ0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVFdmVudChldnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZyb20gdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBXaGVuIHBhc3NlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSwgaXQgd2lsbCByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byByZW1vdmUgZnJvbSB0aGUgZXZlbnQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG4gICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyc1trZXldLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIHJlbW92ZUxpc3RlbmVyXG4gICAgICovXG4gICAgcHJvdG8ub2ZmID0gYWxpYXMoJ3JlbW92ZUxpc3RlbmVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGxpc3RlbmVycyBpbiBidWxrIHVzaW5nIHRoZSBtYW5pcHVsYXRlTGlzdGVuZXJzIG1ldGhvZC5cbiAgICAgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gYWRkIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqIFllYWgsIHRoaXMgZnVuY3Rpb24gZG9lcyBxdWl0ZSBhIGJpdC4gVGhhdCdzIHByb2JhYmx5IGEgYmFkIHRoaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoZmFsc2UsIGV2dCwgbGlzdGVuZXJzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiByZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSByZW1vdmVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJzIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoZXZ0LCBsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gUGFzcyB0aHJvdWdoIHRvIG1hbmlwdWxhdGVMaXN0ZW5lcnNcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyh0cnVlLCBldnQsIGxpc3RlbmVycyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVkaXRzIGxpc3RlbmVycyBpbiBidWxrLiBUaGUgYWRkTGlzdGVuZXJzIGFuZCByZW1vdmVMaXN0ZW5lcnMgbWV0aG9kcyBib3RoIHVzZSB0aGlzIHRvIGRvIHRoZWlyIGpvYi4gWW91IHNob3VsZCByZWFsbHkgdXNlIHRob3NlIGluc3RlYWQsIHRoaXMgaXMgYSBsaXR0bGUgbG93ZXIgbGV2ZWwuXG4gICAgICogVGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgZGV0ZXJtaW5lIGlmIHRoZSBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgKHRydWUpIG9yIGFkZGVkIChmYWxzZSkuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgeW91IGNhbiBhZGQvcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQvcmVtb3ZlZC5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYW5pcHVsYXRlIHRoZSBsaXN0ZW5lcnMgb2YgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByZW1vdmUgVHJ1ZSBpZiB5b3Ugd2FudCB0byByZW1vdmUgbGlzdGVuZXJzLCBmYWxzZSBpZiB5b3Ugd2FudCB0byBhZGQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZC9yZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQvcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLm1hbmlwdWxhdGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiBtYW5pcHVsYXRlTGlzdGVuZXJzKHJlbW92ZSwgZXZ0LCBsaXN0ZW5lcnMpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgdmFyIHNpbmdsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXIgOiB0aGlzLmFkZExpc3RlbmVyO1xuICAgICAgICB2YXIgbXVsdGlwbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzO1xuXG4gICAgICAgIC8vIElmIGV2dCBpcyBhbiBvYmplY3QgdGhlbiBwYXNzIGVhY2ggb2YgaXRzIHByb3BlcnRpZXMgdG8gdGhpcyBtZXRob2RcbiAgICAgICAgaWYgKHR5cGVvZiBldnQgPT09ICdvYmplY3QnICYmICEoZXZ0IGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgICAgICAgICAgZm9yIChpIGluIGV2dCkge1xuICAgICAgICAgICAgICAgIGlmIChldnQuaGFzT3duUHJvcGVydHkoaSkgJiYgKHZhbHVlID0gZXZ0W2ldKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRoZSBzaW5nbGUgbGlzdGVuZXIgc3RyYWlnaHQgdGhyb3VnaCB0byB0aGUgc2luZ3VsYXIgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZS5jYWxsKHRoaXMsIGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBwYXNzIGJhY2sgdG8gdGhlIG11bHRpcGxlIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZS5jYWxsKHRoaXMsIGksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNvIGV2dCBtdXN0IGJlIGEgc3RyaW5nXG4gICAgICAgICAgICAvLyBBbmQgbGlzdGVuZXJzIG11c3QgYmUgYW4gYXJyYXkgb2YgbGlzdGVuZXJzXG4gICAgICAgICAgICAvLyBMb29wIG92ZXIgaXQgYW5kIHBhc3MgZWFjaCBvbmUgdG8gdGhlIG11bHRpcGxlIG1ldGhvZFxuICAgICAgICAgICAgaSA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgc2luZ2xlLmNhbGwodGhpcywgZXZ0LCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIGEgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIElmIHlvdSBkbyBub3Qgc3BlY2lmeSBhbiBldmVudCB0aGVuIGFsbCBsaXN0ZW5lcnMgd2lsbCBiZSByZW1vdmVkLlxuICAgICAqIFRoYXQgbWVhbnMgZXZlcnkgZXZlbnQgd2lsbCBiZSBlbXB0aWVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVnZXggdG8gcmVtb3ZlIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gW2V2dF0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yLiBXaWxsIHJlbW92ZSBmcm9tIGV2ZXJ5IGV2ZW50IGlmIG5vdCBwYXNzZWQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiByZW1vdmVFdmVudChldnQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgZXZ0O1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGRpZmZlcmVudCB0aGluZ3MgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiBldnRcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IgdGhlIHNwZWNpZmllZCBldmVudFxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1tldnRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBldmVudHMgbWF0Y2hpbmcgdGhlIHJlZ2V4LlxuICAgICAgICAgICAgZm9yIChrZXkgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGluIGFsbCBldmVudHNcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgcmVtb3ZlRXZlbnQuXG4gICAgICpcbiAgICAgKiBBZGRlZCB0byBtaXJyb3IgdGhlIG5vZGUgQVBJLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUFsbExpc3RlbmVycyA9IGFsaWFzKCdyZW1vdmVFdmVudCcpO1xuXG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgb2YgeW91ciBjaG9pY2UuXG4gICAgICogV2hlbiBlbWl0dGVkLCBldmVyeSBsaXN0ZW5lciBhdHRhY2hlZCB0byB0aGF0IGV2ZW50IHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAgICogSWYgeW91IHBhc3MgdGhlIG9wdGlvbmFsIGFyZ3VtZW50IGFycmF5IHRoZW4gdGhvc2UgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIHRvIGV2ZXJ5IGxpc3RlbmVyIHVwb24gZXhlY3V0aW9uLlxuICAgICAqIEJlY2F1c2UgaXQgdXNlcyBgYXBwbHlgLCB5b3VyIGFycmF5IG9mIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCBhcyBpZiB5b3Ugd3JvdGUgdGhlbSBvdXQgc2VwYXJhdGVseS5cbiAgICAgKiBTbyB0aGV5IHdpbGwgbm90IGFycml2ZSB3aXRoaW4gdGhlIGFycmF5IG9uIHRoZSBvdGhlciBzaWRlLCB0aGV5IHdpbGwgYmUgc2VwYXJhdGUuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdIE9wdGlvbmFsIGFycmF5IG9mIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiBlbWl0RXZlbnQoZXZ0LCBhcmdzKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnNNYXAgPSB0aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCk7XG4gICAgICAgIHZhciBsaXN0ZW5lcnM7XG4gICAgICAgIHZhciBsaXN0ZW5lcjtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIHZhciByZXNwb25zZTtcblxuICAgICAgICBmb3IgKGtleSBpbiBsaXN0ZW5lcnNNYXApIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNNYXAuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVyc01hcFtrZXldLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIGkgPSBsaXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgcmV0dXJucyB0cnVlIHRoZW4gaXQgc2hhbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBldmVudFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZWl0aGVyIHdpdGggYSBiYXNpYyBjYWxsIG9yIGFuIGFwcGx5IGlmIHRoZXJlIGlzIGFuIGFyZ3MgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGxpc3RlbmVyLmxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MgfHwgW10pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gdGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lci5saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgb2YgZW1pdEV2ZW50XG4gICAgICovXG4gICAgcHJvdG8udHJpZ2dlciA9IGFsaWFzKCdlbWl0RXZlbnQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRseSBkaWZmZXJlbnQgZnJvbSBlbWl0RXZlbnQgaW4gdGhhdCBpdCB3aWxsIHBhc3MgaXRzIGFyZ3VtZW50cyBvbiB0byB0aGUgbGlzdGVuZXJzLCBhcyBvcHBvc2VkIHRvIHRha2luZyBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMgdG8gcGFzcyBvbi5cbiAgICAgKiBBcyB3aXRoIGVtaXRFdmVudCwgeW91IGNhbiBwYXNzIGEgcmVnZXggaW4gcGxhY2Ugb2YgdGhlIGV2ZW50IG5hbWUgdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXG4gICAgICogQHBhcmFtIHsuLi4qfSBPcHRpb25hbCBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChldnQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0RXZlbnQoZXZ0LCBhcmdzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBhZ2FpbnN0IHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy4gSWYgYVxuICAgICAqIGxpc3RlbmVycyByZXR1cm4gdmFsdWUgbWF0Y2hlcyB0aGUgb25lIHNldCBoZXJlIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkXG4gICAgICogYWZ0ZXIgZXhlY3V0aW9uLiBUaGlzIHZhbHVlIGRlZmF1bHRzIHRvIHRydWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBuZXcgdmFsdWUgdG8gY2hlY2sgZm9yIHdoZW4gZXhlY3V0aW5nIGxpc3RlbmVycy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5zZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiBzZXRPbmNlUmV0dXJuVmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb25jZVJldHVyblZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGFnYWluc3Qgd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLiBJZlxuICAgICAqIHRoZSBsaXN0ZW5lcnMgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhpcyBvbmUgdGhlbiBpdCBzaG91bGQgYmUgcmVtb3ZlZFxuICAgICAqIGF1dG9tYXRpY2FsbHkuIEl0IHdpbGwgcmV0dXJuIHRydWUgYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4geyp8Qm9vbGVhbn0gVGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgZm9yIG9yIHRoZSBkZWZhdWx0LCB0cnVlLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RvLl9nZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiBfZ2V0T25jZVJldHVyblZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnX29uY2VSZXR1cm5WYWx1ZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb25jZVJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgZXZlbnRzIG9iamVjdCBhbmQgY3JlYXRlcyBvbmUgaWYgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBldmVudHMgc3RvcmFnZSBvYmplY3QuXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uX2dldEV2ZW50cyA9IGZ1bmN0aW9uIF9nZXRFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgZ2xvYmFsIHtAbGluayBFdmVudEVtaXR0ZXJ9IHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIHZlcnNpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gTm9uIGNvbmZsaWN0aW5nIEV2ZW50RW1pdHRlciBjbGFzcy5cbiAgICAgKi9cbiAgICBFdmVudEVtaXR0ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICAgIGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gb3JpZ2luYWxHbG9iYWxWYWx1ZTtcbiAgICAgICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbiAgICB9O1xuXG4gICAgLy8gRXhwb3NlIHRoZSBjbGFzcyBlaXRoZXIgdmlhIEFNRCwgQ29tbW9uSlMgb3IgdGhlIGdsb2JhbCBvYmplY3RcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuICAgIH1cbn0uY2FsbCh0aGlzKSk7XG4iXX0=
